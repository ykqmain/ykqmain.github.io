<!DOCTYPE html>


  <html class="dark page-post">


<head>
  <meta charset="utf-8">
  
  <title>hexo搭建博客 | iAnna</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="blog,hexo,GitHub,Markdown," />
  

  <meta name="description" content="用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。  hexo环境搭建 安装Git  安装Node.Js Node.Js官网  安装Hexo">
<meta name="keywords" content="blog,hexo,GitHub,Markdown">
<meta property="og:type" content="article">
<meta property="og:title" content="hexo搭建博客">
<meta property="og:url" content="http://blog.ykqmain.com/hexo/index.html">
<meta property="og:site_name" content="iAnna">
<meta property="og:description" content="用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。  hexo环境搭建 安装Git  安装Node.Js Node.Js官网  安装Hexo">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-07-13T06:00:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="hexo搭建博客">
<meta name="twitter:description" content="用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。  hexo环境搭建 安装Git  安装Node.Js Node.Js官网  安装Hexo">

  

  
    <link rel="icon" href="/favicon.ico">
  

  <link href="/css/styles.css?v=c114cben" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?e099b1fb950aeffc10d29d55d4f65d59";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  
  <script type="text/javascript">
	(function(){
	    var bp = document.createElement('script');
	    var curProtocol = window.location.protocol.split(':')[0];
	    if (curProtocol === 'https') {
	        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	    }
	    else {
	        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	    }
	    var s = document.getElementsByTagName("script")[0];
	    s.parentNode.insertBefore(bp, s);
	})();
  </script>



  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">更多</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">更多</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/link/"
            rel="noopener noreferrer"
            target="_self"
            >
            友链
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="ROUND_RECT"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
    </ul>
  </div>


</div>




<div class="content content-post CENTER">
   <article id="post-hexo搭建博客" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">hexo搭建博客</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2015.12.10</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>Yang</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/计算机/">计算机</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <p>用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。</p>
<p><br></p>
<h3 id="hexo环境搭建"><a href="#hexo环境搭建" class="headerlink" title="hexo环境搭建"></a>hexo环境搭建</h3><ol>
<li><p>安装Git</p>
</li>
<li><p>安装Node.Js</p>
<p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.Js官网</a></p>
</li>
<li><p>安装Hexo</p>
<a id="more"></a>
<p><a href="https://hexo.io" target="_blank" rel="noopener">Hexo官网</a></p>
<ol>
<li><p>打开终端，输入<code>npm install hexo-cli -g</code>，静静等待安装完毕。</p>
</li>
<li><p>创建Hexo目录</p>
<p>找一个方便的地方创建一个文件夹，假设命名为<code>Blog</code></p>
<p> (<em>注:你以后的博客操作都在这个文件夹内，尽量全英文路径，避免不必要的问题，建议你创建这个文件夹的快捷方式到桌面，方便操作</em>)</p>
</li>
<li><p>用<code>cd</code> 命令进入 刚刚创建的<code>Blog</code> 目录，输入 <code>hexo init</code></p>
</li>
<li><p>等待完成后输入 <code>npm install</code></p>
</li>
<li><p>等待完成后输入 <code>npm install hexo-server</code> （失败在命令前加<code>sudo</code> 或<code>以管理员身份运行cmd</code> ）</p>
</li>
<li><p>等待完成后输入 <code>npm install hexo-deployer-git --save</code></p>
<p>RSS订阅：</p>
<p><code>npm install hexo-generator-feed --save</code></p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  <span class="keyword">type</span>: atom</span><br><span class="line">  path: atom.<span class="built_in">xml</span></span><br><span class="line">  limit: <span class="literal">false</span> #Maximum number of posts <span class="keyword">in</span> the feed (Use <span class="number">0</span> <span class="literal">or</span> <span class="literal">false</span> <span class="keyword">to</span> show <span class="literal">all</span> posts)</span><br><span class="line">  hub:</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>站点地图插件：</p>
<p><code>npm install hexo-generator-sitemap --save</code></p>
<p><code>npm install hexo-generator-baidu-sitemap --save</code></p>
<p>搜索：</p>
<p><code>npm install hexo-search --save</code></p>
</li>
<li><p>至此，hexo环境就已经搭建好了</p>
</li>
</ol>
</li>
</ol>
<p><br></p>
<h3 id="创建Github仓库"><a href="#创建Github仓库" class="headerlink" title="创建Github仓库"></a>创建Github仓库</h3><p>hexo建博客，不一定要Github，但是一般部署在Github上，这里就以Github为例。</p>
<ol>
<li><p>生成<code>ssh keys</code>，请参考<a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" target="_blank" rel="noopener">Generating a new SSH key</a> 或者 <a href="http://git-scm.com/book/zh/v2/服务器上的-Git-生成-SSH-公钥" target="_blank" rel="noopener">Git-生成-SSH-公钥</a> （这个很重要）</p>
</li>
<li><p>Mac生成的<code>ssh key</code> 在 <code>~/.ssh/</code>下，复制<code>id_rsa.pub</code>内容，粘贴到GitHub的网站的<code>Settings - SSH and GPG keys</code>中</p>
</li>
<li><p>测试ssh，<code>ssh -T git@github.com</code></p>
</li>
<li><p>查看用户信息</p>
<p><code>git config --list</code></p>
</li>
<li><p>回到Github首页，点击”New repository”，新建一个库。</p>
</li>
<li><p>输入Repository name: <code>yourname.github.io</code> (yourname与你的注册用户名一致,这个就是你博客的域名了，一定要连后面github.io输入完整) ，其它设置默认，创建。</p>
</li>
<li><p>点击刚刚的库，找到<code>Setting</code> ，进入设置，点击<code>Launch automatic page generator</code> ，点击底部的<code>Continue to layouts</code></p>
</li>
<li><p>随意选择一个主题，最后点击<code>Publish page</code> ，发布github默认生成的一个静态站点 。</p>
</li>
<li><p>至此，Github上的操作就完成了。</p>
</li>
</ol>
<p><br></p>
<h3 id="博客配置"><a href="#博客配置" class="headerlink" title="博客配置"></a>博客配置</h3><p>进入本地的<code>blog</code> 文件夹，这里简述重要文件(夹)的作用。</p>
<table>
<thead>
<tr>
<th>文件名</th>
<th style="text-align:center"></th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>_config.yml</td>
<td style="text-align:center">———</td>
<td>配置文件</td>
</tr>
<tr>
<td>source</td>
<td style="text-align:center">———</td>
<td>博客的文章</td>
</tr>
<tr>
<td>themes</td>
<td style="text-align:center">———</td>
<td>主题</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>博客的配置，就是配置<code>_config.yml</code> 文件，用编辑器打开。</p>
<p>（注意：本文件的配置，冒号后面的空格不可删除，比如<code>title: 博客名字</code>，这里冒号后面有一个空格，如果没有空格会报错）</p>
<p>以下是需要配置的，其余默认即可。</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">title</span>: 博客名字</span><br><span class="line"><span class="attribute">subtitle</span>: 副标题</span><br><span class="line"><span class="attribute">description</span>: 博客描述</span><br><span class="line"><span class="attribute">author</span>: 作者</span><br><span class="line"><span class="attribute">language</span>: 语言(中文就填 zh-CN)</span><br><span class="line"><span class="attribute">timezone</span>: 时区(不填写，则会根据你的系统时间确定)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">url</span>: 博客网址(http://XXXXXX)</span><br><span class="line"><span class="attribute">permalink</span>: 永久链接格式(参考https://hexo.io/zh-cn/docs/permalinks.html)</span><br><span class="line"></span><br><span class="line"><span class="attribute">per_page</span>: 10 //每页的文章数</span><br><span class="line"></span><br><span class="line">#站点地图</span><br><span class="line"><span class="attribute">sitemap:</span></span><br><span class="line">  path: sitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="attribute">baidusitemap:</span></span><br><span class="line">  path: baidusitemap.xml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">theme</span>: 主题名字(在themes文件夹下面的文件夹名)</span><br><span class="line"></span><br><span class="line">（下面的2个yourname换成你的Github用户名，其余不变）</span><br><span class="line"><span class="attribute">deploy:</span></span><br><span class="line">  type: git</span><br><span class="line">  <span class="attribute">repository</span>: https://github.com/yourname/yourname.github.io</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h3><ol>
<li>自己写主题或者下载主题到 <code>blog</code> &gt; <code>themes</code> 文件夹下，主题是一个文件夹，假设名字为 <code>name</code> , 将 <code>blog</code> 下面的 <code>_config.yml</code> 文件里面的<code>theme:</code> 后面写<code>name</code> 即可应用主题。</li>
<li>一般主题文件夹里面还会有一个<code>_config.yml</code> 文件，这是主题的配置，如何配置请阅读各主题的 <code>README.md</code> 。</li>
</ol>
<p><br></p>
<h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><ol>
<li>假设你的域名为 <code>blog.abc.com</code> ,新建一个名为 <code>CNAME</code> 的文件，内容为 <code>blog.abc.com</code> ，<strong>不要有任何文件后缀</strong> 。放到 <code>blog</code> &gt; <code>source</code> 下面，以后不要删除。</li>
<li>然后到你的DNS解析处，新建 <code>CNAME</code> 解析，主机记录为<code>blog</code> ,记录值为 <code>yourname.github.io</code>  。解析生效后可以通过 <code>blog.abc.com</code> 访问你的博客了。</li>
</ol>
<p><br></p>
<h3 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h3><p>进入，<code>blog</code> &gt; <code>source</code> &gt; <code>_posts</code> ，创建 <code>.md</code> 的文件，你的所有文章都将放在这个文件夹下，并且都为.md （或者 .html） 文件。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">id</span>: 文章ID (可选)</span><br><span class="line"></span><br><span class="line"><span class="attribute">title</span>: 博客标题</span><br><span class="line"></span><br><span class="line"><span class="attribute">date</span>: 2016-00-00 (时间的格式，中间是短横线)</span><br><span class="line"></span><br><span class="line"><span class="attribute">categories</span>: 分类</span><br><span class="line"></span><br><span class="line"><span class="attribute">tags</span>: 标签(多标签)</span><br><span class="line">- 1</span><br><span class="line">- 2</span><br><span class="line"></span><br><span class="line">--- (分割线必不可少)</span><br><span class="line"></span><br><span class="line">	博客正文</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><em>更多：</em></p>
<ul>
<li>写博客需要遵循<code>Markdown语法</code>，Markdown兼容部分html语法。Markdown语法有不同的标准，常用的是GitHub标准(GitHub Flavored Markdown)，简称 <a href="https://help.github.com/categories/writing-on-github/" target="_blank" rel="noopener">GFM</a></li>
<li>用<code>&lt;!--more--&gt;</code> 表示截断，前面的内容会变成预览</li>
<li>用<code>&lt;br&gt;</code> 增加换行</li>
</ul>
<p><br></p>
<h3 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h3><p>每次写完博客把文件扔到<code>_posts</code>文件夹里面，就该部署了，很容易的四条命令。</p>
<p>首先打开终端（cmd），cd到<code>blog</code> 文件夹（<em>注意：cd到 <code>blog</code> 即可</em>）</p>
<ul>
<li><code>hexo g</code>  在本地生成静态页面</li>
<li><code>hexo s</code> 本地预览（默认端口4000，复制 <code>http://0.0.0.0:4000</code> （或<code>http://localhost:4000</code>）到浏览器可以预览效果， <code>Ctrl + c</code> 关闭server）</li>
<li><code>hexo clean</code>  清理缓存</li>
</ul>
<p>到这里你还可以修改，最后一步</p>
<ul>
<li><code>hexo d</code>  部署，完成</li>
</ul>
<p><strong>注意：</strong></p>
<ul>
<li>每次<code>hexo d</code> 之前，必须 <code>hexo g</code> 。这两个是写完博客之后必须用的命令。</li>
<li>每次 <code>hexo s</code> 之前，也必须  <code>hexo g</code> 。这两个命令可以合并为<code>hexo d -g</code>。</li>
<li><code>hexo clean</code> 和 <code>hexo s</code> 是可选命令。</li>
</ul>
<p><br></p>
<h3 id="更新博客"><a href="#更新博客" class="headerlink" title="更新博客"></a>更新博客</h3><p>写完Markdown，扔<code>_posts</code> 里面，打开终端，cd到<code>blog</code> ， <code>hexo d -g</code>。</p>
<p><br></p>
<h3 id="重装／切换-系统"><a href="#重装／切换-系统" class="headerlink" title="重装／切换 系统"></a>重装／切换 系统</h3><ol>
<li><p>备份 <code>~/.ssh</code> 里面的文件，备份 <code>blog</code> 文件夹。(没有备份则需要重新生成)</p>
</li>
<li><p>在 新系统 中安装 Node.Js，<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.Js官网</a></p>
</li>
<li><p>打开终端，输入<code>npm install hexo-cli -g</code></p>
</li>
<li><p>仓库的<code>Branch protection for master</code>问题</p>
</li>
</ol>
<p><br></p>
<hr>
<p><br></p>
<p>Hexo报错，<code>(node:2416) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</code></p>
<p>因为node.js从8.0开始就已经弃用了前面提到的fs.SyncWriteStream方法，</p>
<p>在Hexo博客目录下，输入：<code>npm install hexo-fs --save</code></p>
<p><br></p>
<p><strong>【注】</strong> 如果GitHub开启了两步验证，则需要生成一个<code>personal access token</code>来代替密码，具体参考 <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/" target="_blank" rel="noopener">Creating a personal access token for the command line</a></p>
<p><strong>Enjoy it~</strong></p>
<p>≖‿≖✧</p>
<p><br><br></p>

    
  </div>

</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/first/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/liqi/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>





   
      <div class="git"></div>
   
</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/link/"
              rel="noopener noreferrer"
              target="_self"
              >
              友链
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="ROUND_RECT"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
