<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>iAnna</title>
  
  <subtitle>Life &amp; Technology</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.ykqmain.com/"/>
  <updated>2019-03-12T13:14:13.966Z</updated>
  <id>http://blog.ykqmain.com/</id>
  
  <author>
    <name>秋风木叶</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>滕王阁序</title>
    <link href="http://blog.ykqmain.com/twgx/"/>
    <id>http://blog.ykqmain.com/twgx/</id>
    <published>2019-03-11T16:00:00.000Z</published>
    <updated>2019-03-12T13:14:13.966Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>作者：【唐】王勃（约650年～约676年），字子安，古绛州龙门（今山西河津）人。</p></blockquote><p><br></p><p>豫章故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺下陈蕃之榻。雄州雾列，俊采星驰。台隍枕夷夏之交，宾主尽东南之美。都督阎公之雅望，棨戟遥临；宇文新州之懿范，襜帷暂驻。十旬休假，胜友如云；千里逢迎，高朋满座。腾蛟起凤，孟学士之词宗；紫电青霜，王将军之武库。家君作宰，路出名区；童子何知，躬逢胜饯。</p><p>时维九月，序属三秋。潦水尽而寒潭清，烟光凝而暮山紫。俨骖騑于上路，访风景于崇阿；临帝子之长洲，得天人之旧馆。层峦耸翠，上出重霄；飞阁流丹，下临无地。鹤汀凫渚，穷岛屿之萦回；桂殿兰宫，即冈峦之体势。</p><p>披绣闼，俯雕甍，山原旷其盈视，川泽纡其骇瞩。闾阎扑地，钟鸣鼎食之家；舸舰弥津，青雀黄龙之舳。云销雨霁，彩彻区明。落霞与孤鹜齐飞，秋水共长天一色。渔舟唱晚，响穷彭蠡之滨；雁阵惊寒，声断衡阳之浦。</p><p>遥襟甫畅，逸兴遄飞。爽籁发而清风生，纤歌凝而白云遏。睢园绿竹，气凌彭泽之樽；邺水朱华，光照临川之笔。四美具，二难并。穷睇眄于中天，极娱游于暇日。天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。望长安于日下，目吴会于云间。地势极而南溟深，天柱高而北辰远。关山难越，谁悲失路之人？萍水相逢，尽是他乡之客。怀帝阍而不见，奉宣室以何年？</p><p>嗟乎！时运不齐，命途多舛。冯唐易老，李广难封。屈贾谊于长沙，非无圣主；窜梁鸿于海曲，岂乏明时？所赖君子见机，达人知命。老当益壮，宁移白首之心？穷且益坚，不坠青云之志。酌贪泉而觉爽，处涸辙以犹欢。北海虽赊，扶摇可接；东隅已逝，桑榆非晚。孟尝高洁，空余报国之情；阮籍猖狂，岂效穷途之哭！</p><p>勃，三尺微命，一介书生。无路请缨，等终军之弱冠；有怀投笔，慕宗悫之长风。舍簪笏于百龄，奉晨昏于万里。非谢家之宝树，接孟氏之芳邻。他日趋庭，叨陪鲤对；今兹捧袂，喜托龙门。杨意不逢，抚凌云而自惜；钟期既遇，奏流水以何惭？</p><p>呜乎！胜地不常，盛筵难再；兰亭已矣，梓泽丘墟。临别赠言，幸承恩于伟饯；登高作赋，是所望于群公。敢竭鄙怀，恭疏短引；一言均赋，四韵俱成。请洒潘江，各倾陆海云尔：</p><p>滕王高阁临江渚，佩玉鸣鸾罢歌舞。<br>画栋朝飞南浦云，珠帘暮卷西山雨。<br>闲云潭影日悠悠，物换星移几度秋。<br>阁中帝子今何在？槛外长江空自流。</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;作者：【唐】王勃（约650年～约676年），字子安，古绛州龙门（今山西河津）人。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;豫章故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="唐" scheme="http://blog.ykqmain.com/tags/%E5%94%90/"/>
    
      <category term="辞赋" scheme="http://blog.ykqmain.com/tags/%E8%BE%9E%E8%B5%8B/"/>
    
      <category term="骈文" scheme="http://blog.ykqmain.com/tags/%E9%AA%88%E6%96%87/"/>
    
      <category term="美景" scheme="http://blog.ykqmain.com/tags/%E7%BE%8E%E6%99%AF/"/>
    
      <category term="抒情" scheme="http://blog.ykqmain.com/tags/%E6%8A%92%E6%83%85/"/>
    
      <category term="怀古" scheme="http://blog.ykqmain.com/tags/%E6%80%80%E5%8F%A4/"/>
    
      <category term="励志" scheme="http://blog.ykqmain.com/tags/%E5%8A%B1%E5%BF%97/"/>
    
      <category term="经典" scheme="http://blog.ykqmain.com/tags/%E7%BB%8F%E5%85%B8/"/>
    
  </entry>
  
  <entry>
    <title>Flask实践</title>
    <link href="http://blog.ykqmain.com/flask/"/>
    <id>http://blog.ykqmain.com/flask/</id>
    <published>2019-01-23T16:00:00.000Z</published>
    <updated>2019-02-04T07:19:16.775Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">开发环境</span><br><span class="line"><span class="selector-tag">Python</span> 3<span class="selector-class">.7</span><span class="selector-class">.2</span></span><br><span class="line"><span class="selector-tag">Flask</span> 1<span class="selector-class">.0</span><span class="selector-class">.2</span></span><br><span class="line"></span><br><span class="line">本机</span><br><span class="line"><span class="selector-tag">macOS</span> 10<span class="selector-class">.14</span><span class="selector-class">.3</span></span><br><span class="line"></span><br><span class="line">远程</span><br><span class="line"><span class="selector-tag">Linux</span> <span class="selector-tag">version</span> 4<span class="selector-class">.14</span><span class="selector-class">.77-81</span><span class="selector-class">.59</span><span class="selector-class">.amzn2</span><span class="selector-class">.x86_64</span></span><br><span class="line"></span><br><span class="line">其他软件</span><br><span class="line"><span class="selector-tag">Atom</span> <span class="selector-tag">Editor</span> 1<span class="selector-class">.34</span></span><br><span class="line"><span class="selector-tag">Postman</span> 6<span class="selector-class">.7</span><span class="selector-class">.2</span></span><br></pre></td></tr></table></figure><p>学完了Python，就开始Flask实践。</p><p><br></p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li><p>虚拟环境</p><p> 在虚拟环境安装私有包，保持全局的干净整洁。</p><p> <code>新建一个文件夹</code></p><p> 创建虚拟环境：</p><p> <code>python3 -m venv venv</code><br><br></p></li><li><p>激活虚拟环境</p><p> <code>source venv/bin/activate</code></p><p> 激活虚拟环境后会修改命令提示符，加入环境名<code>(venv) $</code>，在虚拟环境中使用<code>python3</code>命令，调用的是虚拟环境中的解释器。<br><br></p></li><li><p>安装Python包</p><p> 使用pip命令安装Python包，<code>pip3 install XXX</code></p><p> 使用<code>pip3 freeze</code>查看安装了哪些包，生成<code>requirements.txt</code>文件，<code>pip3 freeze &gt;requirements.txt</code></p><p> 安装所有需求包，<code>pip3 install -r requirements.txt</code></p><p> 安装Flask，<code>pip3 install flask</code></p></li></ol><p><br></p><h2 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h2><ol><li><p>初始化</p> <figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br></pre></td></tr></table></figure></li></ol><p><br></p><ol start="2"><li><p>路由和视图</p><p> 处理URL和函数之间关系的程序称为路由，在Flask中定义路由的最简便方式，是使用应用实例提供的<code>app.route</code>装饰器。</p> <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@app.route(<span class="string">'/'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World!'</span></span><br></pre></td></tr></table></figure><p> <code>app.add_url_rule()</code>方法，接受3个参数，URL、端点名、视图函数。</p> <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World!'</span></span><br><span class="line"></span><br><span class="line">app.add_url_rule(<span class="string">'/'</span>, <span class="string">'index'</span>, index)</span><br></pre></td></tr></table></figure></li></ol><p><br></p><ol start="3"><li>一个完整的应用</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hello.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/user/&lt;name&gt;')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">user</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, &#123;&#125;!'</span>.format(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><p>在虚拟环境的终端中，输入<code>python3 hello.py</code>启动Flask。</p><p><br></p><h2 id="GET和POST"><a href="#GET和POST" class="headerlink" title="GET和POST"></a>GET和POST</h2><p>使用浏览器(Safari 12)和Postman(6.7.2)来测试各种GET和POST。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, jsonify</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/', methods=['get'])    # 一个简单的get请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World!'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_number</span><span class="params">(s)</span>:</span>    <span class="comment"># 判断字符串是否为数字的函数</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        float(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">import</span> unicodedata</span><br><span class="line">        unicodedata.numeric(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">except</span> (TypeError, ValueError):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/api', methods=['get'])    # 通过get请求判断"http://127.0.0.1:5000/api?number=X"中X是奇数还是偶数</span></span><br><span class="line"><span class="comment"># 使用浏览器访问网址</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">api</span><span class="params">()</span>:</span></span><br><span class="line">    s = request.args.get(<span class="string">'number'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> is_number(s):    <span class="comment"># 判断是否是数字</span></span><br><span class="line">        <span class="keyword">if</span> float(s) % <span class="number">2</span> == <span class="number">0</span>:    <span class="comment"># 判断是否是偶数，如果不加float会报错，not all arguments converted during string formatting</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">"偶数"</span></span><br><span class="line">        <span class="keyword">elif</span> float(s) % <span class="number">2</span> != <span class="number">0</span>:    <span class="comment"># 判断是否是奇数</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">"奇数"</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"数据错误"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route('/', methods=['post'])    # 通过post请求和json数据判断number是奇数还是偶数</span></span><br><span class="line"><span class="comment"># 利用Postman发送post请求</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">response</span><span class="params">()</span>:</span></span><br><span class="line">    data = request.get_json()</span><br><span class="line">    <span class="comment"># 从请求的包体里取出数据并格式化为dict格式</span></span><br><span class="line">    print(data)</span><br><span class="line"></span><br><span class="line">    s = data.get(<span class="string">'number'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> is_number(s):    <span class="comment"># 判断是否是数字</span></span><br><span class="line">        <span class="keyword">if</span> s % <span class="number">2</span> == <span class="number">0</span>:    <span class="comment"># 判断是否是偶数</span></span><br><span class="line">            <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"偶数"</span>&#125;)</span><br><span class="line">        <span class="keyword">elif</span> s % <span class="number">2</span> != <span class="number">0</span>:    <span class="comment"># 判断是否是奇数</span></span><br><span class="line">            <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"奇数"</span>&#125;)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"数据错误"</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><p><br></p><p>用类视图改写上面的函数视图：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, jsonify</span><br><span class="line"><span class="keyword">from</span> flask.views <span class="keyword">import</span> MethodView</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_number</span><span class="params">(s)</span>:</span>    <span class="comment"># 判断字符串是否为数字</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        float(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">import</span> unicodedata</span><br><span class="line">        unicodedata.numeric(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">except</span> (TypeError, ValueError):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserView</span><span class="params">(MethodView)</span>:</span></span><br><span class="line">    methods = [<span class="string">'GET'</span>, <span class="string">'POST'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dispatch_request</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:    <span class="comment"># 当客户端通过get方法进行访问的时候</span></span><br><span class="line">            s = request.args.get(<span class="string">'number'</span>)</span><br><span class="line">            <span class="keyword">if</span> is_number(s):    <span class="comment"># 判断是否是数字</span></span><br><span class="line">                <span class="keyword">if</span> float(s) % <span class="number">2</span> == <span class="number">0</span>:    <span class="comment"># 判断是否是偶数，如果不加float会报错，not all arguments converted during string formatting</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"偶数"</span></span><br><span class="line">                <span class="keyword">elif</span> float(s) % <span class="number">2</span> != <span class="number">0</span>:    <span class="comment"># 判断是否是奇数</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"奇数"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"数据错误"</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> request.method == <span class="string">'POST'</span>:    <span class="comment"># 当客户端通过post方法进行访问的时候</span></span><br><span class="line">            data = request.get_json()</span><br><span class="line">            print(data)</span><br><span class="line">            print(type(data))</span><br><span class="line"></span><br><span class="line">            s = data.get(<span class="string">'number'</span>)</span><br><span class="line">            <span class="keyword">if</span> is_number(s):    <span class="comment"># 判断是否是数字</span></span><br><span class="line">                <span class="keyword">if</span> s % <span class="number">2</span> == <span class="number">0</span>:    <span class="comment"># 判断是否是偶数</span></span><br><span class="line">                    <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"偶数"</span>&#125;)</span><br><span class="line">                <span class="keyword">elif</span> s % <span class="number">2</span> != <span class="number">0</span>:    <span class="comment"># 判断是否是奇数</span></span><br><span class="line">                    <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"奇数"</span>&#125;)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> jsonify(&#123;<span class="string">"msg"</span>: <span class="string">"数据错误"</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_view = UserView.as_view(<span class="string">'user'</span>)</span><br><span class="line"><span class="comment"># 将GET /user 请求绑定到UserView.get()方法上</span></span><br><span class="line">app.add_url_rule(<span class="string">'/user'</span>, view_func=user_view, methods=[<span class="string">'GET'</span>, ])</span><br><span class="line"><span class="comment"># 将POST /user 请求绑定到UserView.post()方法上</span></span><br><span class="line">app.add_url_rule(<span class="string">'/user'</span>, view_func=user_view, methods=[<span class="string">'POST'</span>, ])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure></p><p><br></p><h2 id="Flask的数据库基础操作"><a href="#Flask的数据库基础操作" class="headerlink" title="Flask的数据库基础操作"></a>Flask的数据库基础操作</h2><p>使用flask-sqlalchemy操作mysql实现增删改查。</p><p>安装Python包：<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 <span class="keyword">install</span> flask-sqlalchemy</span><br><span class="line">pip3 <span class="keyword">install</span> PyMySQL</span><br></pre></td></tr></table></figure></p><p>具体代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意使用的不同请求</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, jsonify</span><br><span class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">app.config[<span class="string">'SQLALCHEMY_DATABASE_URI'</span>] = <span class="string">'mysql+pymysql://root:密码@localhost:3306/test?charset=utf8'</span></span><br><span class="line">app.config[<span class="string">'SQLALCHEMY_TRACK_MODIFICATIONS'</span>] = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">mydb = SQLAlchemy(app)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Movie</span><span class="params">(mydb.Model)</span>:</span>    <span class="comment"># 创建一个表</span></span><br><span class="line">    __tablename__ = <span class="string">'movies'</span></span><br><span class="line">    id = mydb.Column(mydb.Integer, primary_key=<span class="keyword">True</span>)</span><br><span class="line">    name = mydb.Column(mydb.String(<span class="number">100</span>), unique=<span class="keyword">True</span>)</span><br><span class="line">    date = mydb.Column(mydb.Integer)</span><br><span class="line">    star = mydb.Column(mydb.Float, nullable=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;Name %r&gt;'</span> % self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取列表</span></span><br><span class="line"><span class="meta">@app.route('/users', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMovies</span><span class="params">()</span>:</span></span><br><span class="line">    data = Movie.query.all()</span><br><span class="line">    datas = []</span><br><span class="line">    <span class="keyword">for</span> movies <span class="keyword">in</span> data:</span><br><span class="line">        datas.append(&#123;<span class="string">'id'</span>: movies.id, <span class="string">'name'</span>: movies.name, <span class="string">'date'</span>: movies.date, <span class="string">'star'</span>: movies.star&#125;)</span><br><span class="line">    <span class="keyword">return</span> jsonify(data=datas)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加数据</span></span><br><span class="line"><span class="meta">@app.route('/user', methods=['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addMovie</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    adict = request.get_json()</span><br><span class="line">    name = adict.get(<span class="string">'name'</span>)</span><br><span class="line">    date = adict.get(<span class="string">'date'</span>)</span><br><span class="line">    star = adict.get(<span class="string">'star'</span>)</span><br><span class="line"></span><br><span class="line">    print(name, date, star)</span><br><span class="line"></span><br><span class="line">    movies = Movie(name=name, date=date, star=star)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        mydb.session.add(movies)</span><br><span class="line">        mydb.session.commit()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">        mydb.session.rollback()</span><br><span class="line">        mydb.session.flush()</span><br><span class="line">    userId = movies.id</span><br><span class="line">    <span class="keyword">if</span> (movies.id <span class="keyword">is</span> <span class="keyword">None</span>):</span><br><span class="line">        result = &#123;<span class="string">'msg'</span>: <span class="string">'添加失败'</span>&#125;</span><br><span class="line">        <span class="keyword">return</span> jsonify(data=result)</span><br><span class="line"></span><br><span class="line">    data = Movie.query.filter_by(id=userId).first()</span><br><span class="line">    result = &#123;<span class="string">'id'</span>: movies.id, <span class="string">'name'</span>: movies.name, <span class="string">'date'</span>: movies.date, <span class="string">'star'</span>: movies.star&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(data=result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取单条数据</span></span><br><span class="line"><span class="meta">@app.route('/user/&lt;int:userId&gt;', methods=['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getMovie</span><span class="params">(userId)</span>:</span></span><br><span class="line">    movies = Movie.query.filter_by(id=userId).first()</span><br><span class="line">    <span class="keyword">if</span> (movies <span class="keyword">is</span> <span class="keyword">None</span>):</span><br><span class="line">        result = &#123;<span class="string">'msg'</span>: <span class="string">'None'</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = &#123;<span class="string">'id'</span>: movies.id, <span class="string">'name'</span>: movies.name, <span class="string">'date'</span>: movies.date, <span class="string">'star'</span>: movies.star&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(data=result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改数据</span></span><br><span class="line"><span class="meta">@app.route('/user/&lt;int:userId&gt;', methods=['PATCH'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">updateMovie</span><span class="params">(userId)</span>:</span></span><br><span class="line"></span><br><span class="line">    adict = request.get_json()</span><br><span class="line">    name = adict.get(<span class="string">'name'</span>)</span><br><span class="line">    date = adict.get(<span class="string">'date'</span>)</span><br><span class="line">    star = adict.get(<span class="string">'star'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movies = Movie.query.filter_by(id=userId).first()</span><br><span class="line">        <span class="keyword">if</span> (movies <span class="keyword">is</span> <span class="keyword">None</span>):</span><br><span class="line">            result = &#123;<span class="string">'msg'</span>: <span class="string">'找不到要修改的记录'</span>&#125;</span><br><span class="line">            <span class="keyword">return</span> jsonify(data=result)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            movies.name = name</span><br><span class="line">            movies.date = date</span><br><span class="line">            movies.star = star</span><br><span class="line">            mydb.session.commit()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        mydb.session.rollback()</span><br><span class="line">        mydb.session.flush()</span><br><span class="line">    userId = movies.id</span><br><span class="line">    data = Movie.query.filter_by(id=userId).first()</span><br><span class="line">    result = &#123;<span class="string">'id'</span>: movies.id, <span class="string">'name'</span>: movies.name, <span class="string">'date'</span>: movies.date, <span class="string">'star'</span>: movies.star&#125;</span><br><span class="line">    <span class="keyword">return</span> jsonify(data=result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 删除数据</span></span><br><span class="line"><span class="comment"># @app.route('/user/&lt;int:userId&gt;', methods=['DELETE'])</span></span><br><span class="line"><span class="comment"># def deleteMovie(userId):</span></span><br><span class="line"><span class="comment">#     Movie.query.filter_by(id=userId).delete()</span></span><br><span class="line"><span class="comment">#     mydb.session.commit()</span></span><br><span class="line"><span class="comment">#     return getMovies()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除数据</span></span><br><span class="line"><span class="meta">@app.route('/user/delete', methods=['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteMovie</span><span class="params">()</span>:</span></span><br><span class="line">    adict = request.get_json()</span><br><span class="line">    id = adict.get(<span class="string">'id'</span>)</span><br><span class="line">    Movie.query.filter_by(id=id).delete()</span><br><span class="line">    mydb.session.commit()</span><br><span class="line">    <span class="keyword">return</span> getMovies()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># mydb.drop_all()</span></span><br><span class="line">    <span class="comment"># mydb.create_all()</span></span><br><span class="line">    app.run(debug=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><p><br></p><h2 id="Flask连接企业微信的自建应用"><a href="#Flask连接企业微信的自建应用" class="headerlink" title="Flask连接企业微信的自建应用"></a>Flask连接企业微信的自建应用</h2><ol><li>发送消息给自建应用</li></ol><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@app.route(<span class="string">'/wx'</span>, methods=[<span class="string">'post'</span>])</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendMsg</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">"touser"</span>: (<span class="string">'|'</span>).join(<span class="keyword">self</span>.userid.split(<span class="string">','</span>)),</span><br><span class="line">        <span class="string">"toparty"</span>: (<span class="string">'|'</span>).join(<span class="keyword">self</span>.partid.split(<span class="string">','</span>)),</span><br><span class="line">        <span class="comment"># "toparty":int(self.partid),</span></span><br><span class="line">        <span class="string">"msgtype"</span>: <span class="string">"text"</span>,</span><br><span class="line">        <span class="string">"agentid"</span>: <span class="keyword">self</span>.agent_id,</span><br><span class="line">        <span class="string">"text"</span>: &#123;</span><br><span class="line">            <span class="string">"content"</span>: request.get_json().get(<span class="string">"content"</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"safe"</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    print(data.get(<span class="string">'text'</span>))</span><br><span class="line"></span><br><span class="line">    requests.post(<span class="keyword">self</span>.send_msg_url.format(<span class="keyword">self</span>.access_token), json=data)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'success'</span></span><br></pre></td></tr></table></figure><p><br></p><ol start="2"><li>接收应用的消息，并回复相同的内容</li></ol><p>首先进行回调配置，改写腾讯官方的<code>WXBizMsgCrypt.py</code>工具，导入。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将原版本改写成Python3版</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="string">""" 对企业微信发送给企业后台的消息加解密示例代码.</span></span><br><span class="line"><span class="string">@copyright: Copyright (c) 1998-2014 Tencent Inc.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># ------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">import</span> xml.etree.cElementTree <span class="keyword">as</span> ET</span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> ierror</span><br><span class="line"></span><br><span class="line"><span class="comment"># import sys</span></span><br><span class="line"><span class="comment"># reload(sys)</span></span><br><span class="line"><span class="comment"># sys.setdefaultencoding('utf-8')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># import importlib</span></span><br><span class="line"><span class="comment"># importlib.reload(sys)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">关于Crypto.Cipher模块，ImportError: No module named 'Crypto'解决方案</span></span><br><span class="line"><span class="string">请到官方网站 https://www.dlitz.net/software/pycrypto/ 下载pycrypto。</span></span><br><span class="line"><span class="string">下载后，按照README中的“Installation”小节的提示进行pycrypto安装。</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FormatException</span><span class="params">(Exception)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">throw_exception</span><span class="params">(message, exception_class=FormatException)</span>:</span></span><br><span class="line">    <span class="string">"""my define raise exception function"""</span></span><br><span class="line">    <span class="keyword">raise</span> exception_class(message)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SHA1</span>:</span></span><br><span class="line">    <span class="string">"""计算企业微信的消息签名接口"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getSHA1</span><span class="params">(self, token, timestamp, nonce, encrypt)</span>:</span></span><br><span class="line">        <span class="string">"""用SHA1算法生成安全签名</span></span><br><span class="line"><span class="string">        @param token:  票据</span></span><br><span class="line"><span class="string">        @param timestamp: 时间戳</span></span><br><span class="line"><span class="string">        @param encrypt: 密文</span></span><br><span class="line"><span class="string">        @param nonce: 随机字符串</span></span><br><span class="line"><span class="string">        @return: 安全签名</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        sortlist = [token, timestamp, nonce, encrypt]</span><br><span class="line">        sortlist.sort()</span><br><span class="line">        sha = hashlib.sha1()</span><br><span class="line">        sha.update(<span class="string">""</span>.join(sortlist).encode(<span class="string">"utf-8"</span>))</span><br><span class="line">        <span class="keyword">return</span> ierror.WXBizMsgCrypt_OK, sha.hexdigest()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># try:</span></span><br><span class="line">        <span class="comment">#     sortlist = [token, timestamp, nonce, encrypt]</span></span><br><span class="line">        <span class="comment">#     sortlist.sort()</span></span><br><span class="line">        <span class="comment">#     sha = hashlib.sha1()</span></span><br><span class="line">        <span class="comment">#     sha.update("".join(sortlist))</span></span><br><span class="line">        <span class="comment">#     return ierror.WXBizMsgCrypt_OK, sha.hexdigest()</span></span><br><span class="line">        <span class="comment"># except Exception as e:</span></span><br><span class="line">        <span class="comment">#     print(e)</span></span><br><span class="line">        <span class="comment">#     return ierror.WXBizMsgCrypt_ComputeSignature_Error, None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JsonParse</span>:</span></span><br><span class="line">    <span class="string">"""提供提取消息格式中的密文及生成回复消息格式的接口"""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># json消息模板</span></span><br><span class="line">    AES_TEXT_RESPONSE_TEMPLATE = <span class="string">'''&#123;</span></span><br><span class="line"><span class="string">"Encrypt": "%(msg_encrypt)s",</span></span><br><span class="line"><span class="string">"MsgSignature": "%(msg_signaturet)s",</span></span><br><span class="line"><span class="string">"TimeStamp": %(timestamp)s,</span></span><br><span class="line"><span class="string">"Nonce": "%(nonce)s"</span></span><br><span class="line"><span class="string">&#125;'''</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">extract</span><span class="params">(self, jsontext)</span>:</span></span><br><span class="line">        <span class="string">"""提取出json数据包中的加密消息</span></span><br><span class="line"><span class="string">        @param jsontext: 待提取的json字符串</span></span><br><span class="line"><span class="string">        @return: 提取出的加密消息字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            json_dict = json.loads(jsontext)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_OK, json_dict[<span class="string">'Encrypt'</span>]</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_ParseXml_Error, <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(self, encrypt, signature, timestamp, nonce)</span>:</span></span><br><span class="line">        <span class="string">"""生成json消息</span></span><br><span class="line"><span class="string">        @param encrypt: 加密后的消息密文</span></span><br><span class="line"><span class="string">        @param signature: 安全签名</span></span><br><span class="line"><span class="string">        @param timestamp: 时间戳</span></span><br><span class="line"><span class="string">        @param nonce: 随机字符串</span></span><br><span class="line"><span class="string">        @return: 生成的json字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        resp_dict = &#123;</span><br><span class="line">            <span class="string">'msg_encrypt'</span>: encrypt,</span><br><span class="line">            <span class="string">'msg_signaturet'</span>: signature,</span><br><span class="line">            <span class="string">'timestamp'</span>: timestamp,</span><br><span class="line">            <span class="string">'nonce'</span>: nonce,</span><br><span class="line">        &#125;</span><br><span class="line">        resp_json = self.AES_TEXT_RESPONSE_TEMPLATE % resp_dict</span><br><span class="line">        <span class="keyword">return</span> resp_json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">XMLParse</span>:</span></span><br><span class="line">    <span class="string">"""提供提取消息格式中的密文及生成回复消息格式的接口"""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># xml消息模板</span></span><br><span class="line">    AES_TEXT_RESPONSE_TEMPLATE = <span class="string">"""&lt;xml&gt;</span></span><br><span class="line"><span class="string">&lt;Encrypt&gt;&lt;![CDATA[%(msg_encrypt)s]]&gt;&lt;/Encrypt&gt;</span></span><br><span class="line"><span class="string">&lt;MsgSignature&gt;&lt;![CDATA[%(msg_signaturet)s]]&gt;&lt;/MsgSignature&gt;</span></span><br><span class="line"><span class="string">&lt;TimeStamp&gt;%(timestamp)s&lt;/TimeStamp&gt;</span></span><br><span class="line"><span class="string">&lt;Nonce&gt;&lt;![CDATA[%(nonce)s]]&gt;&lt;/Nonce&gt;</span></span><br><span class="line"><span class="string">&lt;/xml&gt;"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">extract</span><span class="params">(self, xmltext)</span>:</span></span><br><span class="line">        <span class="string">"""提取出xml数据包中的加密消息</span></span><br><span class="line"><span class="string">        @param xmltext: 待提取的xml字符串</span></span><br><span class="line"><span class="string">        @return: 提取出的加密消息字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            xml_tree = ET.fromstring(xmltext)</span><br><span class="line">            encrypt = xml_tree.find(<span class="string">"Encrypt"</span>)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_OK, encrypt.text</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_ParseXml_Error, <span class="keyword">None</span>, <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(self, encrypt, signature, timestamp, nonce)</span>:</span></span><br><span class="line">        <span class="string">"""生成xml消息</span></span><br><span class="line"><span class="string">        @param encrypt: 加密后的消息密文</span></span><br><span class="line"><span class="string">        @param signature: 安全签名</span></span><br><span class="line"><span class="string">        @param timestamp: 时间戳</span></span><br><span class="line"><span class="string">        @param nonce: 随机字符串</span></span><br><span class="line"><span class="string">        @return: 生成的xml字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        resp_dict = &#123;</span><br><span class="line">            <span class="string">'msg_encrypt'</span>: encrypt,</span><br><span class="line">            <span class="string">'msg_signaturet'</span>: signature,</span><br><span class="line">            <span class="string">'timestamp'</span>: timestamp,</span><br><span class="line">            <span class="string">'nonce'</span>: nonce,</span><br><span class="line">        &#125;</span><br><span class="line">        resp_xml = self.AES_TEXT_RESPONSE_TEMPLATE % resp_dict</span><br><span class="line">        <span class="keyword">return</span> resp_xml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PKCS7Encoder</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""提供基于PKCS7算法的加解密接口"""</span></span><br><span class="line"></span><br><span class="line">    block_size = <span class="number">32</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encode</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        <span class="string">""" 对需要加密的明文进行填充补位</span></span><br><span class="line"><span class="string">        @param text: 需要进行填充补位操作的明文</span></span><br><span class="line"><span class="string">        @return: 补齐明文字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        text_length = len(text)</span><br><span class="line">        <span class="comment"># 计算需要填充的位数</span></span><br><span class="line">        amount_to_pad = self.block_size - (text_length % self.block_size)</span><br><span class="line">        <span class="keyword">if</span> amount_to_pad == <span class="number">0</span>:</span><br><span class="line">            amount_to_pad = self.block_size</span><br><span class="line">        <span class="comment"># 获得补位所用的字符</span></span><br><span class="line">        pad = chr(amount_to_pad)</span><br><span class="line">        <span class="keyword">return</span> text + pad * amount_to_pad</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decode</span><span class="params">(self, decrypted)</span>:</span></span><br><span class="line">        <span class="string">"""删除解密后明文的补位字符</span></span><br><span class="line"><span class="string">        @param decrypted: 解密后的明文</span></span><br><span class="line"><span class="string">        @return: 删除补位字符后的明文</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># pad = ord(decrypted[-1])</span></span><br><span class="line">        pad = decrypted[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">if</span> pad &lt; <span class="number">1</span> <span class="keyword">or</span> pad &gt; <span class="number">32</span>:</span><br><span class="line">            pad = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> decrypted[:-pad]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Prpcrypt</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""提供接收和推送给企业微信消息的加解密接口"""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, key)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># self.key = base64.b64decode(key+"=")</span></span><br><span class="line">        self.key = key</span><br><span class="line">        <span class="comment"># 设置加解密模式为AES的CBC模式</span></span><br><span class="line">        self.mode = AES.MODE_CBC</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encrypt</span><span class="params">(self, text, receiveid)</span>:</span></span><br><span class="line">        <span class="string">"""对明文进行加密</span></span><br><span class="line"><span class="string">        @param text: 需要加密的明文</span></span><br><span class="line"><span class="string">        @return: 加密得到的字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># 16位随机字符串添加到明文开头</span></span><br><span class="line">        text = self.get_random_str() + struct.pack(<span class="string">"I"</span>, socket.htonl(len(text))) + text + receiveid</span><br><span class="line">        <span class="comment"># 使用自定义的填充方式对明文进行补位填充</span></span><br><span class="line">        pkcs7 = PKCS7Encoder()</span><br><span class="line">        text = pkcs7.encode(text)</span><br><span class="line">        <span class="comment"># 加密</span></span><br><span class="line">        cryptor = AES.new(self.key, self.mode, self.key[:<span class="number">16</span>])</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            ciphertext = cryptor.encrypt(text)</span><br><span class="line">            <span class="comment"># 使用BASE64对加密后的字符串进行编码</span></span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_OK, base64.b64encode(ciphertext)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_EncryptAES_Error, <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decrypt</span><span class="params">(self, text, receiveid)</span>:</span></span><br><span class="line">        <span class="string">"""对解密后的明文进行补位删除</span></span><br><span class="line"><span class="string">        @param text: 密文</span></span><br><span class="line"><span class="string">        @return: 删除填充补位后的明文</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cryptor = AES.new(self.key, self.mode, self.key[:<span class="number">16</span>])</span><br><span class="line">            <span class="comment"># 使用BASE64对密文进行解码，然后AES-CBC解密</span></span><br><span class="line">            plain_text = cryptor.decrypt(base64.b64decode(text))</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_DecryptAES_Error, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># pad = ord(plain_text[-1])</span></span><br><span class="line">            pad = plain_text[<span class="number">-1</span>]</span><br><span class="line">            <span class="comment"># 去掉补位字符串</span></span><br><span class="line">            <span class="comment"># pkcs7 = PKCS7Encoder()</span></span><br><span class="line">            <span class="comment"># plain_text = pkcs7.encode(plain_text)</span></span><br><span class="line">            <span class="comment"># 去除16位随机字符串</span></span><br><span class="line">            content = plain_text[<span class="number">16</span>:-pad]</span><br><span class="line">            json_len = socket.ntohl(struct.unpack(<span class="string">"I"</span>, content[: <span class="number">4</span>])[<span class="number">0</span>])</span><br><span class="line">            json_content = content[<span class="number">4</span>: json_len+<span class="number">4</span>]</span><br><span class="line">            from_receiveid = content[json_len+<span class="number">4</span>:].decode(<span class="string">"utf8"</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            print(e)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_IllegalBuffer, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> from_receiveid != receiveid:</span><br><span class="line">            print(<span class="string">"receiveid not match"</span>)</span><br><span class="line">            print(from_receiveid)</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_ValidateCorpid_Error, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, json_content</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_random_str</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">""" 随机生成16位字符串</span></span><br><span class="line"><span class="string">        @return: 16位字符串</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rule = string.letters + string.digits</span><br><span class="line">        str = random.sample(rule, <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join(str)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WXBizMsgCrypt</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># 构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,sToken,sEncodingAESKey,sReceiveId)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.key = base64.b64decode(sEncodingAESKey+<span class="string">"="</span>)</span><br><span class="line">            <span class="keyword">assert</span> len(self.key) == <span class="number">32</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            throw_exception(<span class="string">"[error]: EncodingAESKey unvalid !"</span>, FormatException)</span><br><span class="line">            <span class="comment"># return ierror.WXBizMsgCrypt_IllegalAesKey,None</span></span><br><span class="line">        self.m_sToken = sToken</span><br><span class="line">        self.m_sReceiveId = sReceiveId</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 验证URL</span></span><br><span class="line">        <span class="comment"># @param sMsgSignature: 签名串，对应URL参数的msg_signature</span></span><br><span class="line">        <span class="comment"># @param sTimeStamp: 时间戳，对应URL参数的timestamp</span></span><br><span class="line">        <span class="comment"># @param sNonce: 随机串，对应URL参数的nonce</span></span><br><span class="line">        <span class="comment"># @param sEchoStr: 随机串，对应URL参数的echostr</span></span><br><span class="line">        <span class="comment"># @param sReplyEchoStr: 解密之后的echostr，当return返回0时有效</span></span><br><span class="line">        <span class="comment"># @return：成功0，失败返回对应的错误码</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">VerifyURL</span><span class="params">(self, sMsgSignature, sTimeStamp, sNonce, sEchoStr)</span>:</span></span><br><span class="line">        sha1 = SHA1()</span><br><span class="line">        ret,signature = sha1.getSHA1(self.m_sToken, sTimeStamp, sNonce, sEchoStr)</span><br><span class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> ret, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> signature == sMsgSignature:</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_ValidateSignature_Error, <span class="keyword">None</span></span><br><span class="line">        pc = Prpcrypt(self.key)</span><br><span class="line">        ret,sReplyEchoStr = pc.decrypt(sEchoStr,self.m_sReceiveId)</span><br><span class="line">        <span class="keyword">return</span> ret,sReplyEchoStr</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">EncryptMsg</span><span class="params">(self, sReplyMsg, sNonce, timestamp=None)</span>:</span></span><br><span class="line">        <span class="comment"># 将企业回复用户的消息加密打包</span></span><br><span class="line">        <span class="comment"># @param sReplyMsg: 企业号待回复用户的消息，xml格式的字符串</span></span><br><span class="line">        <span class="comment"># @param sTimeStamp: 时间戳，可以自己生成，也可以用URL参数的timestamp,如为None则自动用当前时间</span></span><br><span class="line">        <span class="comment"># @param sNonce: 随机串，可以自己生成，也可以用URL参数的nonce</span></span><br><span class="line">        <span class="comment"># sEncryptMsg: 加密后的可以直接回复用户的密文，包括msg_signature, timestamp, nonce, encrypt的xml格式的字符串,</span></span><br><span class="line">        <span class="comment"># return：成功0，sEncryptMsg,失败返回对应的错误码None</span></span><br><span class="line">        pc = Prpcrypt(self.key)</span><br><span class="line">        ret,encrypt = pc.encrypt(sReplyMsg, self.m_sReceiveId)</span><br><span class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> ret,<span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> timestamp <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            timestamp = str(int(time.time()))</span><br><span class="line">        <span class="comment"># 生成安全签名</span></span><br><span class="line">        sha1 = SHA1()</span><br><span class="line">        ret,signature = sha1.getSHA1(self.m_sToken, timestamp, sNonce, encrypt)</span><br><span class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> ret,<span class="keyword">None</span></span><br><span class="line">        xmlParse = XMLParse()</span><br><span class="line">        <span class="keyword">return</span> ret,xmlParse.generate(encrypt, signature, timestamp, sNonce)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">DecryptMsg</span><span class="params">(self, sPostData, sMsgSignature, sTimeStamp, sNonce)</span>:</span></span><br><span class="line">        <span class="comment"># 检验消息的真实性，并且获取解密后的明文</span></span><br><span class="line">        <span class="comment"># @param sMsgSignature: 签名串，对应URL参数的msg_signature</span></span><br><span class="line">        <span class="comment"># @param sTimeStamp: 时间戳，对应URL参数的timestamp</span></span><br><span class="line">        <span class="comment"># @param sNonce: 随机串，对应URL参数的nonce</span></span><br><span class="line">        <span class="comment"># @param sPostData: 密文，对应POST请求的数据</span></span><br><span class="line">        <span class="comment">#  xml_content: 解密后的原文，当return返回0时有效</span></span><br><span class="line">        <span class="comment"># @return: 成功0，失败返回对应的错误码</span></span><br><span class="line">        <span class="comment"># 验证安全签名</span></span><br><span class="line">        xmlParse = XMLParse()</span><br><span class="line">        ret, encrypt = xmlParse.extract(sPostData)</span><br><span class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> ret, <span class="keyword">None</span></span><br><span class="line">        sha1 = SHA1()</span><br><span class="line">        ret,signature = sha1.getSHA1(self.m_sToken, sTimeStamp, sNonce, encrypt)</span><br><span class="line">        <span class="keyword">if</span> ret != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> ret, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> signature == sMsgSignature:</span><br><span class="line">            <span class="keyword">return</span> ierror.WXBizMsgCrypt_ValidateSignature_Error, <span class="keyword">None</span></span><br><span class="line">        pc = Prpcrypt(self.key)</span><br><span class="line">        ret, xml_content = pc.decrypt(encrypt,self.m_sReceiveId)</span><br><span class="line">        <span class="keyword">return</span> ret, xml_content</span><br></pre></td></tr></table></figure><p><br></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, request</span><br><span class="line">import requests</span><br><span class="line">import sys</span><br><span class="line">import json</span><br><span class="line">from configparser import ConfigParser</span><br><span class="line">from WXBizMsgCrypt import WXBizMsgCrypt</span><br><span class="line">import xml.etree.cElementTree as ET</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WeChatMsg</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, host=<span class="string">'0.0.0.0'</span>, port=<span class="number">8000</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        config = ConfigParser()</span><br><span class="line">        config.read(<span class="string">'config.py'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        <span class="comment"># 定义服务器监听地址和端口</span></span><br><span class="line">        <span class="keyword">self</span>.host = host</span><br><span class="line">        <span class="keyword">self</span>.port = port</span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="keyword">self</span>.sCorpID = config[<span class="string">'common'</span>][<span class="string">'corpid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.agent_secret = config[<span class="string">'appconfig'</span>][<span class="string">'secret'</span>]</span><br><span class="line">        <span class="keyword">self</span>.agent_id = config[<span class="string">'appconfig'</span>][<span class="string">'agentid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.userid = config[<span class="string">'appconfig'</span>][<span class="string">'userid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.partid = config[<span class="string">'appconfig'</span>][<span class="string">'partid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.get_access_token_url = config[<span class="string">'urlconfig'</span>][<span class="string">'get_access_token_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.send_msg_url = config[<span class="string">'urlconfig'</span>][<span class="string">'send_msg_url'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 转发接收消息的应用信息配置</span></span><br><span class="line">        <span class="keyword">self</span>.sToken = config[<span class="string">'recmsg'</span>][<span class="string">'Token'</span>]</span><br><span class="line">        <span class="keyword">self</span>.sEncodingAESKey = config[<span class="string">'recmsg'</span>][<span class="string">'EncodingAESKey'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取access_token</span></span><br><span class="line">        <span class="keyword">self</span>.access_token = json.loads(requests.get(<span class="keyword">self</span>.get_access_token_url.format(<span class="keyword">self</span>.sCorpID,<span class="keyword">self</span>.agent_secret)).content)[<span class="string">'access_token'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_send_text_msg</span><span class="params">(<span class="keyword">self</span>, content, userid)</span></span><span class="symbol">:</span></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">"touser"</span>: userid,</span><br><span class="line">            <span class="string">"toparty"</span>: (<span class="string">'|'</span>).join(<span class="keyword">self</span>.partid.split(<span class="string">','</span>)),</span><br><span class="line">            <span class="comment"># "toparty":int(self.partid),</span></span><br><span class="line">            <span class="string">"msgtype"</span>: <span class="string">"text"</span>,</span><br><span class="line">            <span class="string">"agentid"</span>: <span class="keyword">self</span>.agent_id,</span><br><span class="line">            <span class="string">"text"</span>: &#123;</span><br><span class="line">                <span class="string">"content"</span>: content</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">"safe"</span>: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        response = requests.post(<span class="keyword">self</span>.send_msg_url.format(<span class="keyword">self</span>.access_token), json.dumps(data))</span><br><span class="line">        print(response.text)</span><br><span class="line">        result_msg = json.loads(response.content)[<span class="string">'errmsg'</span>]</span><br><span class="line">        <span class="keyword">return</span> result_msg</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">server_run</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        app = Flask(__name_<span class="number">_</span>)</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/'</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>])</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            wxcpt = WXBizMsgCrypt(<span class="keyword">self</span>.sToken, <span class="keyword">self</span>.sEncodingAESKey, <span class="keyword">self</span>.sCorpID)</span><br><span class="line">            <span class="comment"># 获取url验证时微信发送的相关参数</span></span><br><span class="line">            sVerifyMsgSig = request.args.get(<span class="string">'msg_signature'</span>)</span><br><span class="line">            sVerifyTimeStamp = request.args.get(<span class="string">'timestamp'</span>)</span><br><span class="line">            sVerifyNonce = request.args.get(<span class="string">'nonce'</span>)</span><br><span class="line">            sVerifyEchoStr = request.args.get(<span class="string">'echostr'</span>)</span><br><span class="line">            print(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 验证url</span></span><br><span class="line">            <span class="keyword">if</span> request.method == <span class="string">'GET'</span><span class="symbol">:</span></span><br><span class="line">                ret, sEchoStr = wxcpt.VerifyURL(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class="line">                print(type(ret))</span><br><span class="line">                print(type(sEchoStr))</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (ret != <span class="number">0</span>)<span class="symbol">:</span></span><br><span class="line">                    print(<span class="string">"ERR: VerifyURL ret:"</span> + str(ret))</span><br><span class="line">                    sys.exit(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> sEchoStr</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 接收客户端消息</span></span><br><span class="line">            <span class="keyword">if</span> request.method == <span class="string">'POST'</span><span class="symbol">:</span></span><br><span class="line">                sReqMsgSig = sVerifyMsgSig</span><br><span class="line">                sReqTimeStamp = sVerifyTimeStamp</span><br><span class="line">                sReqNonce = sVerifyNonce</span><br><span class="line">                sReqData = request.data</span><br><span class="line">                print(<span class="string">'sReqData='</span>, sReqData, <span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line">                ret, sMsg = wxcpt.DecryptMsg(sReqData, sReqMsgSig, sReqTimeStamp, sReqNonce)</span><br><span class="line">                print(ret, sMsg, <span class="string">'\n'</span>)</span><br><span class="line">                <span class="keyword">if</span> (ret != <span class="number">0</span>)<span class="symbol">:</span></span><br><span class="line">                    print(<span class="string">"ERR: DecryptMsg ret: "</span> + str(ret))</span><br><span class="line">                    sys.exit(<span class="number">1</span>)</span><br><span class="line">                <span class="comment"># 解析发送的内容并打印</span></span><br><span class="line"></span><br><span class="line">                print(type(sMsg))</span><br><span class="line">                string = str(sMsg,<span class="string">'utf-8'</span>)</span><br><span class="line">                print(string)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 转成字符串索引分片</span></span><br><span class="line">                <span class="comment"># i = string.index('&lt;Content&gt;')</span></span><br><span class="line">                <span class="comment"># j = string.index(r'&lt;/Content&gt;')</span></span><br><span class="line">                <span class="comment"># print(i, j)</span></span><br><span class="line">                <span class="comment"># print("收到消息：", string[i+18:j-3])</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 解析XML</span></span><br><span class="line">                root = ET.fromstring(string)    <span class="comment"># 调用fromstring(), 直接返回解析树的根元素</span></span><br><span class="line">                <span class="keyword">for</span> child <span class="keyword">in</span> <span class="symbol">root:</span></span><br><span class="line">                    <span class="comment"># 第二层节点的标签名称和属性</span></span><br><span class="line">                    print(child.tag,<span class="string">":"</span>, child.text)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 索引获取</span></span><br><span class="line">                <span class="comment"># print(root.tag, ":", root.attrib)</span></span><br><span class="line">                <span class="comment"># print('收到消息：', root[4].text)</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 直接查找</span></span><br><span class="line">                content = root.find(<span class="string">"Content"</span>).text</span><br><span class="line">                print(<span class="string">'\n收到消息：'</span>, content)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># xml_tree = ET.fromstring(sMsg)</span></span><br><span class="line">                <span class="comment"># print('xml_tree is ', xml_tree)</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 自动回复相同消息给客户端</span></span><br><span class="line">                access_token = json.loads(requests.get(<span class="keyword">self</span>.get_access_token_url.format(<span class="keyword">self</span>.sCorpID, <span class="keyword">self</span>.agent_secret)).content)[<span class="string">'access_token'</span>]</span><br><span class="line">                print(access_token)</span><br><span class="line"></span><br><span class="line">                userid = root.find(<span class="string">"FromUserName"</span>).text</span><br><span class="line">                print(userid)</span><br><span class="line">                result = <span class="keyword">self</span>._send_text_msg(content, userid)</span><br><span class="line">                <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name_<span class="number">_</span> == <span class="string">'__main__'</span><span class="symbol">:</span></span><br><span class="line">    wechatserver = WeChatMsg()</span><br><span class="line">    wechatserver.server_run()</span><br></pre></td></tr></table></figure><p><br></p><ol start="3"><li>对通讯录进行增删改查</li></ol><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line">from flask import Flask, request, jsonify</span><br><span class="line">import requests</span><br><span class="line">import sys</span><br><span class="line">import json</span><br><span class="line">from configparser import ConfigParser</span><br><span class="line">from WXBizMsgCrypt import WXBizMsgCrypt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WeChattxl</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, host=<span class="string">'0.0.0.0'</span>, port=<span class="number">8000</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        config = ConfigParser()</span><br><span class="line">        config.read(<span class="string">'config.py'</span>, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        <span class="comment"># 定义服务器监听地址和端口</span></span><br><span class="line">        <span class="keyword">self</span>.host = host</span><br><span class="line">        <span class="keyword">self</span>.port = port</span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="keyword">self</span>.sCorpID = config[<span class="string">'common'</span>][<span class="string">'corpid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.partid = config[<span class="string">'appconfig'</span>][<span class="string">'partid'</span>]</span><br><span class="line">        <span class="keyword">self</span>.txlsecret = config[<span class="string">'appconfig'</span>][<span class="string">'txlsecret'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.get_access_token_url = config[<span class="string">'urlconfig'</span>][<span class="string">'get_access_token_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.user_simplelist_url = config[<span class="string">'urlconfig'</span>][<span class="string">'user_simplelist_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.user_list_url = config[<span class="string">'urlconfig'</span>][<span class="string">'user_list_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.get_user_url = config[<span class="string">'urlconfig'</span>][<span class="string">'get_user_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.create_user_url = config[<span class="string">'urlconfig'</span>][<span class="string">'create_user_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.update_user_url = config[<span class="string">'urlconfig'</span>][<span class="string">'update_user_url'</span>]</span><br><span class="line">        <span class="keyword">self</span>.delete_user_url = config[<span class="string">'urlconfig'</span>][<span class="string">'delete_user_url'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 应用信息配置</span></span><br><span class="line">        <span class="keyword">self</span>.sToken = config[<span class="string">'recmsg'</span>][<span class="string">'Token'</span>]</span><br><span class="line">        <span class="keyword">self</span>.sEncodingAESKey = config[<span class="string">'recmsg'</span>][<span class="string">'EncodingAESKey'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 获取access_token</span></span><br><span class="line">        <span class="keyword">self</span>.access_token = json.loads(requests.get(<span class="keyword">self</span>.get_access_token_url.format(<span class="keyword">self</span>.sCorpID,<span class="keyword">self</span>.txlsecret)).content)[<span class="string">'access_token'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">server_run</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        app = Flask(__name_<span class="number">_</span>)</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/'</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>])</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            wxcpt = WXBizMsgCrypt(<span class="keyword">self</span>.sToken, <span class="keyword">self</span>.sEncodingAESKey, <span class="keyword">self</span>.sCorpID)</span><br><span class="line">            <span class="comment"># 获取url验证时微信发送的相关参数</span></span><br><span class="line">            sVerifyMsgSig = request.args.get(<span class="string">'msg_signature'</span>)</span><br><span class="line">            sVerifyTimeStamp = request.args.get(<span class="string">'timestamp'</span>)</span><br><span class="line">            sVerifyNonce = request.args.get(<span class="string">'nonce'</span>)</span><br><span class="line">            sVerifyEchoStr = request.args.get(<span class="string">'echostr'</span>)</span><br><span class="line">            print(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 验证url</span></span><br><span class="line">            <span class="keyword">if</span> request.method == <span class="string">'GET'</span><span class="symbol">:</span></span><br><span class="line">                ret, sEchoStr = wxcpt.VerifyURL(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class="line">                print(type(ret))</span><br><span class="line">                print(type(sEchoStr))</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (ret != <span class="number">0</span>)<span class="symbol">:</span></span><br><span class="line">                    print(<span class="string">"ERR: VerifyURL ret:"</span> + str(ret))</span><br><span class="line">                    sys.exit(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> sEchoStr</span><br><span class="line"></span><br><span class="line">            <span class="comment"># if request.method == 'POST':</span></span><br><span class="line">                <span class="comment"># return 'success'</span></span><br><span class="line"></span><br><span class="line">        <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">        获取成员列表  127.0.0.1:8000/user  get</span></span><br><span class="line"><span class="string">        成员详细信息  /users  get</span></span><br><span class="line"><span class="string">        创建成员     /create post</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            "userid": userid,  #必填</span></span><br><span class="line"><span class="string">            "name": name,  #必填</span></span><br><span class="line"><span class="string">            "mobile": mobile,  #选填，使用默认值</span></span><br><span class="line"><span class="string">            "email": email,  #选填，使用默认值</span></span><br><span class="line"><span class="string">            "position": position,  #选填，使用默认值</span></span><br><span class="line"><span class="string">            "department": self.partid  #不填</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        读取成员  /get?id=[userid]  get</span></span><br><span class="line"><span class="string">        更新成员  /update  post</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            "userid": userid,  #必填</span></span><br><span class="line"><span class="string">            "name": name,  #选填</span></span><br><span class="line"><span class="string">            "mobile": mobile,  #选填</span></span><br><span class="line"><span class="string">            "email": email,  #选填</span></span><br><span class="line"><span class="string">            "position": position,  #选填</span></span><br><span class="line"><span class="string">            "department": self.partid  #不填</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        删除成员  /delete?id=[userid]  get</span></span><br><span class="line"><span class="string">        '</span><span class="string">''</span></span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/user'</span>, methods=[<span class="string">'get'</span>])    <span class="comment"># 获取成员列表</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">user</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            url = <span class="keyword">self</span>.user_simplelist_url.format(<span class="keyword">self</span>.access_token, <span class="keyword">self</span>.partid)</span><br><span class="line">            r = requests.get(url)</span><br><span class="line">            <span class="keyword">return</span> jsonify(data=r.json())</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/users'</span>, methods=[<span class="string">'get'</span>])    <span class="comment"># 获取成员详细信息</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">users</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            url = <span class="keyword">self</span>.user_list_url.format(<span class="keyword">self</span>.access_token, <span class="keyword">self</span>.partid)</span><br><span class="line">            r = requests.get(url)</span><br><span class="line">            <span class="keyword">return</span> jsonify(data=r.json())</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/create'</span>, methods=[<span class="string">'post'</span>])    <span class="comment"># 创建成员</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">create</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            data = request.get_json()</span><br><span class="line">            print(data)</span><br><span class="line"></span><br><span class="line">            userid = data.get(<span class="string">'userid'</span>)    <span class="comment"># 必须，方便数据的录入，使用两位数字</span></span><br><span class="line">            name = data.get(<span class="string">'name'</span>)    <span class="comment"># 必须</span></span><br><span class="line"></span><br><span class="line">            mobile = data.get(<span class="string">'mobile'</span>)    <span class="comment"># 可选</span></span><br><span class="line">            email = data.get(<span class="string">'email'</span>)    <span class="comment"># 可选</span></span><br><span class="line">            position = data.get(<span class="string">'position'</span>)    <span class="comment"># 可选</span></span><br><span class="line">            <span class="keyword">if</span> mobile is <span class="symbol">None:</span></span><br><span class="line">                mobile = <span class="string">'185000000'</span>+userid    <span class="comment"># 方便录入，用userid直接拼接成手机号</span></span><br><span class="line">            <span class="keyword">if</span> email is <span class="symbol">None:</span></span><br><span class="line">                email = userid+<span class="string">'@ianna.com'</span>    <span class="comment"># 方便录入，邮箱也用userid拼接而成</span></span><br><span class="line">            <span class="keyword">if</span> position is <span class="symbol">None:</span></span><br><span class="line">                position = <span class="string">'Worker'</span></span><br><span class="line"></span><br><span class="line">            print(mobile, email, position)</span><br><span class="line"></span><br><span class="line">            data = &#123;</span><br><span class="line">                <span class="string">"userid"</span>: userid,</span><br><span class="line">                <span class="string">"name"</span>: name,</span><br><span class="line">                <span class="string">"mobile"</span>: mobile,</span><br><span class="line">                <span class="string">"email"</span>: email,</span><br><span class="line">                <span class="string">"position"</span>: position,</span><br><span class="line">                <span class="string">"department"</span>: <span class="keyword">self</span>.partid</span><br><span class="line">            &#125;</span><br><span class="line">            print(data)</span><br><span class="line"></span><br><span class="line">            r = requests.post(<span class="keyword">self</span>.create_user_url.format(<span class="keyword">self</span>.access_token), json.dumps(data))</span><br><span class="line">            print(r.text)</span><br><span class="line">            result_msg = json.loads(r.content)[<span class="string">'errmsg'</span>]</span><br><span class="line">            <span class="keyword">return</span> result_msg</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/get'</span>, methods=[<span class="string">'get'</span>])    <span class="comment"># 读取成员</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            userid = request.args.get(<span class="string">'id'</span>)</span><br><span class="line">            url = <span class="keyword">self</span>.get_user_url.format(<span class="keyword">self</span>.access_token, userid)</span><br><span class="line">            r = requests.get(url)</span><br><span class="line">            <span class="keyword">return</span> jsonify(data=r.json())</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/update'</span>, methods=[<span class="string">'post'</span>])    <span class="comment"># 更新成员</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            <span class="string">''</span><span class="string">'</span></span><br><span class="line"><span class="string">            data = &#123;</span></span><br><span class="line"><span class="string">                "userid": userid,</span></span><br><span class="line"><span class="string">                "name": name,</span></span><br><span class="line"><span class="string">                "mobile": mobile,</span></span><br><span class="line"><span class="string">                "email": email,</span></span><br><span class="line"><span class="string">                "position": position,</span></span><br><span class="line"><span class="string">                "department": self.partid</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            '</span><span class="string">''</span></span><br><span class="line"></span><br><span class="line">            data = request.get_json()</span><br><span class="line">            data.update(&#123;<span class="string">"department"</span>: <span class="keyword">self</span>.partid&#125;)</span><br><span class="line">            print(data)</span><br><span class="line"></span><br><span class="line">            r = requests.post(<span class="keyword">self</span>.update_user_url.format(<span class="keyword">self</span>.access_token), json.dumps(data))</span><br><span class="line">            print(r.text)</span><br><span class="line">            result_msg = json.loads(r.content)[<span class="string">'errmsg'</span>]</span><br><span class="line">            <span class="keyword">return</span> result_msg</span><br><span class="line"></span><br><span class="line">        @app.route(<span class="string">'/delete'</span>, methods=[<span class="string">'get'</span>])    <span class="comment"># 删除成员</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">delete</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">            userid = request.args.get(<span class="string">'id'</span>)</span><br><span class="line">            url = <span class="keyword">self</span>.delete_user_url.format(<span class="keyword">self</span>.access_token, userid)</span><br><span class="line">            r = requests.get(url)</span><br><span class="line">            result_msg = json.loads(r.content)[<span class="string">'errmsg'</span>]</span><br><span class="line">            <span class="keyword">return</span> result_msg</span><br><span class="line"></span><br><span class="line">        app.run(host=<span class="keyword">self</span>.host, port=<span class="keyword">self</span>.port, debug=True)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name_<span class="number">_</span> == <span class="string">'__main__'</span><span class="symbol">:</span></span><br><span class="line">    wechatserver = WeChattxl()</span><br><span class="line">    wechatserver.server_run()</span><br></pre></td></tr></table></figure><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
      
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Web" scheme="http://blog.ykqmain.com/tags/Web/"/>
    
      <category term="Linux" scheme="http://blog.ykqmain.com/tags/Linux/"/>
    
      <category term="Flask" scheme="http://blog.ykqmain.com/tags/Flask/"/>
    
      <category term="Python" scheme="http://blog.ykqmain.com/tags/Python/"/>
    
      <category term="http" scheme="http://blog.ykqmain.com/tags/http/"/>
    
      <category term="企业微信" scheme="http://blog.ykqmain.com/tags/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>人生如梦</title>
    <link href="http://blog.ykqmain.com/lishi/"/>
    <id>http://blog.ykqmain.com/lishi/</id>
    <published>2018-11-11T16:00:00.000Z</published>
    <updated>2018-11-20T00:54:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>写下这个题目后，有太多话想要倾诉，却不知从何时何处开始，一时失言，脑中空白。</p><p>引用一句诗词来开篇，</p><blockquote><p>大江东去，浪淘尽，千古风流人物。</p></blockquote><p><br></p><p>人生的记录这个东西，是需要一定的契机、激情以及充足的时间的，到现在才谈及这个话题，倒是令我自己有点惊讶，毕竟要问我最感兴趣的方面，「中国古代史」是唯一的答案，没有之一。</p><p>具体来说，就是从 <em>西周到南宋</em> (前1046～1279年) 的这一段时间，“兴趣之最”当属 <strong>春秋战国</strong> (前770年～前221年)、<strong>三国时期</strong> (广义的，184年～280年) 以及 <strong>李唐</strong> (618年～907年)。</p><p><br></p><hr><p><br></p><p>简单地记录一下，我与中国古代史的一些历程。</p><p>对历史兴趣的萌芽，自然是记不清的，小时候不仅仅是爱看动画、漫画，电视剧。还有很多父亲在寒假时期，饭后、睡前跟我讲得那些民间故事，比如三国演义、西游记、封神演义，以及一些说不出朝代的寓言、童话、志怪故事等桥段，百听不厌。</p><p>真正对历史兴趣的形成，可以很确定地说是，<em>初中，七年级</em>。而打开我历史大门的则是，<em>汉武帝</em>。是这个历史人物，让我废寝忘食地畅游在历史的长河中，就像打开了一个山洞中的宝藏之门，展现在我眼前的是数不尽的无价之宝。</p><p>从“汉武帝罢黜百家，独尊儒术”，我的目光被儒家牵引，追溯到<strong>春秋战国</strong>，一个长达500年的社会巨变时期，其中的政治、军事、思想、文化等极其繁荣，在文章这里就不展开了。要说春秋战国最吸引我的，还是它的思想和文学，也就是 <strong>「诸子百家」和 “史诗文”</strong>，文学方面，比如《春秋左传》、《诗经》、《楚辞》，以及思想性和文学性皆备的诸子散文；思想方面，无疑是奠定了中华文化的「诸子百家」，关于诸子百家的一些想法，我在之前的 <a href="http://blog.ykqmain.com/zhuzi/" target="\_blank">观「诸子」有感</a> 中详细记录了。</p><p>而对于<strong>李唐</strong>的向往，则是那一统盛世的<strong>开放和才情</strong>。唐朝的文学成就是不需要做过多解释的，那一篇篇诗文经典从古至今，引起了无数人的共鸣，陪伴他们消极失意，也陪他们潇洒旷达。对古代历史有兴趣的，古代文学也绕不过的。在以后的时间里，我肯定会记录下来我与诗文的那些故事，这又是一个庞大而又耗时的工程。</p><p>总的来说，我喜欢的，<strong>是春秋战国的思想哲学，是唐朝的诗词歌赋。对于三国，情感是复杂，且随年龄变化的。</strong></p><p>这篇文章的主要话题，还是那个无数人都谈过，都讲过的，都懂得一点的三国。我并不是大师，没有什么价值的学术见解。我也不是谁的粉，捧这个，踩那个。我想写的，仅仅是我与三国的故事罢了。</p><p><br></p><hr><p><br></p><blockquote><p>青史一页会记得，你们都是强者。</p></blockquote><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/zgyy.png!shuiyin" alt=""></p><p>🎵 一捧江山在掌握 - 张佳</p><p><audio src="http://blog-1253481725.cosgz.myqcloud.com/lishi/js.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><br><br></p><p>最近因为一个契机，稍稍回忆了一下三国。我对于三国的认知，也不外乎：三国演义，三国志，央视三国电视剧，动画版三国演义，三国衍生游戏，易中天品三国，以及网上的只言片语、残篇断句等等。</p><figure class="third"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/lishi/zgz1.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/zgz2.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/zgz3.jpg" width="200ss"><br></figure><p>太多太多英雄，<strong>孤独地</strong> 追求自己的理想，最后大多难以对抗士族地主阶级登上政治舞台的历史潮流。</p><p>孤独的曹操，三国时期第一人，在「周公吐哺，天下归心。」中抱憾离去，也带走了只属于他的曹魏。去世之后，他的儿子曹丕在称帝的交易中彻底葬送属于曹操的理想。</p><p>孤独的刘备，除了姓刘之外白手起家的英雄。“小时候喜欢刘关张，因为是主角。大一点喜欢吕布赵云马超，因为游戏形象。成熟了之后喜欢曹操诸葛亮，因为知道了能力重要性。现在反而重新敬佩起来了刘关张，因为经历。”刘备去投刘表的时候已经45岁了。45岁还一事无成，却有不甘于人后的倔强，谁又能体会到呢？在看动画版时，印象最深刻的是，夷陵之战的那把大火葬送了季汉的巅峰，刘备暮雨击鼓时回忆桃园结义的场景，在音乐的刺激下，眼泪止不住的流。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/tyjy.jpg!shuiyin" alt=""></p><p>孤独的孙权，一个无依无靠的外来者，未成年时内忧外困的接过父兄的基业，必须依靠本地势力交换权力，他也许在意的只是吴国姓不姓孙。对本地士族的不信任，导致晚年疑神疑鬼，冷落张昭、逼死陆逊，又因为“借荆州”的事件对去世的鲁肃三分微词。如果周瑜没有英年早逝，是否善终还不得而知。</p><p>荀彧也肯定是孤独的，曹魏当之无愧的二号人物，孤独得在理想破灭时，毅然选择了以死明志。荀彧的死是一个迷，但是丝毫不影响我们理解他在死之前内心的痛苦和煎熬。颖川荀氏，名士风骨。大汉忠臣，王佐之才。</p><p>最孤独的，可能还是诸葛亮吧。公元220年，曹操去世，曹丕称帝，真正的三国才正式开始。说夷陵之战的失败，导致了三足鼎立，倒不如说是220年一大批人才凋零，促成了三国鼎立，曹操，关羽，程昱，吕蒙，甘宁，法正，蒋钦等，都是同一年去世。</p><p>诸葛亮接过了蜀汉的重担，展现了他天才的政治才能，去完成他「明知不可为而为之」的“兴复汉室，还于旧都”。这不是他的愚忠，「明知不可为而为之。」表现的是<strong>做事不问可不可能，但问应不应该。</strong></p><p>即使是诸葛亮，也无法阻挡历史潮流，逆天改命。利用常年北伐，使国家长期处于战争状态，转移内部几股政治势力的矛盾，政治上依法治国，以身作则，但也减少不了战争的巨额费用，最后的效果也只是续命而已，但终究没有愧对大汉二十四代先帝，没有愧对刘备的三顾之恩，最重要的是，没有愧对自己的理想和坚守。</p><p>其实炎汉的灭亡，在夷陵之战失败时就已经决定了。说夷陵之战之前是季汉的巅峰一点都不为过。古代冷兵器时代的战争，拼的是土地粮食和人口。北方土地肥沃，人口众多，当时的中国南方大多是蛮荒之地。中国历史上经历了两次大量人口南迁，直到南宋，南方的经济才超过北方，所以从理论上来说，只有在南宋之后的时间，中国可以由南向北统一，事实上大明王朝就是由南向北统一，就是这样，还被北方的朱棣篡位。</p><p>可以想象诸葛丞相在这样一个情势下，鞠躬尽瘁死而后已，最后活活累死，病逝五丈原，是多么的独孤，「出师一表真名世，千载谁堪伯仲间」，难怪心系苍生，胸怀国事的杜甫是诸葛亮的迷弟。</p><p>「看人间，有几番迷离。躲不过，凄风冷雨。」</p><p>听歌的时候想到诸葛亮初出茅庐时，嘱咐童子打理田地，功成归来耕种，瞬间眼中含泪，<strong>潸然泪下。</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/sgml.jpg!shuiyin" alt=""></p><p>《三国演义》实际上是人们心之所往的集中体现，而罗贯中则是集大成者。</p><p>比如说没有貂蝉，也要塑造一个“貂蝉”。‬</p><p>‪貂蝉可以说是由群众创造的，是舍身为国的大义，是乱世的牺牲品，是可怜的女英雄。‬</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/dc.jpg!shuiyin" alt=""></p><p>🎵 貂蝉已随清风去 - 万山红</p><p><audio src="http://blog-1253481725.cosgz.myqcloud.com/lishi/dc.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><br><br></p><blockquote><p>辜负了锦绣年华，‬<br>‪错过了豆蔻青春。‬<br>‪为报答司徒大义深恩，‬<br>‪拼舍这如花似玉身。‬<br>‪从今后再不见尔的身影，‬<br>‪也再不闻尔的声音。‬<br>貂蝉已随着那清风去，<br>化作了一片白云。</p></blockquote><blockquote><p>——《貂蝉已随清风去》</p></blockquote><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/dc2.jpg!shuiyin" alt=""></p><p>悲剧英雄也，令人惋惜不已。</p><p><br></p><hr><p><br></p><p><strong>然而悲剧的不仅仅是英雄，更多的是平凡的人。</strong></p><blockquote><p>白骨露于野，千里无鸡鸣。</p></blockquote><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/jfml.jpg!shuiyin" alt=""></p><p>我在之前的文章中写过，</p><blockquote><p>对于一个人来说最高的荣誉，无疑是“名垂青史，流芳百世”。</p></blockquote><p>但是青史上留名的又有几人呢？大多数人不过是碌碌终身的凡人罢了，99%的人活得很悲哀。</p><blockquote><p>“时岁大饥，人相食。”<br>“天下饥荒，人民相食。”<br>“人民机困，二年间，相啖食略尽。”<br>“五官将知忠尝啖人，因从驾出行，令俳取冢间髑髅系著忠马鞍以为欢笑。”<br>…………</p></blockquote><p>还有比这些更让人痛心的么？</p><p>沉迷于英雄豪情，慷慨悲歌的我们，在三国时期绝大部分人都是那“遗于野”的白骨。</p><p>这里又不得不引出那个千古难题：<strong>人生的意义到底是什么？或者说人生在世到底是为什么而活？</strong></p><p><strong>结合自己的经历不禁感叹。</strong></p><p>太阳底下没有新鲜事。</p><p>「天下熙熙皆为利来，天下攘攘皆为利往。」</p><p>在浩瀚的宇宙和伟大的自然面前，社会的那些残羹冷炙显得如此渺小，但对于个人来说，又是无可奈何。</p><p>对于一个普通人来说，生活的那些琐事，相比于生死离别来说，又显得不值一提。</p><p>死亡是意识的消逝，是物质的解体，是他人的怀恋， 是自我的放逐，是自然的规律，是生态的循环。死亡总有一天会到来，在生命的尽头，你将彻底不再是你，就算有所剩余，其实和你也没有任何关系了。</p><p>当然，确实有超越生死的东西，那就是另一个话题了。</p><p>活着就会有一个个烦恼接踵而至，有人的地方就会有利益，嘴上说得冠冕堂皇，背地里却干了无数见不得人的勾当。</p><p>离开没有自由的地方，然后发现无处可去。仿佛世界上没有一处容身之所，桃花源只在梦中。</p><p>渺小和无力，让目前的我还无法回答「人生的意义到底是什么？」</p><p><strong>万物皆有所待，我仍找不到属于自己的世界。</strong></p><p><br></p><p><strong>时代需要英雄。</strong></p><p>也可以说《三国演义》满足了中国人的一场美梦，圣君梦的刘备，清官梦的诸葛亮，侠客梦的关羽张飞。</p><p>由自己的经历，以及各种史料、小说笔记，很容易去想象在那样一个时代，底层人民过得是什么样的生活。即使是在现代社会，一个荒谬的“太平盛世”，因言获罪，自古以来。生活中的“个人”显得无可奈何，无处言说。我们急需要一位“刘备”，一位“诸葛亮”，退而求其次，有“关羽张飞”也是欢喜的。而这些也不过是在梦中罢了，是生活、使得三国更添悲凉。曹操是孤独的，诸葛亮是孤独的，很明显，<strong>我也是</strong>，每个平凡的人都是。</p><p><strong>孤独中还透露着无助。</strong></p><p>三国无疑是悲剧，但这个一出出悲剧中，还蕴含着<strong>情义</strong>的光。</p><p><br></p><hr><p><br></p><blockquote><p>豪情相依，生死相伴<br>天涯无处，不念桃园<br>三人成众，何惧患难<br>诚心能纵沧桑变幻</p></blockquote><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/ty.jpg!shuiyin" alt=""></p><p>🎵 四季 - 曾黎</p><p><audio src="http://blog-1253481725.cosgz.myqcloud.com/lishi/sj.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><br><br></p><p>说到情义，没有人不向往“桃园结义”，越是向往的东西，就越是求之不得，可惜“桃园”是公认的空前绝后。</p><p>如果不是桃园结义的情义，刘备暮雨击鼓的悲凉也不会让曾经少年的我至今难忘，直击内心，感同身受，悲痛不已。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/lishi/myjg.png!shuiyin" alt=""></p><p>越长大，就越能感到这个金钱社会的利益关系链，无情无义，唯利是图，甚至不惜侵犯别人的权利，昧着良心去做利己之事。人人自危，自己的正当权益都得不到保障，变得只能明哲保身度日。苦中作乐，从头到脚的失望；强颜欢笑，由内而外的心寒。这个局面不是一天造成的，也不是一个人造成的，还是一双双无形的利益之手，一次次偏离选择出来的结果，可惜的是没有英雄能够力挽狂澜。</p><p>在这种对比之下，就更是欣赏三国的<strong>情义和血性</strong>，更是感叹三国的<strong>悲凉和痛心</strong>，更是向往三国的<strong>英雄和美梦</strong>。</p><blockquote><p>曹孟德瞝酒临江横槊赋诗，正欲澄清宇内一匡天下，火烧赤壁了；<br>周公瑾谈笑之间烟卷赤壁，正欲西进巴蜀两分天下，遇疾暴亡了；<br>关云长水淹七军威震华夏，正欲挥师北伐兴复汉室，白衣渡江了；<br>诸葛亮六出祁山火烧司马，正欲克复中原还于旧都，天降大雨了；<br>…………<br>还有“秉忠贞之志，守谦退之节”的荀彧；<br>还有“”大丈夫生于乱世，当带三尺剑，立不世之功”的太史慈；<br>还有“臣等正欲死战，陛下何故先降?”的姜维。<br>…………</p></blockquote><p><strong>梦是要醒的。</strong></p><p>「弹指间，九九归一。」</p><p>三国归晋，这一切，最后都输给岁月。</p><p>任你雄心壮志，任你英雄盖世，任你计谋百出，到头来都是一场空。这就是悲剧，只能看，无能为力。</p><p><br></p><p>一段三国，就像是一场梦。那些运筹帷握、浴血奋战、倾心托付、蹈死不顾，意义又何在呢?</p><p>人生亦如是。</p><p>人力渺小，事多徒劳，天地茫茫，万事皆空。</p><p><strong>「人生如梦，一尊还酹江月。」</strong></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;写下这个题目后，有太多话想要倾诉，却不知从何时何处开始，一时失言，脑中空白。&lt;/p&gt;
&lt;p&gt;引用一句诗词来开篇，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;大江东去，浪淘尽，千古风流人物。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;人生的记录这个东西，
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="思想" scheme="http://blog.ykqmain.com/tags/%E6%80%9D%E6%83%B3/"/>
    
      <category term="中国" scheme="http://blog.ykqmain.com/tags/%E4%B8%AD%E5%9B%BD/"/>
    
      <category term="历史" scheme="http://blog.ykqmain.com/tags/%E5%8E%86%E5%8F%B2/"/>
    
      <category term="文学" scheme="http://blog.ykqmain.com/tags/%E6%96%87%E5%AD%A6/"/>
    
      <category term="古代史" scheme="http://blog.ykqmain.com/tags/%E5%8F%A4%E4%BB%A3%E5%8F%B2/"/>
    
      <category term="文化" scheme="http://blog.ykqmain.com/tags/%E6%96%87%E5%8C%96/"/>
    
      <category term="英雄" scheme="http://blog.ykqmain.com/tags/%E8%8B%B1%E9%9B%84/"/>
    
      <category term="春秋战国" scheme="http://blog.ykqmain.com/tags/%E6%98%A5%E7%A7%8B%E6%88%98%E5%9B%BD/"/>
    
      <category term="三国" scheme="http://blog.ykqmain.com/tags/%E4%B8%89%E5%9B%BD/"/>
    
      <category term="汉唐" scheme="http://blog.ykqmain.com/tags/%E6%B1%89%E5%94%90/"/>
    
      <category term="感叹" scheme="http://blog.ykqmain.com/tags/%E6%84%9F%E5%8F%B9/"/>
    
  </entry>
  
  <entry>
    <title>观「诸子」有感</title>
    <link href="http://blog.ykqmain.com/zhuzi/"/>
    <id>http://blog.ykqmain.com/zhuzi/</id>
    <published>2018-08-24T16:00:00.000Z</published>
    <updated>2018-09-07T10:16:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>在之前的文章里插了一嘴，</p><blockquote><p>轴心时代的那些先贤们。德国思想家卡尔·雅斯贝尔斯在《历史的起源与目标》一书中第一次把公元前500年前后同时出现在中国、西方和印度等地区的人类文化突破现象称之为“轴心时代”。中国有儒道墨法为主的诸子百家，西方有希腊三贤，苏格拉底，柏拉图，亚里士多德。</p></blockquote><blockquote><p>西方的哲学不太了解，诸子百家过于庞大，在这里不能展开，我也没有那个能力和知识。只说在礼崩乐坏的春秋战国时代，四家对当时社会各抒己见、辩论激烈，孔子说退到周（周监于二代，郁郁乎文哉，吾从周——《论语 八佾》）；墨子说周不行，得退到大禹；孟子再往后退一步，回尧舜；道家说还不行，最好退到太古，无为而无不为；只有法家，与时俱进，顺应时代潮流，用他们的鲜血，将中国送入了新的封建时代。时代的变迁都是鲜血流出来的，“法家”代表一般不得善终。</p></blockquote><blockquote><p>虽然说中华五千年有吹嘘的成分，但是不得不承认中国历史悠久，在我看来，炎黄神话，夏质朴且飘渺，商始有文字但重鬼神，直到周（前1046年）才有文化，这个文化在诸子百家奠基，成熟于汉武帝时董仲舒罢黜百家独尊儒术，所以也叫汉文化。多说一点的是，由于儒家文化对中国人的植根深入，一旦出现了“什么”事，就批孔，到了又有政治需求了，又尊孔。我觉得这对孔子本人极其不公，且不说董仲舒的儒家和程朱理学（继承古代儒学融汇释老的新儒学）与先秦儒家（孔孟荀）天壤地别，光是对这样一位伟大的思想家如此对待，已经是无法形容的愚昧了。况且每个人都有时代的局限性，伟大如亚里士多德也不能摆脱奴隶制的时代局限，作为一个现代人，对某一种思想文化“取其精华，去其糟粕”应该是最基本的思考辨别能力。</p></blockquote><blockquote><p><em>没有人愿意真的回到过去，对过去的怀念，都是对现在的不满，亦或是是对现实的逃避。</em> 只有面对现实，直视问题，才能有未来。然而这一系列“问题”，是在伤人太深，情不自禁的追忆往日，不得不暂时逃避一会，回到那个美好的记忆里。</p></blockquote><p>最近又浏览了《孟子》和《庄子》，我本来是没有能力对「诸子百家」有什么见解的，但还是<strong>忍不住</strong>表达一二，就当是一种宣泄吧。至于是对什么的宣泄，则不重要了。</p><p><br></p><hr><p><br></p><p>我始终认为，对于一个人来说最高的荣誉，无疑是“名垂青史，流芳百世”。这即是西游记里面追求的长生不老之术。</p><p>早在高中时期我就说过，</p><blockquote><p>不要跟我谈以后，因为我看不到明天。</p></blockquote><blockquote><p>有可能一分钟后，就灰飞烟灭随风而去。我深知前人内心的孤独与苦闷，然而我的内心，也只有由后人去体会了。</p></blockquote><blockquote><p>“所以隐忍苟活，幽于粪土之中而不辞者，恨私心有所不尽，鄙陋没世，而文采不表于后世也。” (司马迁《报任安书》)</p></blockquote><blockquote><p>唯愿留下一部传世之作，让它在未来的某一天被后人欣赏，然后再梦游来天上与孤独的我谈心吧，也不枉此生了。</p></blockquote><p>现在看来，我当然没有太史公的悲惨遭遇，也没有太史公的「历史」使命，更没有太史公的才华横溢。</p><p><strong>对我来说，「传世之作」早已化为了虚无，「风骚」之作亦无能为力，姑且只有零零散散的语句倒是可以留得下来，也算是一丝存在过了的痕迹，作为曾经活在这个世界上的证据。“愿成「一言」，流表后世。” 我也心满意足了。</strong></p><blockquote><p>我有这个地方、也只有这个地方，能够尽情挥洒了。前几天看到一个帖子说，写博客总是觉得之前的写的不完美，喜欢删除。我之前也是那种心态，导致删除了太多宝贵的记忆。无论喜悲，回忆总是极其珍贵的人生“财富”，也许那时候的想法还挺幼稚，甚至未来再看的时候有些尴尬、有些“羞耻”，但它们确实是我人生中真实的一部分，属于我，组成了一个真实的我。以后的博客，我会尽量保存。</p></blockquote><p>写这篇文章，正好也能对我的人生某一方面做一个回忆，以及对二十余岁的我做一个小结。这年头，即使科技如此发达，我们看到的，都是他们想让我们看到的。当朝历史的粉饰，以及对前朝的抹黑，造就了即使真相只有一个，但是往往藏积太深，窥探不得。可以料想得到的是，在未来再看这篇文章稚气遍地，但也不能阻止我，留下一个<strong>属于此时此刻真实的我</strong>。</p><p>本篇的主题是「诸子百家」，当看到这「诸子」这个词时，即使《孟子》对我影响最大，但耳边萦绕而来的，仍然是那句<strong>「学而时习之，不亦说乎？」</strong> …………</p><p><br></p><hr><p><br></p><h2 id="初瞰儒家"><a href="#初瞰儒家" class="headerlink" title="初瞰儒家"></a>初瞰儒家</h2><p><br><br><br><br></p><p><strong>未完待续</strong></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在之前的文章里插了一嘴，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;轴心时代的那些先贤们。德国思想家卡尔·雅斯贝尔斯在《历史的起源与目标》一书中第一次把公元前500年前后同时出现在中国、西方和印度等地区的人类文化突破现象称之为“轴心时代”。中国有儒道墨法为主的诸子百家，西方有
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="诸子百家" scheme="http://blog.ykqmain.com/tags/%E8%AF%B8%E5%AD%90%E7%99%BE%E5%AE%B6/"/>
    
      <category term="哲学" scheme="http://blog.ykqmain.com/tags/%E5%93%B2%E5%AD%A6/"/>
    
      <category term="思想" scheme="http://blog.ykqmain.com/tags/%E6%80%9D%E6%83%B3/"/>
    
      <category term="中国" scheme="http://blog.ykqmain.com/tags/%E4%B8%AD%E5%9B%BD/"/>
    
      <category term="孔孟荀" scheme="http://blog.ykqmain.com/tags/%E5%AD%94%E5%AD%9F%E8%8D%80/"/>
    
      <category term="老庄" scheme="http://blog.ykqmain.com/tags/%E8%80%81%E5%BA%84/"/>
    
      <category term="感想" scheme="http://blog.ykqmain.com/tags/%E6%84%9F%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>国产动画思念集</title>
    <link href="http://blog.ykqmain.com/donghua/"/>
    <id>http://blog.ykqmain.com/donghua/</id>
    <published>2018-07-23T16:00:00.000Z</published>
    <updated>2018-08-11T03:14:59.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>上下四方曰宇，古往今来曰宙。</p></blockquote><p>由此来看，宇宙也即是“空间+时间”……</p><p><br></p><hr><p><br></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/donghua/dhc.jpg!shuiyin" alt=""></p><p>莫名其妙就高产了，从来没有在这么短时间连写两篇文章，就像我之前写过的「现在‘快餐时代’，Twitter、微博的兴起，几句话，几张图记录生活显得方便快捷，长篇大论显得极其艰难，很难有心思坐下来，长篇大论地写博客。」何况上次写“虹猫蓝兔”，回忆、构思，构建文章结构、逻辑顺序，找美图、音乐、排版，熬到了凌晨1点半，光是回忆，就花了足够的时间，对于一个强迫症来说，每一篇写在博客上文章，必是倾尽全力使其趋于完美，累成狗，但是确实在完成的时候，心情是愉悦的，起码我又在世界上添加了几个微不足道的字，留下了属于我自己的足迹。</p><p><br></p><hr><p><br></p><p>🎵 </p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/smy.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>目前疫苗事件的爆发，透支着他们的公信力，对于一个有良知的、普通的中国人来说，除了盼望清风之外，无可奈何。对于现实的不满，大多有两种缓解办法，<strong>一是做梦，二是怀古。</strong> 陶渊明辞官，有归去来兮，田园将芜胡不归；李白饮酒，有人生得意须尽欢，莫使金樽空对月；苏轼泛舟，有寄蜉蝣于天地，渺沧海之一粟。哀吾生之须臾，羡长江之无穷。</p><p>也让我不禁想起了，轴心时代的那些先贤们。德国思想家卡尔·雅斯贝尔斯在《历史的起源与目标》一书中第一次把公元前500年前后同时出现在中国、西方和印度等地区的人类文化突破现象称之为“轴心时代”。中国有儒道墨法为主的诸子百家，西方有希腊三贤，苏格拉底，柏拉图，亚里士多德。</p><p>西方的哲学不太了解，诸子百家过于庞大，在这里不能展开，我也没有那个能力和知识。只说在礼崩乐坏的春秋战国时代，四家对当时社会各抒己见、辩论激烈，孔子说退到周（周监于二代，郁郁乎文哉，吾从周——《论语 八佾》）；墨子说周不行，得退到大禹；孟子再往后退一步，回尧舜；道家说还不行，最好退到太古，无为而无不为；只有法家，与时俱进，顺应时代潮流，用他们的鲜血，将中国送入了新的封建时代。时代的变迁都是鲜血流出来的，“法家”代表一般不得善终。</p><blockquote><p>虽然说中华五千年有吹嘘的成分，但是不得不承认中国历史悠久，在我看来，炎黄神话，夏质朴且飘渺，商始有文字但重鬼神，直到周（前1046年）才有文化，这个文化在诸子百家奠基，成熟于汉武帝时董仲舒罢黜百家独尊儒术，所以也叫汉文化。多说一点的是，由于儒家文化对中国人的植根深入，一旦出现了“什么”事，就批孔，到了又有政治需求了，又尊孔。我觉得这对孔子本人极其不公，且不说董仲舒的儒家和程朱理学（继承古代儒学融汇释老的新儒学）与先秦儒家（孔孟荀）天壤地别，光是对这样一位伟大的思想家如此对待，已经是无法形容的愚昧了。况且每个人都有时代的局限性，伟大如亚里士多德也不能摆脱奴隶制的时代局限，作为一个现代人，对某一种思想文化“取其精华，去其糟粕”应该是最基本的思考辨别能力。</p></blockquote><p><em>没有人愿意真的回到过去，对过去的怀念，都是对现在的不满，亦或是是对现实的逃避。</em> 只有面对现实，直视问题，才能有未来。然而这一系列“问题”，是在伤人太深，情不自禁的追忆往日，不得不暂时逃避一会，回到那个美好的记忆里。</p><p>以前的乐趣很多，动画是其中的一大支柱，这里面包含了无数的喜怒哀乐，组成了一个自动屏蔽了伤心回忆的美好虚拟世界。即使是动画也有很多种类，按国家分类有国产，日本，美国和其他，其中国产动画和日本动画无疑是对90后影响最大的。最近对国产动画沉迷其中，前两天回忆了宏梦卡通的<a href="http://blog.ykqmain.com/honglan/" target="\_blank">虹猫蓝兔系列</a>，还有许多国产动画也非常精彩。</p><p><strong>本篇博客主要以国产动画的回忆为主</strong>，并不断更新，既能让自己身心稍微愉悦，也能对自己的过去有个记录。不得不提文字的力量是非常强大的，也是人类最伟大的发明之一，它能超越时空，让两个不同时空的人，见字如面，犹如高山流水遇知音，相互交流。</p><p><br></p><hr><p><br></p><p>打开了QQ音乐随便听，一直人工智障的推荐算法不得我心，可能我这两天一直循环虹猫蓝兔，他终于给我推荐了一个首令我发呆沉思的一首歌。</p><p>🎵 诺言 - 陈洁丽</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/ny.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>世界上美好的东西有限，音乐便是其中之一。人，生来不懂音乐，真的很亏。然而对我而言，可预见到的，他将是我人生的遗憾之一。每一首歌，每一部动画、电影，都伴随着过去人和事的回忆，就像之前我写过的，</p><blockquote><p>期待你的歌声，是为了永恒的铭记。<br>多少年后，因为太多对世界的无奈和不屑，我会忘记一切、除了歌声储存的一切，<br>即使经过岁月的洗礼显得“并不太美好”。</p></blockquote><p>这首歌则是把我拉入了那一段记忆里。他背后承载的是我记忆里两部画风相近，同一家公司制作的两部动画——蓝弧动画的《洛洛历险记》(2009)和《超兽武装》(2011)。这两部动画，都是机甲科幻冒险的高智商动画片。</p><p>《洛洛历险记》有重制版《武战道》</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/donghua/ll.jpg!shuiyin" alt=""></p><p><br></p><p>《超兽武装》有两部《仁者无敌》和《勇者无惧》。</p><center class="half"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/donghua/c1.jpg!shuiyin" width="350"><img src="http://blog-1253481725.picgz.myqcloud.com/donghua/c2.jpg!shuiyin" width="350"><br></center><p><br></p><p><strong>先说《洛洛历险记》(2009)，</strong></p><p>洛洛是游戏高手，从现实世界进入到一个“机战王”的虚拟世界里面，机车族和猛兽族是两个对立阵营。设定里，机车族有6个“部族”，猛兽族有3个“部族”，2个机车族合体可以打败一个猛兽族，而且2个合体的机车有区别，能打败的对象也是唯一的。也就是说，其中有一定的“一一对应”的关系。这个设定也导致了，本剧里面最精细的一个谋略。人物的刻画，让小时候的我对猛虎王有一种“曹操”的感觉。</p><p>值得一提的是，动画不是两个阵营的无脑对打，里面有团结机车族的冒险历程，有忠心耿耿且惺惺相惜的反派金铁兽，也有一个黄雀在后的蓝毒兽，与虹猫蓝兔里面的马三娘以及超兽武装里面的鬼王有异曲同工之妙。动画，不应该是低幼的代名词，很多人看到能变形的机甲就讽刺抄袭变形金刚，动画的核心与影视一样，仍然是剧本，是剧情。</p><p>而且蓝弧动画的台词很多都具有一定的哲理性，这在超兽武装里面更是表现得淋漓尽致。</p><p><br></p><p><strong>再说《超兽武装仁者无敌》(2011)，《超兽武装勇者无惧》(2011)，</strong></p><p>🎵 尘曦 - 陈洁丽</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/cx.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>《超兽武装》是蓝弧动画，以及奥飞动漫共同出品的，[奥飞就是那个战龙四驱，雷速登闪电冲线，巴啦啦小魔仙，电击小子，铠甲勇士，火力少年王……的那个公司]，这里先不提奥飞，只讲《超兽武装》。</p><p>由于年代久远，我忘了完整的剧情，我只记得基本的轮廓以及当年看这部剧的感觉。中学看的，每天吃完饭看一集就去上晚自习，如果说虹猫蓝兔是第一国产武侠动画，那么超兽武装就是第一国产哲理动画。如果不完整看完两部动画，是无法理解动画表达的东西的。</p><p>主角穿越于不同的平行宇宙冒险，每一个平行宇宙都有一个动人而发人深思的故事。世界设定里面仍然是两大阵营，雪皇和冥王。</p><center class="half"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/donghua/xh.jpg!shuiyin" width="350"><img src="http://blog-1253481725.picgz.myqcloud.com/donghua/mw.jpg!shuiyin" width="350"><br></center><p>初看动画，会因为各种表象、外表、名字不自觉地把雪皇认为是正方，冥王是反方。然而大多数富有哲理的台词，都是冥王说出来的。在最后决战的时候，雪皇和冥王僵持不定，第三方鬼王站出来打破了平衡，剧情出现了非常强烈的反转。最后顿悟，这个世界里没有所谓的反派，立场不同，存在着一种平衡和轮回的哲学。</p><p>由于本人天生内敛，不善言辞，加上记忆不够完善，<strong>以下资料搜集于网络，主要是百度和豆瓣</strong>。篇幅过长，但是如果你已经看到了这里，请继续看完，必有收获：</p><blockquote><p>《超兽武装》引入了平行宇宙的概念，描述了神奇的宇宙轮回，一场波澜壮阔、跨越时空的战役。<br>七大平行宇宙每十万年连通七天。十万年前，冥王与雪皇两方势力展开圣战，结果却是双方BOSS各自被封印。<br>伴随着这短短的相交期，一场末世天劫就要到来了，主角穿越于不同的平行宇宙冒险，每一个平行宇宙都有一个动人而发人深思的故事。</p></blockquote><blockquote><p><br></p></blockquote><blockquote><p>版权归作者所有，任何形式转载请联系作者。<br>作者：FNG电影小店（来自豆瓣）<br>来源：<a href="https://movie.douban.com/review/9220707/" target="_blank" rel="noopener">https://movie.douban.com/review/9220707/</a><br>如果说超武第一部第二部是优秀作品，则两部结合起来就是神作。<br>纵观全剧，剧情方面堪比好莱坞甚至有过之而无不及。<br>一天的主时间线，几条支线同时展开又互相联结。<br>而整条主线和每条支线背后都带来一个又一个震撼人心又令人深思的世界观和人生观。<br>周而复始的永恒轮回，剧情前后呼应又环环相扣紧紧相连，转折一浪高过一浪，加入了很多关于时光穿梭和平行宇宙的概念，还有很强的喜剧成分，再加上颠覆性结局。<br>这部剧不像是给小朋友看的简简单单的动画片，而像是一部科幻片战争片和教育片，简直是国漫良心得不能再良心的巨作。不愧被称为国漫第一神作，豆瓣9+分数真的不为过！！！</p></blockquote><blockquote><p><br></p></blockquote><blockquote><p>版权归作者所有，任何形式转载请联系作者。<br>作者：王终军（来自豆瓣）<br>来源：<a href="https://movie.douban.com/review/8059435/" target="_blank" rel="noopener">https://movie.douban.com/review/8059435/</a><br>《超兽武装》绝对不仅仅是一部时空穿越、宇宙轮回的奇幻冒险动画，其背后隐藏的人生哲理，在没有任何说教意味的前提下，一层层地展现在观众面前。</p></blockquote><blockquote><p>《超兽武装》中的主线只有一条，那就是通过超兽战队的一次次历险，逐步突显追求平衡这一主题。就像苗条俊说的：<br>“这个世界，强弱可以互换、黑白可以颠倒，族群之间的实力，也会此消彼长，所以，和平只能是短暂的，我们的敌人和朋友也都是短暂的，这个世界根本不可能实现永恒的和平，但也正因为如此，世界才需要我们超兽战士。我们既不站在冥王的一边，也不站在雪皇的一边，因为，我们是超兽战士，我们的使命就是锄强扶弱，维持宇宙中的平衡。”<br>《超兽武装》的世界里，有七个平行宇宙，不同的宇宙里，有着不同的世界，分别居住着不同的族群。王巍的聪明之处在于，他并没有把“平衡”这个问题放在横向的平行宇宙里，而是利用十万年的时间纵向展开得出了这个结论，时间可以证明一切，“平衡”这个主题得以升华。</p></blockquote><blockquote><p>在追求平衡这条主线中，“因果循环”这个主题是最发人深省的——“原来所有的果，不过是开始时种下的因。”<br>十万年前，龙戬看到青龙族白龙族内战，救下了白龙族女孩龙莹；而十万年后，蝎子王龙莹带领军队血洗青龙族。十万年前，泰雷看到金象族人的残暴，救下了一个鲸鲨族的奴隶；而十万年后，这个奴隶变成鲸鲨王，金象族则成为了鲸鲨族的奴隶。十万年前，夜凌云打败夜霄子成为云蝠军团的首领；而十万年后，一手建立的云蝠军团却毁在自己手中。十万年前，火麟飞不经意间帮助了狮王，成为了冥界战士；而十万年后，他却为阻止冥王复活踏上征程。</p></blockquote><blockquote><p>真正验证了那句话，已有的事，后必再有；已行的事，后必再行。日光之下，并无新事。<br>这就是我眼中的《超兽武装》，一部国产动漫良心之作。就像每部动漫或多或少都会有些瑕疵，《超兽武装》也不例外，台词重复太多是这部动漫的最大缺点，但并不影响整体的评价，这依然是一部不可多得的作品。</p></blockquote><blockquote><p><br></p></blockquote><blockquote><p>版权归作者所有，任何形式转载请联系作者。<br>作者：傻蛋小魔王（来自豆瓣）<br>来源：<a href="https://movie.douban.com/review/8461865/" target="_blank" rel="noopener">https://movie.douban.com/review/8461865/</a><br>《超兽武装》是我在初中的时候看的。当时看完之后，几乎震撼了我的世界观。它和我当时看的其他国产动画完全不是一个档次的，引发了我深刻的思考。虽然我之后也看过很多优秀的动画作品（包括日本的），但没有一部对我的影响之深远可以与这部作品相比。现在我已经上大学了，但它的剧情和经典的台词仍然深深地留在我脑海里。它是我心目中当之无愧的神作。</p></blockquote><blockquote><p>它的故事大致可以拆分为第二平行宇宙，第三平行宇宙，第四平行宇宙，和第五六七平行宇宙。每一个平行宇宙都有一个动人而发人深思的故事。</p></blockquote><blockquote><p>讲几个令我印象深刻的地方。</p></blockquote><blockquote><p>1）第二平行宇宙的故事</p></blockquote><blockquote><p>因为一个偶然引发的种族矛盾，一直到十万年后冤冤相报，血债血还。</p></blockquote><blockquote><p>“如果我是弱者，那么请消灭我。否则，我必让你灭亡。”</p></blockquote><blockquote><p>“为什么你救了我又要杀死我，为什么？”</p></blockquote><blockquote><p>它让我们看到了仇恨和偏见会酿成怎样的悲剧。或许能让我们有一丝警戒，不要陷入仇恨的锁链里。</p></blockquote><blockquote><p>这是一个美丽的故事，也是一首悲壮的史诗。</p></blockquote><blockquote><p>（2）第三平行宇宙的故事</p></blockquote><blockquote><p>前篇中就有了令人深思的对奴性的探讨。</p></blockquote><blockquote><p>“这世界上有一种人，虽然是人，但他们从来就没有过过属于自己的生活。他们的一切都遵照他人的意思而活。这种人千古以前就有，千古以后还是不会消失。这种人永远都得不到自由，因为他们的心灵早就被枷锁禁锢了。”</p></blockquote><blockquote><p>“就算你解开奴隶身上的枷锁，但是能够解开他们心灵上的枷锁吗？</p></blockquote><blockquote><p>的确，第三平行宇宙前篇的故事，金象族人民的奴性一直都没有得到解决。中间战况一有波动就想放弃，还立刻就翻脸杀死了元正长老。虽然最终杀死了鲸鲨王，但他们的奴性还是没有得到改变，云蝠军团一来就又想投降。虽然战斗已经结束了，但他们根本就没有得到解放。他们能得到自由吗？真是一个沉重的问题。</p></blockquote><blockquote><p>更震撼的是后篇。</p></blockquote><blockquote><p>历经千辛万苦终于杀死鲸鲨王，本以为事情结束了，也是一个可歌可泣的故事。然而真实远比这更加黑暗。奴隶们历尽千辛万苦的反抗，竟然只是一个轮回。曾经的被压迫者摆脱枷锁后，又使世界走向了另一场浩劫。</p></blockquote><blockquote><p>“他们现在获得自由，可是很快，他们的欲望就会得不到满足。他们会占领各自的地盘，来种粮食和建房子。进而抢夺别人的地盘来种粮食和盖房子。 一个人是不会嫌自己的粮食太多的，一个人也不会嫌自己住的房子太大的，当他有了一所小房子，他就会想要一所大房子，当他有了一所大房子，他就会想要一片大房子。他们会想尽一切办法，包括穷凶极恶和仁义道德的办法，来掠夺一切资源。 人的欲望就像高山上的滚石，一旦开始就再也停不下来了。”</p></blockquote><blockquote><p>鲸鲨王用自己的行动证明了他的言论的正确性。</p></blockquote><blockquote><p>我不禁想起了《共产党宣言》里马克思和恩格斯那充满信心地描绘一个理想的共产主义社会的慷慨言辞。然而真正的理想国度究竟在何方呢？第三平行宇宙的故事为此打上了一个沉痛的问号。和平总是那么短暂，人类的贪婪真的会允许那样一个理想国的存在吗？</p></blockquote><blockquote><p>古代那么多朝代的更迭，每一次起义也是可歌可泣的，也是壮丽的史诗。可它们最后也成为了历史的尘埃。这竟让我感到了一丝历史的苍茫感。</p></blockquote><blockquote><p>元正长老也是一位令我印象深刻的悲剧人物。他的理念几乎和雪皇一样，为了向世人证明爱才能感化一切，用了大半个生命去感化金象族人。最终的结果呢？他被金象族人自己刺死了，并且金象族人直到最后也没有改变身上的奴性。</p></blockquote><blockquote><p>他的人生几乎是完全失败的，他恰恰证明了爱是没有用的，武力才是一切。</p></blockquote><blockquote><p>（3）第四平行宇宙的故事</p></blockquote><blockquote><p>这个故事讲述了如何带领一个团队，以及强与弱的辩证关系。当团队的领导者过分强势的时候，或许会造成手下的不满和背叛，他这时候反而成了弱势。而适当地退让一点，或许会使整个团队的凝聚力更强。这是老子的一种“不争“的思想。</p></blockquote><blockquote><p>“上善若水。水善利万物而不争，处众人之所恶，故几于道。”</p></blockquote><blockquote><p>“夫唯不争，故天下莫能与之争。” </p></blockquote><blockquote><p>但最后鬼王那段几乎把这一段又完全推翻了。。只能说这个剧本的目的就是不断地让你感到震撼吧，你所看到的未必是真实的。</p></blockquote><blockquote><p>（4）第五六七平行宇宙的故事</p></blockquote><blockquote><p>这一段我按照几个我印象比较深的人物来讲吧。</p></blockquote><blockquote><p>1，狮王</p></blockquote><blockquote><p>第三集他刚一出场就展现了极为强大的实力，在观众心中留下了深刻的印象。</p></blockquote><blockquote><p>然而在十万年前他却是一个很惨的冥界将领。他对冥王忠心耿耿，只是实力不足，一直无法超兽武装。他遇到了一波波敌人，风耀，项羽，因为无法超兽武装，他始终什么也做不到。</p></blockquote><blockquote><p>最后在冥王雪皇大战中，他终于得到异能锁，终于可以风光一把了。我几乎肯定以为他要打败风耀了。然而只能说不愧是超兽的编剧吧，他还是被风耀打得落花流水。不知道各位看到他被打到深渊里的时候是什么心情，我当时的心情真是惆怅无比，难以描述。</p></blockquote><blockquote><p>这才是现实，残酷的现实。就算你努力了许久，又得到了贵人相助，和比你高一个档次的强者相比还是被秒杀。动画里的理想情节，很多时候是不存在的。</p></blockquote><blockquote><p>十万年后他的实力终于可以和风耀相比，但没打多久他就被鬼王杀了。在看到第三集他的强大的时候，有多少人能想到他的一生竟是如此悲惨呢？</p></blockquote><blockquote><p>2.风耀</p></blockquote><blockquote><p>他毫无疑问是一个正直的人，一开始对妹妹也是非常宠爱的。他也对雪皇忠心耿耿，一般来讲怎么看都是个“好人”。</p></blockquote><blockquote><p>但他却没有足够的判断能力，也就是“愚忠“，被鬼谷忽悠得团团转，甚至相信鬼谷而不相信自己的妹妹。不知道各位有没有这种感觉，他参加的大部分战斗，我们都是不希望他打赢的。和狮王打，和火麟飞打，和风影打。可他太强大了，他都赢了。然而最后他终于明白过来了，和鬼王打，这个时候我们希望他打赢了，可这个时候他打不过了。他这个“战神”的定位非常尴尬，使得他打赢了之前所有的战斗而打不赢鬼谷。</p></blockquote><blockquote><p>后面的剧情让人感到无比的“憋屈”。不得不说编剧的能力令人叹服。</p></blockquote><blockquote><p>他是一个塑造得非常成功的“反面角色”。作为一个“正派人物”，却让我们如此讨厌。</p></blockquote><blockquote><p>3.鬼谷</p></blockquote><blockquote><p>大boss，一个塑造得非常成功的反派。</p></blockquote><blockquote><p>他的恶心程度相信看过的朋友都深有体会。他让我看到了一个真正合格的反派所应该具有的特点。和他相比，大部分国漫的反派实在正义得不行。</p></blockquote><blockquote><p>“貌似没有威胁的，才往往是致命的。”</p></blockquote><blockquote><p>4.冥王和雪皇</p></blockquote><blockquote><p>本剧两大核心人物。</p></blockquote><blockquote><p>冥王，这个当了33集反派的角色，他真的是个反派吗？在勇者无惧里他被“洗白”了，但只看前33集的话，他是不是反派呢？</p></blockquote><blockquote><p>如果按其他国产动画的标准，肯定是的。想要统治全宇宙，称霸全宇宙，这是标准的反派的特征。因此编剧在前几集的时候极力地渲染这个特征，来先给观众灌输一个信息：冥王是反派。这样，在后来这个信息受到观众的怀疑的时候，给观众造成的反差感就更加强烈。</p></blockquote><blockquote><p>第一次让我对这个信念产生怀疑的，是30集“正邪对立”里冥王的嘴炮。（在标题中编剧仍在灌输“冥王是反派”这一信息。）</p></blockquote><blockquote><p>冥王：你们为什么要来阻止我复活呢？</p></blockquote><blockquote><p>火麟飞：如果你复活，就会统治所有的宇宙，所以我们超兽战队必须阻止你！</p></blockquote><blockquote><p>冥王：好，如果你们成功了，而我也没有复活，那你们打算谁去接管平行宇宙呢？</p></blockquote><blockquote><p>泰雷：我们不会去接管任何一个宇宙，我们会让每个宇宙的族群自己掌管自己。</p></blockquote><blockquote><p>冥王：那如果这些平行宇宙之间发生了矛盾，将有谁来主持大局呢？是你吗？还是你？</p></blockquote><blockquote><p>龙戬：根本不需要由谁来主持大局，他们的矛盾可以由他们自己来解决。</p></blockquote><blockquote><p>冥王：如果由他们自己来解决，那么一定是强者战胜弱者。而你们实际上，就是在纵容另一个强者的出现。既然你们可以容忍另一个强者的出现，那为什么这个强者不能是我呢？</p></blockquote><blockquote><p>火麟飞：如果真的出现这种暴力的冲突，那我们一定会去帮助正义的一方的。</p></blockquote><blockquote><p>冥王：很好，这等于你们想要主持公道。可是你们知道吗，这实际上就是统治者才会去做的事情。因为只有统治者，才可以根据自己的意志判断对错，来进行所谓的主持公道。</p></blockquote><blockquote><p>泰雷：就算由我们来接管这些宇宙，我们也绝对不会限制其他人的自由，更不会让他们互相侵略对方。我们会让这些宇宙更加美好。</p></blockquote><blockquote><p>冥王：太好了。既然你们这么有信心，那就由你们来接管七大平行宇宙吧。</p></blockquote><blockquote><p>火麟飞：你说什么？你这是什么意思？</p></blockquote><blockquote><p>冥王:你们不是要推翻我吗。你们的使命已经达成了。</p></blockquote><blockquote><p>火麟飞：什么？</p></blockquote><blockquote><p>冥王：当我到达高处，便发觉自己总是孤独。无人同我说话，孤寂的严冬令我发抖，我在高处究竟意欲何为。</p></blockquote><blockquote><p>龙戬：大家看，这最后的烛火就要熄灭了。等烛火熄灭的时候，就是冥王苏醒的时候。</p></blockquote><blockquote><p>火麟飞：没错，冥王一定是在拖延时间！趁他还没完全苏醒，我们一起上去消灭他！</p></blockquote><blockquote><p>说实话，这比一些日漫中的洗白要高了N个档次。我就是要称霸宇宙，我现在和你讲道理，这就是对的。好一个狂傲的冥王！</p></blockquote><blockquote><p>这一段的嘴炮堪称最使我震撼的嘴炮之一（当时初中的前提下），对无数国漫中“想要称霸宇宙=反派”这一几乎是铁板钉钉的观点进行了冲击。而且只看这几句话的话，几乎没有反驳的余地。</p></blockquote><blockquote><p>泰雷提出的质疑“就算由我们来接管这些宇宙，我们也绝对不会限制其他人的自由，更不会让他们互相侵略对方。我们会让这些宇宙更加美好。”意思就是冥王对宇宙的管理太过残酷。然而这个质疑是无力的，“不会限制其他人的自由”和“不会让他们互相侵略对方”就相互矛盾。冥王那句“太好了。既然你们这么有信心，那就由你们来接管七大平行宇宙吧。“意思就是“你们这些乳臭未干的的小孩子，跟你们讲也讲不清楚。就凭你们的能力来接管宇宙，肯定是乱七八糟，你们还是省省吧。”</p></blockquote><blockquote><p>冥王的观点就是弱肉强食，就是强者应该统治弱者，“力量才是一切”。用社会学的名词来说，就是社会达尔文主义。</p></blockquote><blockquote><p>而雪皇的观点和他完全相反，“爱才是一切”，要用爱包容所有人。大概算是和平主义吧。</p></blockquote><blockquote><p>这种观点本来讲究和平，但却造成了巨大的矛盾冲突。因为雪皇的爱不包括狼族和狮族，给必须进攻其他族群才能生存的狼族和狮族带来很大的麻烦。（为什么狼族必须进攻其他种族，这一点作品中没有说清楚，但是现实中确实是狼必须吃羊才能活下去。）因此造就冥王这一代枭雄，然后鬼谷捣鬼激化矛盾，导致大战同归于尽。即使雪皇的爱包括狼族和狮族，她的理念仍然是矛盾的，因为这样就保护不了“弱小的羊群”。总之不可能使所有人都满意。雪皇的理念在本作的设定中存在无法调和的矛盾。</p></blockquote><blockquote><p>“爱能创造一切，也能毁灭一切。当你用爱保护羊群不受狼的伤害，那么对于狼，这种爱心就等于毁灭，因为他们会因此而被活活饿死。这个世界本就如此，不是羊死就是狼死，不是弱小的狼被饿死，就是弱小的羊被咬死。或许，这世界太过残酷，然而，却因此而美丽！”</p></blockquote><blockquote><p>雪皇这边，一向贯彻爱才是一切的理论。然而结果却非常糟糕，不仅使得狼族和狮族难以生存，而且身边出了个鬼谷还浑然不知。然后鬼谷灭了第六平行宇宙，嫁祸给冥王，雪皇居然就直接信了，然后去和冥王发动战争。可以说雪皇在这部剧里的表现完全是一个昏君。反观冥王，冥王这边的手下都是忠心耿耿，愿意为冥王出生入死。</p></blockquote><blockquote><p>这部作品的最大的特色就是对传统价值观的强烈冲击。</p></blockquote><blockquote><p>冥王，一个要称霸宇宙的“反派”，他居然也是有他的正确性的。</p></blockquote><blockquote><p>雪皇，贯彻“爱”的理念，却造成了极大的恶果。元正长老已经是个悲剧了，然后她听信鬼谷发动战争又是悲剧。</p></blockquote><blockquote><p>而且大家或许可以感受到，雪皇的士兵都非常使人讨厌。雪皇是讲究“爱”的，而她手下的士兵根本就不爱别人，或者说他们的爱只包括他们的同族，连风影都包括不了。而冥王，虽然是一直挂着“黑暗”“邪恶”的标签，他的手下却都是忠心耿耿的战士，例如狮王，金狮和银狮。</p></blockquote><blockquote><p>这就和我们的传统价值观形成了强烈的冲突，而这种冲突才能使我们震撼，引发我们去思考。这就告诉我们，事物的本质很可能和表面上所看起来的有极大的出入。不是宣扬爱的就是真的是完美的世界，也不是看上去是黑暗的就是真的邪恶的，甚至可能正好相反。我们要用自己的脑子去思考，去判断。</p></blockquote><blockquote><p>当然，这部剧里偏向认为雪皇的观点不对，冥王的是对的，也只是一种说法。本剧中的很多情节和设定都在对雪皇的观点进行批判，并且强化冥王的观点。在这部剧的设定里，雪皇的观点存在无法调和的冲突，并不代表现实世界里雪皇的观点也不能施行。冥王的观点比较正确，同样不能推广到现实世界。现实世界的希特勒就是一个典型的反例。帝国主义，法西斯主义还是要反对的。</p></blockquote><blockquote><p>不过，它给了我们一个思考的机会，告诉我们世界没有这么简单,不是非黑即白的二元论，这个立意已经远超出大多数国产动画。而敢于肯定社会达尔文主义也是在国产动画中很少见的。其他国产动画几乎全部批判这个观点，持有这种观点的都是反派并且最后都被消灭了。</p></blockquote><blockquote><p>最后，很庆幸我能遇到《超兽武装》，使我对国产动画的记忆里存留了一抹亮色。也感谢编剧和制作组成员们为我们带来这样一部精彩的作品。</p></blockquote><p>看了别人的分析评论，我在自愧不如的同时，更加坚定了，<strong>有想法要及时记录下来</strong> 的观念，记忆永远没有实实在在的文字可靠。<em>以上摘录，若有侵权，请联系我删除。</em></p><p><br></p><hr><p><br></p><p>以前看的电视，一般都不太完整，每当看完一部动画的时候，由于自身表达能力不足，文字功力欠缺，总像是憋在脑子里面的气，出不去，但是心里明白。就像以前我说过的，</p><blockquote><p>很多时候，有着对动画世界的无限向往，看完一部动画，总要回味良久，或悲伤不能自拔，或热血自我代入。搜集着各种美图壁纸，去各个论坛讨论一番，买两个周边，最喜爱的行为莫过于换个头像了。</p></blockquote><blockquote><p>动画里的人物，似乎不用为了衣食住行而担忧，有最好的伙伴，还有优秀的她，美好的令人心碎。而我等小人物却为此奔波一生。</p></blockquote><p><br></p><p>我始终认为优秀的动画作品，是短小而精悍的，比如以上提到的动画，以及日本的《死亡笔记》、《未闻花名》、《四月是你的谎言》等等。也有反例，节奏拖拉，因赚钱而败坏口碑等等，具体作品就不多说了。商业化，无可厚非，但是我对其已经没了情怀。当然情怀不值钱。</p><p><strong>但是情怀是信仰，多少钱都不换；情怀是由时间塑造且不可逆的，多少钱都换不来。</strong></p><p>对我而言，以前看了一部动画，如果能达到角色扮演的地步，留在心底久久不能释怀，直到现在还记忆深刻且不反感的，那么他就是情怀了。</p><p>🎵 少年英雄小哪吒 - 杨采钰 《哪吒传奇》（2003）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/nz.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 活得更精彩 - 陶喆 《帅狗黑皮》（2003）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/hdgjc.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 那就是你 - 佚名 《瑶玲啊瑶玲》（2004）[中韩]</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/njsn.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 人生如棋 - 钟茵波 《围棋少年》（2005）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/rsrq.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 生命的云彩 - 沸点乐队 《憨八龟的故事》（2006）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/smdyc.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 霞光 - 曲锦楠 《精灵世纪》（2006）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/xg.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 中华小子 - 热拉尔·罗贝尔 《中华小子》（2006）[中法]</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/zhxz.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 别看我小 - 金海心 《小鲤鱼历险记》（2007）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/bkwx.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 我为厨艺狂 - 周逸群 《神厨小福贵》（2007）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/wwcyk.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 快乐星猫 - 牛奶咖啡 《快乐星猫》（2008）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/klxm.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 战国时代 - 王强《福五鼠》（2008）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/zgsd.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 四季 - 曾黎 《三国演义》（2009）[中日]</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/sj.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 你的笑脸 - 唐妞 《蓝猫龙骑团》（2010）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/ndxl.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>🎵 再飞行 - 逃跑计划 《星游记》（2011）</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/zfx.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><p>时间有限，精力有限，暂告一段落。</p><p><strong>未完待续</strong></p><p><br></p><p>🎵 快点告诉你 - 蓝沁</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/donghua/kdgsn.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>“当你仰望星空,以为那些闪耀的星光都是亘古之前的残迹，非也，那是你的双眼洞穿了光阴，宇宙的岁月像画卷一样平展在天宇之上。”</p><p>我们的信息以光速在宇宙各处遍历，我们从来不曾死去，我们的此在占有时间，当我们的信息被彼在观测到时，我们就是存在的。</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;上下四方曰宇，古往今来曰宙。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;由此来看，宇宙也即是“空间+时间”……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://blog-1253481725
      
    
    </summary>
    
      <category term="动画" scheme="http://blog.ykqmain.com/categories/%E5%8A%A8%E7%94%BB/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="励志" scheme="http://blog.ykqmain.com/tags/%E5%8A%B1%E5%BF%97/"/>
    
      <category term="经典" scheme="http://blog.ykqmain.com/tags/%E7%BB%8F%E5%85%B8/"/>
    
      <category term="感想" scheme="http://blog.ykqmain.com/tags/%E6%84%9F%E6%83%B3/"/>
    
      <category term="国产" scheme="http://blog.ykqmain.com/tags/%E5%9B%BD%E4%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>虹猫蓝兔——致童年，望归来</title>
    <link href="http://blog.ykqmain.com/honglan/"/>
    <id>http://blog.ykqmain.com/honglan/</id>
    <published>2018-07-21T16:00:00.000Z</published>
    <updated>2018-07-23T02:26:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>好久没有看动画了, 现在的大多数动画，画质倒是能感动哭，却完全没有能提得起兴趣的剧情。由此甚是想念以前老的动画，以及那个时候看动画的感觉。</p><p><br></p><hr><p><br></p><p>日常逛了下B站，看到了<a href="https://www.bilibili.com/bangumi/media/md5373/" target="_blank" rel="noopener">《虹猫仗剑走天涯》</a>，随手点进去回忆了一下结局。</p><p>🎵 幸福 - 袁接伟</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/honglan/xingfu.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/2.jpg!shuiyin" alt=""></p><p>看哭了，又想起了初中的那个暑假，以及小鹿姐姐。少儿频道早上会重播前一天晚上的动画，一般是过早回来守着看，几乎一集不落，以至于现在我还能记得许多剧情，这在网络不发达的年代是很难得的。</p><p>曾经因为洗澡错过了CCTV6的《瑶玲啊瑶玲》最后一集，失落了很久，最后不知道怎么才走出来的。</p><p>不得不感叹，<strong>以前的电视真好看。</strong></p><p><br></p><hr><p><br></p><p>之后又情不自禁地点开了<a href="https://www.bilibili.com/bangumi/media/md5375" target="_blank" rel="noopener">《虹猫蓝兔勇者归来》</a>，直到现在，我才得知，当年的宏梦卡通已经被收购，而勇者归来也没有了后话，原定104集，目前只有52集。</p><p>🎵 勇者归来 - 薛振华</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/honglan/yongzheguilai.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/4.png!shuiyin" alt=""></p><p>看到别人的评论了解到，</p><blockquote><p>《虹猫蓝兔勇者归来》是“虹猫蓝兔系列”最后一部正统武侠续作，未填完的坑，当年第一版海报时，曾打出虹猫蓝兔武侠收宫作的标题，后来怕粉丝伤心这版海报就一直在官方的电脑里，宏梦卡通鼎盛时是有上千人员工的，后来整个公司就二十几个人了，当年很多事情发生的很突然，勇者归来的后续就搁置了，因为宏梦没钱了没人了，被收购前一直在制作跳跳外传，当时就差后期配音和剪辑了，也就是新公司现在在宣传的七侠传外传，画风辣眼睛，因为当时宏梦已经没钱做原来的画风，无奈做了Flash，后来宏梦卡通被长城动漫收购，虹猫版权也卖给了别的公司，曾经的宏梦卡通就这样没落了。<br>——via 浮生梦行  在 《勇者归来》下的热评</p></blockquote><p>看到这时，辗转反侧，难以入眠。</p><p><br></p><hr><p><br></p><p>接着花了小半天跳着补完了最经典的<a href="https://www.bilibili.com/bangumi/media/md5366" target="_blank" rel="noopener">《虹猫蓝兔七侠传》</a>，<strong>温故知新，引人入胜，笑中带泪，热血沸腾，依依不舍，真是舍不得看完。</strong></p><p>🎵 人生不过是一百年 - 袁接伟</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/honglan/rensheng.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/1.jpg!shuiyin" alt=""></p><p>剧情一开始就让我对“张家界”这个风景秀丽的地方的感觉非常亲切，感叹玉蟾宫宫主蓝兔的美丽善良以及坚强，不是圣母，也绝非花瓶，毫无疑问堪称人生第一代“女神”；感叹一身正气潇洒大气的混世魔王大奔；感叹莎丽在被如此对待之后仍能站起来苦练左手剑法的坚强勇敢；感叹卧底魔教十年隐忍最后才公布身份的护法跳跳。当然还有悬壶济世的团队奶妈逗逗，顾家爱妻的达达，以及不用过多描述的虹猫。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/lz.png!shuiyin" alt=""></p><p>为紫兔掩护受伤的虹猫而自曝触动，为莎丽的遭受心痛不已，在蓝兔为莎丽在百草谷滴血碧血真情七叶花感动得头皮发麻，在老牛为一生兄弟大奔牺牲时眼含泪光，在六嫂为保护奔雷剑的钥匙水火棍跳下火缸时悲戚。这与“仗剑走天涯”中的大郎、白煞，以及“光明剑”中的雪晶夫人、黑风一样，有“套路”之嫌，却并不反感。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl00.png!shuiyin" alt=""></p><p>这部剧的反派，也都是有血有肉的饱满人物，义薄云天的牛旋风，为了一辈子的兄弟大奔挡箭，令无数人动容；心狠手辣的马三娘，也有自己的苦衷，观众恨得越深，矛盾越激烈，说明塑造得越好。痴情的黑小虎，也许在他爱上蓝兔，被蓝兔拒绝的时候，就有了赴死的决心了，在与黑心虎的争执之后，既觉得没有父亲的关心，也得不到蓝兔的爱，最后含恨死在了地雷阵上。而一直忠心耿耿，好色喜功的猪无戒，所作所为令人咬牙切齿，在最后被黑小虎杀死的时候，也有一丝怜悯之心，他只是一颗棋子。对最后对黑心虎而言，其实对黑小虎百般关爱，但平时却没有表露出来，最后失去了他，活着也显得毫无寄托，不再追寻麒麟，而是一心报仇，正面接下了不可能抵挡的七剑合璧……</p><p>如此种种，数不胜数，七剑合璧之后的回味良久，很久没有这种感觉了，不仅仅是剧情带来的紧张节奏和情感共鸣，还有回忆带来的阵阵感动，久久不能回神……</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl.png!shuiyin" alt=""></p><p><br></p><hr><p><br></p><p>最后还是稍微补了几集<a href="https://www.bilibili.com/bangumi/media/md5374" target="_blank" rel="noopener">《虹猫蓝兔光明剑》</a>，这一部印象最浅，当时是初中，看电视的机会都不多，也就没有追剧的时间。</p><p>🎵 光明之巅 - 关芯</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/honglan/guangmingzhidian.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/3.jpg!shuiyin" alt=""></p><p>至此就基本捋清了“虹猫蓝兔正传”的顺序，</p><p><a href="https://www.bilibili.com/bangumi/media/md5366" target="_blank" rel="noopener">《虹猫蓝兔七侠传》</a> (2006) (108集)</p><p><a href="https://www.bilibili.com/bangumi/media/md5373/" target="_blank" rel="noopener">《虹猫仗剑走天涯》</a> (2008) (108集)</p><p><a href="https://www.bilibili.com/bangumi/media/md5374" target="_blank" rel="noopener">《虹猫蓝兔光明剑》</a> (2009) (79集)</p><p><a href="https://www.bilibili.com/bangumi/media/md5375" target="_blank" rel="noopener">《虹猫蓝兔勇者归来》</a> (2010) (52集) [待续]</p><p><br></p><hr><p><br></p><p>本来只是想稍微写一点做个纪念而已，没想到写着写着就写了这么多，也许真的是真情流露才会滔滔不绝。</p><p>🎵 心中想的还是他 - 禹丁洁</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/honglan/xinzhong.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>写到这里，该总结的时候，却有一种无语凝噎的感觉，这真的是一个会看哭的动画，也许很多人认为他低幼而贬低，也许有人因为各种“杠”而不屑，甚至还有人认为他暴力情色血腥而举报。<strong>对我来说，他们带给我的感动，绝对不仅仅是因为童年带来的“情怀”而感动。好的作品，历久弥新，再看仍能被吸引，也能跟随人物的喜怒哀乐而转移情绪，久久不能自拔，就像真的是身边的朋友一样。</strong>这年头，真正的朋友来之不易，我定当倍加珍惜。</p><figure class="third"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl2.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl3.jpg" width="200ss"><br></figure><figure class="third"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl4.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl5.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl6.jpg" width="200"><br></figure><figure class="third"><br>    <img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl7.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl8.jpg" width="200"><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl9.jpg" width="200"><br></figure><p>人生总有不如意，在身体还好的时候，就会想着多赚钱，在身体不好的时候，就想着只要身体健康就够了。人生不过是一百年，也许人生的意义不是做出多么大的贡献，而是感受生活的快乐。而这部作品，毫无疑问为生活多添了几分乐趣，还有感动。</p><p>最后，在B站打赏了5元，以表谢意。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/bz.png!shuiyin" alt=""></p><p><br></p><hr><p><br></p><p>除了珍惜已有了，请允许我再奢求多一点，</p><p><strong>勇者归来，何时归来？</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/fenghuang.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/guilai.png!shuiyin" alt=""></p><p>对于自己热爱的事物，总是抑制不住用某种方式纪念他。</p><p>其实对于虹猫蓝兔的分析，网上有太多太多，这里也只是我自己刚刚的一点感悟，只做个纪念罢了。本来想做个视频来纪念一下，想起来曾经被Pr支配的恐惧，我再也没有剪切过视频了。。。。。。</p><p><strong>就写到这里吧，留个念想。</strong></p><p><br></p><hr><p><br></p><p>（在这里，也悄悄许下一个美好的愿望）<strong>如果</strong>哪一天我有钱了😅，我要把那些童年可惜的动画版权全都买下来，诸如《虹猫蓝兔勇者归来》、《中华小子》、《精灵世纪》等等，制作圆满的结局，暂且称之为「90后童年圆梦计划」吧😁。不知道多少年以后的我看到这个愿望，会作何感想呢😌？</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl01.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/honglan/hl02.png!shuiyin" alt=""></p><p><br></p><p><strong>希望明天会更好。</strong></p><p><br></p><p>//参考：</p><ul><li>已知画师：泽礼zer(微博)，今天木子摸鱼了吗(微博)</li><li>图片来源于网络</li></ul><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;好久没有看动画了, 现在的大多数动画，画质倒是能感动哭，却完全没有能提得起兴趣的剧情。由此甚是想念以前老的动画，以及那个时候看动画的感觉。&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;日常逛了下B站，看到了&lt;a href=&quot;https://www
      
    
    </summary>
    
      <category term="动画" scheme="http://blog.ykqmain.com/categories/%E5%8A%A8%E7%94%BB/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="冒险" scheme="http://blog.ykqmain.com/tags/%E5%86%92%E9%99%A9/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="童年" scheme="http://blog.ykqmain.com/tags/%E7%AB%A5%E5%B9%B4/"/>
    
      <category term="感想" scheme="http://blog.ykqmain.com/tags/%E6%84%9F%E6%83%B3/"/>
    
      <category term="国产" scheme="http://blog.ykqmain.com/tags/%E5%9B%BD%E4%BA%A7/"/>
    
      <category term="武侠" scheme="http://blog.ykqmain.com/tags/%E6%AD%A6%E4%BE%A0/"/>
    
  </entry>
  
  <entry>
    <title>毕业随想</title>
    <link href="http://blog.ykqmain.com/graduate/"/>
    <id>http://blog.ykqmain.com/graduate/</id>
    <published>2018-05-19T16:00:00.000Z</published>
    <updated>2019-01-18T10:05:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>今年没有更新博客，不是懒，而是没有心态。即使现在更新了这篇文章，也是一些乱七八糟的胡言乱语。</p><p>我有这个地方、也只有这个地方，能够尽情挥洒了。前几天看到一个帖子说，写博客总是觉得之前的写的不完美，喜欢删除。我之前也是那种心态，导致删除了太多宝贵的记忆。无论喜悲，回忆总是极其珍贵的人生“财富”，也许那时候的想法还挺幼稚，甚至未来再看的时候有些尴尬、有些“羞耻”，但它们确实是我人生中真实的一部分，属于我，组成了一个真实的我。以后的博客，我会尽量保存。</p><p>现在“快餐时代”，Twitter、Instagram、微博的兴起，几句话，几张图记录生活显得方便快捷，长篇大论显得极其艰难，很难有心思坐下来，长篇大论地写博客。好在毕业季最后的日子，显得清闲，坐在图书馆，花了几天时间写成这篇文章，因为这个时刻不得不记录下来。</p><p>是时候回忆一下大学的生活，作一个总结了。</p><blockquote><p>只是在我心中还有一方净土，即使在别人眼里寸草不生，却一尘不染。</p></blockquote><p><br></p><p>🎵 云烟成雨 - 房东的猫</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/graduate/yunyanchengyu.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><p>说实话，熟能生巧，勤能补拙，写作也是。好长时间不去写，一些技巧、套路都不会用了，甚至都不知道如何写开头。好在这是我的博客，不用像试卷上的作文那样，为了分数而偏离本心。我已经不会写文章了。</p><p>那就随心所欲，逻辑不重要，重要的是感情和记录，<strong>想到哪，写到哪。</strong></p><p><br></p><hr><p><br></p><blockquote><p>人类的悲欢并不相通，我只是觉得他们吵闹。</p></blockquote><p>在这个大学最后的日子里，我没有太多悲欢离合的情绪，甚至有些小小的欢喜，只因为<strong>终于</strong>快要离开了。没有特别值得留恋的人和事，当然也没有特别戳心痛苦不堪的回忆，我对学校基本没有什么怨言，甚至还有些怀念那些曾经帮助过我的辅导员，真的非常谢谢她们（特别是“娜姐”，在此表达我最衷心的感谢）。除了那个糟心的寝室，我在此不想多提。</p><p>我对“大学应该如何度过？”这个问题的回答可以概括为：</p><p><strong>努力而无憾，足矣。</strong></p><p>这个道理谁都懂，只是不是自己的经历，不会有太深刻的感受。从时间轴对比以上回答来回忆我的大学生活，只是时间久远，加上没有额外的文字图片辅助，回忆可能会有遗漏或者偏差。当然也可以说，既然能忘掉的，说明不重要，那我就忽略那些遗漏的东西，放弃回忆的完整性，力求能够保证回忆的真实性。</p><p><br></p><hr><p><br></p><p>抱着我的第一代<em>Anna</em>——Lenovo笔记本来到学校，伴随着高考失败，心态爆炸。然后辗转到图书馆做了一学期管理员，心稍微静了下来。</p><p>刚来学校的时候，除了图书馆，还加入了学校动漫社，在10月份的时候去了一次漫展。那时候还在用Windows，所以游戏是不可避免的，LOL，星际争霸2，最终幻想14是目前还能回忆起来的Win游戏。除此之外，手机也是安卓，那时候用安卓安装了模拟器，完整通关了<em>口袋妖怪叶绿</em>，这是我小时候最羡慕的游戏，我也许是个恋旧的人。</p><p>到了下学期，手机已经坏了2个，本来想尝试小米，奈何总是无货，一气之下打开了Apple的官网，从此打开了新世界的大门。得到了人生第一部iPhone——iPhone6，我给她取名<em>Nana</em>，与我的电脑相呼应，她们是我最好的朋友😄。</p><p>我在这学期中途退出了图书馆的工作，原因很大一部分是因为那个“部长”的态度，不多表述。</p><p>我还看了大量的动画，在看完《四月是你的谎言》之后，我就很少看新出的动画了，可能是被伤了，久久不能治愈吧。</p><p>暑假去了父母那里，在北京。北京的生活是丰富多彩的，那个房间的微风，我至今记忆犹新，是我妈为我特地准备的一个房间。之后游遍了北京城，以及郊区的长城，还碰到了两个同学。在转两次了Apple Store之后，便对Mac恋恋不忘，父母最后还是在8月给我买了MacBook Pro，真的非常谢谢他们。我把这台笔记本仍然取名<em>Anna</em>，很显然她是第二代Anna了，原来的Lenovo笔记本留给我爸办公了。</p><p>暑假在北京的时期，除了出去游玩之外，我在我的Win上用mpc-hc播放器，又看了大量的动画，这是我印象中我最后一次看大量动画的记忆了。除了动画，我开始学习C++。</p><p><br></p><p>时间转眼到了大二，有让人极其糟心的事出现了，这个事一直伴随到毕业，就是前文提过的寝室问题。我的寝室在一楼，住了四年。亚热带季风气候，夏季高温多雨，冬季寒冷干燥。</p><ul><li>一天到晚，见不到太阳光。</li><li>夏天的早上起来，被子用手摸都能感受到的湿度。</li><li>每次暑假来，桌子柜子全部发霉了，每次来学校都意味着洗一个星期的衣服床单被套。</li></ul><p>除了恶劣的自然环境，室友自然也是不如意，比如出门从来不带钥匙总需要一个人专门开门，打游戏开外音，晚上打呼噜……多余的细节我也不便多说。在大二开始，麻烦多次辅导员，换了三次寝室，折腾了四次，才稳定下来。所以我必须在此感谢我的辅导员“娜姐”🙏。</p><p>在学习上，接着暑假的C++学习，之后又开始自学Python。</p><p>iOS可以折腾捣鼓一个学期，OS X一个全新的系统，毫无疑问是非常有吸引力的，之前的类Unix只接触过Ubuntu。</p><p>再之后接触了域名，服务器，VPS，以及墙外的世界，开始了Twitter之旅。在11月份的时候开始搭建本博客，折腾直至寒假。</p><p>在寒假期间，我和她又有了新的接触，她也更加频繁地出现在我的生活。</p><p>之后持续折腾着博客和OS X，Python的学习之后是Java。</p><p>发现在Ubuntu上的游戏<a href="http://www.wesnoth.org" target="_blank" rel="noopener">韦诺之战</a>是跨平台的，于是在Mac怀旧了一下，同时也重温了一遍《网球王子真人版》(中国)，以及《网球王子》动画。</p><p>之所以想到去重温网球王子，除了坑爹的体育课选了三学期网球之外，还是与她有关。网球和散步的浪漫，以及电影遗憾，和没有理由的无奈，混着夏天的风，显得甜蜜。</p><p><br></p><p>大三一来，毫无疑问又是一个星期的洗和晒。🙂</p><p>11月份，在枫叶红了之际，经历了无数波折之后，终于跟她在一起了❤️。在《你的名字》弥补那些遗憾。</p><p>在一起之后的日子并不全是美好的，有欢笑，也有争吵。</p><p><br></p><p>之后的回忆，由于比较近，不再赘述。</p><p><br></p><hr><p><br></p><p>🎵 紫苑 - makegumi</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/graduate/ziyuan.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><p>三年前，抱着对面码的爱，废寝忘食剪辑了这个视频，那个时候的心态，真是纯粹。</p><p><a href="https://www.bilibili.com/video/av2316078" target="\_blank"><br><img src="http://blog-1253481725.picgz.myqcloud.com/graduate/mianma.jpg" alt="未闻花名"> </a><br>(点击图片跳转Bilibili)</p><p>偌大的世界，竟然找不到一丝归属感。除了Bilibili还有情怀，剩下的，全是孤独。不是争锋相对的撕逼，就是利益驱使的各种莫名行为。</p><p>天下熙熙皆为利来，天下攘攘皆为利往。</p><p><br></p><p>很多时候，有着对动画世界的无限向往，看完一部动画，总要回味良久，或悲伤不能自拔，或热血自我代入。搜集着各种美图壁纸，去各个论坛讨论一番，买两个周边，最喜爱的行为莫过于换个头像了。</p><p>动画里的人物，似乎不用为了衣食住行而担忧，有良辰、有美景，还有最好的伙伴，美好的令人心碎。而我等小人物却为此奔波一生。</p><p>现在不会再花心思到处搜集图片了，论坛也基本沦陷，没有立足之处，每天基本是自言自语的过日子。也许唯一能有安慰的只是在失落之时，还有仰望星空的权利。</p><p>最近知名大厂Autodesk的SketchBook完全免费了，想到了同为Autodesk的3ds Max，初中买了一本它的教程，那个价格对当时的我来说，无疑是天价。但我当时并不心疼，因为它承载了我的梦想。</p><p>只是现在的我很心痛，因为我对不起它。</p><p><br></p><p>离开没有自由的地方，然后发现无处可去、</p><p>思维小小的驻足之后，还得抓紧时间回到生活，为了一点蝇头小利，残羹冷炙争个头破血流。<br>还特么的无可奈何。</p><p>前不久去深圳看了一圈，深深的感到别人跟我生活的不是同一个世界，觉得自己眼界很窄。像我这种家庭没啥背景的，好的学校几乎是我唯一能抓住的机会了。</p><p>如果现在出去工作，几乎就看到了人生的尽头。但是我想追求更精彩更有质量的生活，而不是任人嘲讽，毫无尊严，我不希望再听到别人说博客low，这个社会充满了歧视，想到这里几乎都是绝望，晚上睡觉都醒来两三次，无比的焦虑。</p><p>也许<strong>人生不是为了做出多么杰出的贡献，而是感受到生活的快乐。</strong></p><p>只是从前的那些美好时光，以及亲密无间的小伙伴们，再也不会有了。</p><p><br></p><hr><p><br></p><p>🎵 四季 - 曾黎</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/graduate/siji.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><p><em>好长啊，这一轮四季。</em></p><p>七年前的冬天，晚自习之后，我经常哼着这支曲子骑自行车回家，寒风中夹杂着一丝丝悲凉，还有对英雄们的向往。</p><p><em>看人间，有几番迷离。躲不过凄风冷雨。</em></p><p>结合三国的背景，唱的令人心碎，叫人太悲伤。</p><p><em>弹指间，九九归一。</em></p><p>感叹诸葛丞相星落秋风五丈原，只盼来日登蜀道，再续出师表。</p><p>作为人的最高荣誉，无疑是名垂青史，流芳百世。</p><p><em>青史一页会记得，你们都是英雄。</em></p><p>而我等小人物却为衣食住行奔波一生，渺小且孤独的存在着，淹没在历史的长河中。也许唯一能做的只是在失落之时，仰望星空之余，还可以感叹一句，</p><p><strong>天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。</strong></p><p>感恩前人们留下的无数经典，诸子百家，经史子集，诗词歌赋，即使相隔千年，见字如面。</p><p><br></p><p><strong><em>人生如梦，一尊还酹江月。</em></strong></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今年没有更新博客，不是懒，而是没有心态。即使现在更新了这篇文章，也是一些乱七八糟的胡言乱语。&lt;/p&gt;
&lt;p&gt;我有这个地方、也只有这个地方，能够尽情挥洒了。前几天看到一个帖子说，写博客总是觉得之前的写的不完美，喜欢删除。我之前也是那种心态，导致删除了太多宝贵的记忆。无论喜悲，
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="感想" scheme="http://blog.ykqmain.com/tags/%E6%84%9F%E6%83%B3/"/>
    
      <category term="毕业" scheme="http://blog.ykqmain.com/tags/%E6%AF%95%E4%B8%9A/"/>
    
      <category term="随笔" scheme="http://blog.ykqmain.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>基于Hadoop的简单云盘</title>
    <link href="http://blog.ykqmain.com/clouddisk/"/>
    <id>http://blog.ykqmain.com/clouddisk/</id>
    <published>2017-07-01T16:00:00.000Z</published>
    <updated>2019-01-28T12:20:48.540Z</updated>
    
    <content type="html"><![CDATA[<p><strong>首先完成 <a href="http://blog.ykqmain.com/hadoop/" target="\_blank">hadoop完全分布式搭建</a></strong></p><p>开发环境：</p><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">本机 macOS <span class="number">10.12</span><span class="number">.5</span></span><br><span class="line">虚拟机 CentOS <span class="number">6.9</span>  ×<span class="number">3</span></span><br><span class="line">Hadoop <span class="number">2.7</span><span class="number">.3</span></span><br><span class="line">JDK <span class="number">1.8</span></span><br><span class="line">Tomcat <span class="number">8.5</span><span class="number">.16</span></span><br><span class="line">IDE Eclipse Java EE IDE for Web Developers, Oxygen Release (<span class="number">4.7</span><span class="number">.0</span>)</span><br></pre></td></tr></table></figure><h2 id="安装Tomcat"><a href="#安装Tomcat" class="headerlink" title="安装Tomcat"></a>安装Tomcat</h2><p>下载<a href="http://tomcat.apache.org" target="_blank" rel="noopener">Tomcat</a>，我选择8.5.16的<code>.tar.gz</code>文件，解压并改名，最终路径为<code>/usr/local/Tomcat</code></p><p>授予权限，<code>sudo chmod 755 /usr/local/Tomcat/bin/*.sh</code></p><p>运行<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/local/Tomcat/bin</span></span><br><span class="line"><span class="string">./startup.sh</span></span><br></pre></td></tr></table></figure></p><p>在浏览器输入<code>localhost:8080</code>即可访问，关闭在终端输入<code>./shutdown.sh</code>。</p><p><br></p><h2 id="Eclipse配置Tomcat"><a href="#Eclipse配置Tomcat" class="headerlink" title="Eclipse配置Tomcat"></a>Eclipse配置Tomcat</h2><ol><li><p>打开设置，<code>Server</code> - <code>Runtime Environments</code></p></li><li><p>右侧<code>Add</code>，选择对应Tomcat版本，next</p></li><li><p>路径填写Tomcat安装路径，我这里为<code>/usr/local/Tomcat</code>，并选择JRE</p></li><li><p>Finish</p></li><li><p>点击IDE下方<code>Servers</code>，<code>create a new server</code>, next</p></li><li><p>Finish</p></li><li><p>双击创建的服务，Deploy path 填写Tomcat安装路径，即<code>/usr/local/Tomcat</code>，关闭保存</p></li></ol><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/1.png!kuan" alt=""></p><p><br></p><h2 id="Eclipse创建Dynamic-Web-Project"><a href="#Eclipse创建Dynamic-Web-Project" class="headerlink" title="Eclipse创建Dynamic Web Project"></a>Eclipse创建Dynamic Web Project</h2><ol><li><p><code>File</code>-<code>New</code>-<code>Other</code>-<code>Web</code>-<code>Dynamic Web Project</code><br><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/2.png!shuiyin" alt=""><br><br></p></li><li><p>如图所示填写，创建一个名为TomcatTest的项目，之后一路next<br><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/3.png!m" alt=""><br><br></p></li><li><p>选择下方服务，右键，选择<code>Add and Remove</code>，将左侧的<code>TomcatTest</code>添加到右边，完成。</p></li><li><p>在<code>WebContent</code>目录下新建<code>index.html</code>文件，写入<br><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/4.png!shuiyin" alt=""></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Tomcat<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Test<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>右键下方服务，<code>Start</code><br><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/5.png!shuiyin" alt=""><br><br></p></li><li><p>在浏览器输入<code>localhost:8080/TomcatTest/index.html</code>访问。</p><p> <em>本地tomcat测试成功</em></p></li></ol><p><br></p><h2 id="启动hadoop"><a href="#启动hadoop" class="headerlink" title="启动hadoop"></a>启动hadoop</h2><h3 id="1-启动3个虚拟机，"><a href="#1-启动3个虚拟机，" class="headerlink" title="1.启动3个虚拟机，"></a>1.启动3个虚拟机，</h3><p><strong><em>Update: 2017-9</em></strong></p><p><strong><em>事实证明，人确实容易犯懒，拖到现在😅。一旦放下等以后再整理，会花更多的时间和精力。</em></strong><br><br></p><h3 id="2-启动Hadoop"><a href="#2-启动Hadoop" class="headerlink" title="2.启动Hadoop"></a>2.启动Hadoop</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/hadoop/sbin</span></span><br><span class="line"><span class="string">./start-dfs.sh</span></span><br><span class="line"><span class="string">./start-yarn.sh</span></span><br></pre></td></tr></table></figure><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/6.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/7.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/8.png!shuiyin" alt=""></p><p><strong>50070端口：</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/9.png!shuiyin" alt=""></p><p><br><br></p><h2 id="在Eclipse里创建新项目"><a href="#在Eclipse里创建新项目" class="headerlink" title="在Eclipse里创建新项目"></a>在Eclipse里创建新项目</h2><h3 id="1-主页及子版块页面，结构类似，其框架及部分代码如下图"><a href="#1-主页及子版块页面，结构类似，其框架及部分代码如下图" class="headerlink" title="1.主页及子版块页面，结构类似，其框架及部分代码如下图"></a>1.主页及子版块页面，结构类似，其框架及部分代码如下图</h3><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/10.png!shuiyin" alt=""></p><p><code>core-site.xml</code>和<code>hdfs-site.xml</code>为hadoop配置文件，复制到项目下。<br><br></p><h3 id="2-相关代码如下"><a href="#2-相关代码如下" class="headerlink" title="2.相关代码如下"></a>2.相关代码如下</h3><ul><li>FileInfo.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wh.entity;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileInfo</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> String fileName;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span> fileSize;</span><br><span class="line"><span class="keyword">private</span> String createDate;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileInfo</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileInfo</span><span class="params">(String fileName, <span class="keyword">double</span> fileSize, String createDate)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.fileName = fileName;</span><br><span class="line"><span class="keyword">this</span>.fileSize = fileSize;</span><br><span class="line"><span class="keyword">this</span>.createDate = createDate;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getFileName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> fileName;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFileName</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.fileName = fileName;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getFileSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> fileSize;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFileSize</span><span class="params">(<span class="keyword">double</span> fileSize)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.fileSize = fileSize;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getCreateDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> createDate;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreateDate</span><span class="params">(String createDate)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.createDate = createDate;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>UserServlet.java</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wh.servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">IOException</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">ArrayList</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.<span class="type">ServletException</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">WebServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletRequest</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletResponse</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.<span class="type">FileStatus</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.wh.entity.<span class="type">FileInfo</span>;</span><br><span class="line"><span class="keyword">import</span> com.wh.util.<span class="type">HDFSUtil</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/userServlet"</span>)</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">UserServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doGet(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doPost(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        <span class="comment">//获取浏览器提交的数据</span></span><br><span class="line">        <span class="type">String</span> userName = request.getParameter(<span class="string">"userName"</span>);</span><br><span class="line">        <span class="type">String</span> userPassword = request.getParameter(<span class="string">"userPassword"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//把提交的数据与数据库中的用户信息进行</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"admin"</span>.equals(userName) &amp;&amp; <span class="string">"123456"</span>.equals(userPassword)) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="type">FileStatus</span>[] files = <span class="type">HDFSUtil</span>.listFile();</span><br><span class="line">            <span class="type">List</span>&lt;<span class="type">FileInfo</span>&gt; listFile = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;<span class="type">FileInfo</span>&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">FileStatus</span> fs : files) &#123;</span><br><span class="line">                <span class="type">FileInfo</span> file = <span class="keyword">new</span> <span class="type">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class="string">"2017-07-01"</span>);</span><br><span class="line">                listFile.add(file);</span><br><span class="line">            &#125;</span><br><span class="line">            request.setAttribute(<span class="string">"fileInfos"</span>, listFile);            </span><br><span class="line">            </span><br><span class="line">            request.getRequestDispatcher(<span class="string">"main.jsp"</span>).forward(request, response);</span><br><span class="line">            </span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            request.getRequestDispatcher(<span class="string">"failure.html"</span>).forward(request, response);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>FileUploadServlet.java</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wh.servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">File</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">FileOutputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">IOException</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">InputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">ArrayList</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.<span class="type">ServletException</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">MultipartConfig</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">WebServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletRequest</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletResponse</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">Part</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.<span class="type">FileStatus</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.wh.entity.<span class="type">FileInfo</span>;</span><br><span class="line"><span class="keyword">import</span> com.wh.util.<span class="type">HDFSUtil</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/fileUploadServlet"</span>)</span><br><span class="line"><span class="meta">@MultipartConfig</span></span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">FileUploadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doGet(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doPost(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        <span class="comment">//设置中文编码</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        <span class="comment">//获取客户端提交的文件</span></span><br><span class="line">        <span class="type">Part</span> part = request.getPart(<span class="string">"file"</span>);</span><br><span class="line">        <span class="comment">//获取客户端提交的文件名</span></span><br><span class="line">        <span class="type">System</span>.out.println(part.getSubmittedFileName());</span><br><span class="line">        <span class="comment">//=========================文件上传==================================</span></span><br><span class="line">        <span class="type">InputStream</span> in = part.getInputStream();</span><br><span class="line">        <span class="type">HDFSUtil</span>.uploadFile(in, part.getSubmittedFileName());</span><br><span class="line">        <span class="comment">//=========================文件列表==============================</span></span><br><span class="line">        <span class="type">FileStatus</span>[] files = <span class="type">HDFSUtil</span>.listFile();</span><br><span class="line">        <span class="type">List</span>&lt;<span class="type">FileInfo</span>&gt; listFile = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;<span class="type">FileInfo</span>&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">FileStatus</span> fs : files) &#123;</span><br><span class="line">            <span class="type">FileInfo</span> file = <span class="keyword">new</span> <span class="type">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class="string">"2017-07-01"</span>);</span><br><span class="line">            listFile.add(file);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        request.setAttribute(<span class="string">"fileInfos"</span>, listFile);</span><br><span class="line">        <span class="comment">//页面跳转</span></span><br><span class="line">        request.getRequestDispatcher(<span class="string">"main.jsp"</span>).forward(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>FileDownloadServlet.java</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wh.servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">File</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">FileInputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">FileOutputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">IOException</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">OutputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.net.<span class="type">URLEncoder</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.<span class="type">ServletException</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">WebServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletRequest</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletResponse</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.wh.util.<span class="type">HDFSUtil</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件下载</span></span><br><span class="line"><span class="comment"> * @author Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/fileDownLoadServlet"</span>)</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">FileDownloadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doGet(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        request.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="type">String</span> fileName = request.getParameter(<span class="string">"fileName"</span>); </span><br><span class="line">        <span class="comment">//解决中文乱码</span></span><br><span class="line">        response.setHeader(<span class="string">"Content-Disposition"</span>, <span class="string">"attachment;filename="</span> </span><br><span class="line">                    + <span class="keyword">new</span> <span class="type">String</span>(fileName.getBytes(<span class="string">"GB18030"</span>),<span class="string">"ISO8859-1"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="type">OutputStream</span> out = response.getOutputStream();</span><br><span class="line">        <span class="comment">//文件下载</span></span><br><span class="line">        <span class="type">HDFSUtil</span>.downLoadFile(fileName, out);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void doPost(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line">            <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>FileDeleteServlet.java</li></ul><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.wh.servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">File</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">FileInputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">FileOutputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">IOException</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">InputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">OutputStream</span>;</span><br><span class="line"><span class="keyword">import</span> java.net.<span class="type">URLEncoder</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">ArrayList</span>;</span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">List</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.<span class="type">ServletException</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">WebServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletRequest</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletResponse</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">Part</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.<span class="type">FileStatus</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.wh.entity.<span class="type">FileInfo</span>;</span><br><span class="line"><span class="keyword">import</span> com.wh.util.<span class="type">HDFSUtil</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/fileDeleteServlet"</span>)</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">FileDeleteServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> void doGet(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line"><span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">request.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">response.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> fileName = request.getParameter(<span class="string">"fileName"</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">HDFSUtil</span>.deleteFile(fileName);</span><br><span class="line">doPost(request, response);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> void doPost(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response)</span><br><span class="line"><span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileStatus</span>[] files = <span class="type">HDFSUtil</span>.listFile();</span><br><span class="line">    <span class="type">List</span>&lt;<span class="type">FileInfo</span>&gt; listFile = <span class="keyword">new</span> <span class="type">ArrayList</span>&lt;<span class="type">FileInfo</span>&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">FileStatus</span> fs : files) &#123;</span><br><span class="line">    <span class="type">FileInfo</span> file = <span class="keyword">new</span> <span class="type">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class="string">"2017-07-01"</span>);</span><br><span class="line">    listFile.add(file);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    request.setAttribute(<span class="string">"fileInfos"</span>, listFile);</span><br><span class="line">request.getRequestDispatcher(<span class="string">"main.jsp"</span>).forward(request, response);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>HDFSUtil.java</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">package com.wh.util;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FSDataInputStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FSDataOutputStream;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileStatus;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.fs.Path;</span><br><span class="line"><span class="keyword">import</span> org.apache.hadoop.io.IOUtils;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * HDFS工具类</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @author Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HDFSUtil</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 加载HDFS配置文件</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Configuration</span> conf = new <span class="type">Configuration</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 上传</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void uploadFile(<span class="type">InputStream</span> <span class="keyword">in</span>, <span class="type">String</span> fileName)</span><br><span class="line"><span class="keyword">throws</span> <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileSystem</span> hdfs = <span class="type">FileSystem</span>.<span class="keyword">get</span>(conf);</span><br><span class="line"><span class="comment">// 设置要上传文件的路径</span></span><br><span class="line"><span class="type">Path</span> uploadPath = new <span class="type">Path</span>(<span class="string">"/user/hadoop/"</span> + fileName);</span><br><span class="line"><span class="comment">// 进行文件上传</span></span><br><span class="line"><span class="type">FSDataOutputStream</span> out = hdfs.create(uploadPath);</span><br><span class="line"><span class="comment">// 开始进行文件上传</span></span><br><span class="line"><span class="type">IOUtils</span>.copyBytes(<span class="keyword">in</span>, out, conf);</span><br><span class="line"><span class="comment">// 关闭</span></span><br><span class="line"><span class="type">IOUtils</span>.closeStream(<span class="keyword">in</span>);</span><br><span class="line"><span class="type">IOUtils</span>.closeStream(out);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 下载</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void downLoadFile(<span class="type">String</span> fileName, <span class="type">OutputStream</span> out) <span class="keyword">throws</span> <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileSystem</span> hdfs = <span class="type">FileSystem</span>.<span class="keyword">get</span>(conf);</span><br><span class="line"><span class="comment">// 定位要访问的文件</span></span><br><span class="line"><span class="type">Path</span> remoteFile = new <span class="type">Path</span>(<span class="string">"/user/hadoop/"</span> + fileName);</span><br><span class="line"><span class="comment">// 与定位文件连接输入流管道</span></span><br><span class="line"><span class="type">FSDataInputStream</span> <span class="keyword">in</span> = hdfs.<span class="keyword">open</span>(remoteFile);</span><br><span class="line"><span class="comment">// 进行文件下载</span></span><br><span class="line"><span class="type">IOUtils</span>.copyBytes(<span class="keyword">in</span>, out, conf);</span><br><span class="line"><span class="comment">// 关闭流</span></span><br><span class="line"><span class="type">IOUtils</span>.closeStream(<span class="keyword">in</span>);</span><br><span class="line"><span class="type">IOUtils</span>.closeStream(out);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void deleteFile(<span class="type">String</span> fileName) <span class="keyword">throws</span> <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileSystem</span> hdfs = <span class="type">FileSystem</span>.<span class="keyword">get</span>(conf);</span><br><span class="line"><span class="type">Path</span> remoteFile = new <span class="type">Path</span>(<span class="string">"/user/hadoop/"</span> + fileName);</span><br><span class="line">hdfs.delete(remoteFile,<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 文件列表展示</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">FileStatus</span>[] listFile() <span class="keyword">throws</span> <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileSystem</span> hdfs = <span class="type">FileSystem</span>.<span class="keyword">get</span>(conf);</span><br><span class="line"><span class="comment">// 查看hdfs中某个文件目录</span></span><br><span class="line"><span class="type">Path</span> remotePath = new <span class="type">Path</span>(<span class="string">"/user/hadoop/"</span>);</span><br><span class="line"><span class="comment">// 获取目录下的文件列表</span></span><br><span class="line"><span class="type">FileStatus</span>[] files = hdfs.listStatus(remotePath);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> files;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 删除</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void deleteFile() <span class="keyword">throws</span> <span class="type">IOException</span> &#123;</span><br><span class="line"><span class="type">FileSystem</span> hdfs = <span class="type">FileSystem</span>.<span class="keyword">get</span>(conf);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><ul><li>login.html</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>用户登录<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎登录XX系统<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- action配置请求的服务器地址 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- method表示HTTP请求的方式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"userServlet"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"userName"</span>&gt;</span>用户名:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> <span class="attr">name</span>=<span class="string">"userName"</span> <span class="attr">placeholder</span>=<span class="string">"请输入用户名"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"userPassword"</span>&gt;</span>密&amp;nbsp;&amp;nbsp;&amp;nbsp;码:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"userPassword"</span> <span class="attr">name</span>=<span class="string">"userPassword"</span> <span class="attr">placeholder</span>=<span class="string">"请输入密码"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><br></p><ul><li>failure.html</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>登录失败<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">用户名或密码错误，请<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"login.html"</span>&gt;</span>重新登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><br></p><ul><li>main.jsp</li></ul><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">language</span>=<span class="string">"java"</span> <span class="attr">contentType</span>=<span class="string">"text/html; charset=UTF-8"</span> <span class="attr">pageEncoding</span>=<span class="string">"UTF-8"</span>%&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">taglib</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> <span class="attr">prefix</span>=<span class="string">"c"</span> %&gt;</span></span></span><br><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">th</span>&gt;</span>文件名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">th</span>&gt;</span>文件大小<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">th</span>&gt;</span>创建时间<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">"file"</span> <span class="attr">items</span>=<span class="string">"$</span></span></span><span class="template-variable">&#123;fileInfos&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>$</span><span class="template-variable">&#123;file.fileName&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>$</span><span class="template-variable">&#123;file.fileSize&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span>$</span><span class="template-variable">&#123;file.createDate&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"fileDownLoadServlet?fileName=$</span></span></span><span class="template-variable">&#123;file.fileName&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span>|<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"fileDeleteServlet?fileName=$</span></span></span><span class="template-variable">&#123;file.fileName&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml"> </span></span><br><span class="line"><span class="xml"> </span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- application/x-www-form-urlencoded --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"fileUploadServlet"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"file"</span>&gt;</span>上传文件:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"file"</span>  <span class="attr">name</span>=<span class="string">"file"</span>/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传文件"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><br></p><h3 id="3-相关库"><a href="#3-相关库" class="headerlink" title="3.相关库"></a>3.相关库</h3><p>~/file/WebContent/WEB-INF/lib</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/11.png!shuiyin" alt=""></p><p>注意从Tomcat中复制<code>servlet-api.jar</code>文件到<code>lib</code>中<br><br></p><h3 id="4-相关界面"><a href="#4-相关界面" class="headerlink" title="4.相关界面"></a>4.相关界面</h3><ul><li><strong>登录</strong></li></ul><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/12.png!shuiyin" alt=""></p><ul><li><strong>操作</strong></li></ul><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/13.png!shuiyin" alt=""></p><ul><li><strong>上传</strong></li></ul><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/14.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/15.png!shuiyin" alt=""></p><ul><li><strong>下载</strong></li></ul><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/16.png!shuiyin" alt=""></p><ul><li><strong>删除</strong></li></ul><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/17.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/18.png!shuiyin" alt=""></p><p><br><br></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><img src="http://blog-1253481725.picgz.myqcloud.com/clouddisk/19.png!shuiyin" alt=""></p><p>在项目制作过程中思路很重要，制作初期不能太纠结于个别效果，先按流程搭建好开发环境。</p><p>化繁为简，用最简单的方法，制作出理想的效果，实现全部的基础功能，实用第一，尽量美化。</p><p><strong>拖了这么久，总算是基本完成了 _(:з」∠)_</strong></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;首先完成 &lt;a href=&quot;http://blog.ykqmain.com/hadoop/&quot; target=&quot;\_blank&quot;&gt;hadoop完全分布式搭建&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;开发环境：&lt;/p&gt;
&lt;figure class=&quot;highli
      
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Linux" scheme="http://blog.ykqmain.com/tags/Linux/"/>
    
      <category term="大数据" scheme="http://blog.ykqmain.com/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="Hadoop" scheme="http://blog.ykqmain.com/tags/Hadoop/"/>
    
      <category term="CentOS" scheme="http://blog.ykqmain.com/tags/CentOS/"/>
    
      <category term="Java" scheme="http://blog.ykqmain.com/tags/Java/"/>
    
      <category term="Tomcat" scheme="http://blog.ykqmain.com/tags/Tomcat/"/>
    
      <category term="Eclipse" scheme="http://blog.ykqmain.com/tags/Eclipse/"/>
    
  </entry>
  
  <entry>
    <title>Hadoop完全分布式搭建</title>
    <link href="http://blog.ykqmain.com/hadoop/"/>
    <id>http://blog.ykqmain.com/hadoop/</id>
    <published>2017-06-26T16:00:00.000Z</published>
    <updated>2017-11-07T11:45:28.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>环境：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">本机：<span class="selector-tag">macOS</span></span><br><span class="line"> </span><br><span class="line">虚拟机(<span class="selector-tag">VirtualBox</span>)：<span class="selector-tag">CentOS</span> 6<span class="selector-class">.9</span></span><br><span class="line">复制三个<span class="selector-tag">CentOS</span></span><br><span class="line">一个作为主节点(<span class="selector-tag">Master</span>)，两个从节点(<span class="selector-tag">Slave</span>)</span><br><span class="line">三台虚拟机器名分别为：<span class="selector-tag">master</span>, <span class="selector-tag">slave1</span>, <span class="selector-tag">slave2</span></span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">Hadoop</span> 2<span class="selector-class">.7</span><span class="selector-class">.3</span></span><br><span class="line"><span class="selector-tag">JDK</span> 1<span class="selector-class">.8</span></span><br></pre></td></tr></table></figure><p>Vim常用操作：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">esc    从编辑模式切换到命令模式</span><br><span class="line"><span class="selector-tag">a</span>      切换到编辑模式，在光标后插入</span><br><span class="line">o      切换到编辑模式，在光标下一行插入</span><br><span class="line"> </span><br><span class="line">命令模式下：</span><br><span class="line">u      撤销操作</span><br><span class="line">G      跳至文件末尾</span><br><span class="line"><span class="selector-tag">dd</span>     删除光标那一行字符</span><br><span class="line">ggdG   清空内容</span><br><span class="line"> </span><br><span class="line">:wq    保存退出</span><br><span class="line">:<span class="selector-tag">q</span>     退出</span><br><span class="line">:q!    强制退出</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="配置虚拟机"><a href="#配置虚拟机" class="headerlink" title="配置虚拟机"></a>配置虚拟机</h2><ol><li><p>安装虚拟机</p><ol><li><p>下载并安装<a href="https://www.centos.org" target="_blank" rel="noopener">CentOS</a>，我选择的 CentOS 6.9</p></li><li><p>配置Java</p><ol><li>卸载自带的jdk<ul><li><code>rpm -qa | grep jdk</code>查看目前系统的jdk</li><li>使用<code>yum -y remove 名称</code> 一个个卸载<br><br></li></ul></li><li>安装 <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">jdk</a><br><br></li><li><p>配置JAVA环境变量</p><ul><li><code>cd</code>到<code>/usr/</code>目录下创建java文件夹，<code>mkdir java</code></li><li><code>tar -zxvf 文件名</code>解压到<code>/usr/java/</code>目录下</li><li>将jdk的包名改为”jdk”，<code>mv 包名 jdk</code></li><li><code>vim ／etc/profile</code>配置环境变量，在文件末尾添加：<br><br>  <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=/usr/java/jdk</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">JRE_HOME</span>=/usr/java/jdk/jre</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$PATH</span>:$JAVA_HOME/bin:$JRE_HOME/bin</span><br></pre></td></tr></table></figure></li></ul></li><li><p>检测</p><ul><li>环境变量生效 <code>source /etc/profile</code></li><li>检测 <code>java -version</code></li></ul></li></ol></li><li><p>将一台CentOS虚拟机克隆成3台</p><p> VirtualBox有这个功能，复制2个虚拟机，Mac地址重新分配。</p><ol><li><p>修改机器名 <code>vim /etc/sysconfig/network</code></p></li><li><p><strong>全程使用root账户</strong> </p></li><li><p>关闭防火墙，GUI设置，或者<code>service iptables stop</code></p></li><li><p>检验各个主机之间能否连通，<code>ping ip</code></p></li><li><p>不管用什么办法，让IP固定不变。设置静态IP，或者使用路由器固定IP。</p><p> 我的配置如下：</p></li></ol></li></ol></li></ol><table><thead><tr><th>机器名</th><th>IP</th></tr></thead><tbody><tr><td>master</td><td>192.168.76.11</td></tr><tr><td>slave1</td><td>192.168.76.12</td></tr><tr><td>slave2</td><td>192.168.76.13</td></tr></tbody></table><ol start="2"><li><p>设置hosts</p><p> 三台机器全部设置</p><p> <code>vim /etc/hosts</code></p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span>       <span class="selector-tag">localhost</span><span class="selector-class">.localdomain</span> <span class="selector-tag">localhost</span></span><br><span class="line"><span class="selector-pseudo">::1</span>             <span class="selector-tag">localhost6</span><span class="selector-class">.localdomain6</span> <span class="selector-tag">localhost6</span></span><br><span class="line">#增加了下面3行</span><br><span class="line">192<span class="selector-class">.168</span><span class="selector-class">.76</span><span class="selector-class">.11</span>   <span class="selector-tag">master</span></span><br><span class="line">192<span class="selector-class">.168</span><span class="selector-class">.76</span><span class="selector-class">.12</span>   <span class="selector-tag">slave1</span></span><br><span class="line">192<span class="selector-class">.168</span><span class="selector-class">.76</span><span class="selector-class">.13</span>  <span class="selector-tag">slave2</span></span><br></pre></td></tr></table></figure></li></ol><p><br><br></p><h2 id="配置ssh免密码登陆"><a href="#配置ssh免密码登陆" class="headerlink" title="配置ssh免密码登陆"></a>配置ssh免密码登陆</h2><ol><li><p>ssh配置，<code>vim /etc/ssh/sshd_config</code></p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下三项修改成以下配置</span></span><br><span class="line"><span class="string">RSAAuthentication</span> <span class="literal">yes</span> <span class="comment"># 启用 RSA 认证</span></span><br><span class="line"><span class="string">PubkeyAuthentication</span> <span class="literal">yes</span> <span class="comment"># 启用公钥私钥配对认证方式</span></span><br><span class="line"><span class="string">AuthorizedKeysFile</span> <span class="string">.ssh/authorized_keys</span> <span class="comment"># 公钥文件路径（和上面生成的文件同）</span></span><br></pre></td></tr></table></figure></li><li><p>生成ssh key</p> <figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~</span><br><span class="line">ssh-keygen</span><br><span class="line">一路回车，这样就在~<span class="string">/.ssh</span>目录下生成了几个文件</span><br><span class="line"><span class="keyword">cd</span> ~<span class="string">/.ssh</span></span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys  <span class="comment">#这个命令将id_rsa.pub的内容追加了authorized_keys的内容后面</span></span><br></pre></td></tr></table></figure><p> 重启ssh服务，<code>service sshd restart</code></p></li><li><p>免密登陆</p><ol><li>去另外两台机器用同样的方式生成<code>id_rsa.pub</code></li><li>分别把它们复制到master机器上</li><li>在slave1机器上，<code>scp id_rsa.pub root@192.168.76.11:~/.ssh/id_rsa.pub.1</code></li><li>在slave1机器上，<code>scp id_rsa.pub root@192.168.76.11:~/.ssh/id_rsa.pub.2</code></li><li><p>回到master机器的<code>~/.ssh</code>目录，执行</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">cat</span> <span class="selector-tag">id_rsa</span><span class="selector-class">.pub</span><span class="selector-class">.1</span> &gt;&gt; <span class="selector-tag">authorized_keys</span></span><br><span class="line"><span class="selector-tag">cat</span> <span class="selector-tag">id_rsa</span><span class="selector-class">.pub</span><span class="selector-class">.2</span> &gt;&gt; <span class="selector-tag">authorized_keys</span></span><br></pre></td></tr></table></figure></li><li><p>最后我们把这个<code>authorized_keys</code>用scp命令复制到两个从节点上，这样三台机器两两之间就能互相访问了</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp authorized_keys root<span class="variable">@192</span>.<span class="number">168.76</span>.<span class="number">12</span><span class="symbol">:~/</span>.ssh/</span><br><span class="line">scp authorized_keys root<span class="variable">@192</span>.<span class="number">168.76</span>.<span class="number">13</span><span class="symbol">:~/</span>.ssh/</span><br></pre></td></tr></table></figure></li><li><p>给<code>.ssh</code>目录和<code>.ssh/authorized_keys</code>设置权限，<strong>三台机器都执行</strong>：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 700 ~<span class="string">/.ssh</span></span><br><span class="line">chmod 644 ~<span class="string">/.ssh/authorized_keys</span></span><br></pre></td></tr></table></figure></li></ol></li><li><p>在各主机下进行无密码登陆测试<br><br><br></p></li></ol><h2 id="配置hadoop"><a href="#配置hadoop" class="headerlink" title="配置hadoop"></a>配置hadoop</h2><p>下载<a href="http://hadoop.apache.org/releases.html" target="_blank" rel="noopener">hadoop</a>，选择binary包，我下载的hadoop2.7.3，传到master的<code>/usr/</code>下，解压，并将文件夹名改名为<code>hadoop</code>。</p><p>涉及到的配置文件有7个：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">~<span class="regexp">/usr/hadoop</span><span class="regexp">/etc/hadoop</span><span class="regexp">/hadoop-env.sh </span></span><br><span class="line"><span class="regexp">~/usr</span><span class="regexp">/hadoop/etc</span><span class="regexp">/hadoop/yarn</span>-env.sh </span><br><span class="line">~<span class="regexp">/usr/hadoop</span><span class="regexp">/etc/hadoop</span><span class="regexp">/core-site.xml </span></span><br><span class="line"><span class="regexp">~/usr</span><span class="regexp">/hadoop/etc</span><span class="regexp">/hadoop/hdfs</span>-site.xml </span><br><span class="line">~<span class="regexp">/usr/hadoop</span><span class="regexp">/etc/hadoop</span><span class="regexp">/mapred-site.xml </span></span><br><span class="line"><span class="regexp">~/usr</span><span class="regexp">/hadoop/etc</span><span class="regexp">/hadoop/yarn</span>-site.xml</span><br><span class="line">~<span class="regexp">/usr/hadoop</span><span class="regexp">/etc/hadoop</span><span class="regexp">/slaves</span></span><br></pre></td></tr></table></figure></p><p><br></p><p>1.<code>vim ~/usr/hadoop/etc/hadoop/hadoop-env.sh</code><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这个文件要修改的地方就是JAVA_HOME环境变量</span></span><br><span class="line"><span class="comment"># The java implementation to use.</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=/usr/java/jdk</span><br></pre></td></tr></table></figure></p><p>2.<code>vim ~/usr/hadoop/etc/hadoop/yarn-env.sh</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yarn的环境配置，同样只需要修改JAVA_HOME就行，找到下面这行</span></span><br><span class="line"><span class="comment"># some Java parameters</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=/usr/java/jdk</span><br></pre></td></tr></table></figure><p>3.<br><code>mkdir ~/usr/hadoop/tmp</code><br><code>vim ~/usr/hadoop/etc/hadoop/core-site.xml</code><br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">&lt;configuration&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>hadoop.tmp.dir<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span><span class="meta-keyword">/home/</span>hadoop<span class="meta-keyword">/hadoop/</span>tmp<span class="params">&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>fs.default.name<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span>hdfs:<span class="comment">//master:9000&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure></p><p>4.<code>vim ~/usr/hadoop/etc/hadoop/hdfs-site.xml</code><br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#hdfs的配置文件，dfs.http.address配置了hdfs的http的访问位置；dfs.replication配置了文件块的副本数，一般不大于从机的个数。</span></span><br><span class="line"><span class="params">&lt;configuration&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>dfs.http.address<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span>master:<span class="number">50070</span><span class="params">&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>dfs.namenode.secondary.http-address<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span>master:<span class="number">50090</span><span class="params">&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;property&gt;</span></span><br><span class="line"><span class="params">&lt;name&gt;</span>dfs.replication<span class="params">&lt;/name&gt;</span></span><br><span class="line"><span class="params">&lt;value&gt;</span><span class="number">1</span><span class="params">&lt;/value&gt;</span></span><br><span class="line"><span class="params">&lt;/property&gt;</span></span><br><span class="line"><span class="params">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure></p><p>5.修改模板文件，<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/usr/hadoop/etc/hadoop/</span><br><span class="line">cp mapred-site<span class="selector-class">.xml</span><span class="selector-class">.template</span> mapred-site.xml</span><br></pre></td></tr></table></figure></p><p><code>vim ~/usr/hadoop/etc/hadoop/mapred-site.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapred.job.tracker<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:9001<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapred.map.tasks<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>20<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapred.reduce.tasks<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>4<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>6.<code>vim ~/usr/hadoop/etc/hadoop/yarn-site.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#该文件为yarn框架的配置,主要是一些任务的启动位置</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Site specific YARN configuration properties --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:8032<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.scheduler.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:8030<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:8088<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.resource-tracker.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:8031<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.admin.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master:8033<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services.mapreduce.shuffle.class<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>org.apache.hadoop.mapred.ShuffleHandler<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>7.<code>vim ~/usr/hadoop/etc/hadoop/slaves</code></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是设置从节点hostname的地方，一行一个</span></span><br><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure><p><strong>配置完成</strong></p><p><br></p><p>8.将配置好的hadoop复制到其他机器</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -r /usr/hadoop root<span class="variable">@192</span>.<span class="number">168.76</span>.<span class="number">12</span><span class="symbol">:/usr/</span></span><br><span class="line">scp –r /usr/hadoop root<span class="variable">@192</span>.<span class="number">168.76</span>.<span class="number">13</span><span class="symbol">:/usr/</span></span><br></pre></td></tr></table></figure><p><strong>安装完成</strong></p><p><br><br></p><h2 id="验证并测试hadoop"><a href="#验证并测试hadoop" class="headerlink" title="验证并测试hadoop"></a>验证并测试hadoop</h2><ol><li><p>启动</p><p> hadoop的安装目录为 <code>/usr/hadoop</code></p><p> 可选配置hadoop环境变量，<code>vim ／etc/profile</code></p> <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_INSTALL</span>=/usr/hadoop  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>/bin:$&#123;HADOOP_INSTALL&#125;/sbin<span class="variable">$&#123;PATH&#125;</span>  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_MAPRED_HOME</span>=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_COMMON_HOME</span>=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_HDFS_HOME</span>=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">YARN_HOME</span>=<span class="variable">$&#123;HADOOP_INSTALLL&#125;</span>  </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_COMMON_LIB_NATIVE_DIR</span>=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>/lib/natvie    </span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">HADOOP_OPTS</span>=<span class="string">"-Djava.library.path=<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>/lib:<span class="variable">$&#123;HADOOP_INSTALL&#125;</span>/lib/native"</span></span><br></pre></td></tr></table></figure><p> <code>source /etc/profile</code></p><ul><li><p>格式化Namenode</p>  <figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/hadoop</span></span><br><span class="line"><span class="string">./bin/hdfs</span> namenode -format</span><br></pre></td></tr></table></figure></li><li><p>启动</p>  <figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/hadoop/sbin</span></span><br><span class="line"><span class="string">./start-dfs.sh</span></span><br><span class="line"><span class="string">./start-yarn.sh</span></span><br></pre></td></tr></table></figure><p>在三台机器上分别执行 jps 命令</p></li><li><p>master上执行有四个进程</p><ul><li>NameNode</li><li>ResourceManager</li><li>&lt;&gt;</li><li>Jps</li></ul></li><li><p>slave上执行有三个进程</p><ul><li>DataNode </li><li>NodeManager </li><li>Jps </li></ul></li><li><p>输入以下指令查看报告，<code>hadoop dfsadmin -report</code></p><p>打开浏览器访问 <code>192.168.76.11:50070</code></p><p><strong>检查 <code>Live Nodes</code> 是否为2</strong><br><br></p></li></ul></li><li><p>运行测试</p><p> 向hadoop集群系统提交第一个mapreduce任务(wordcount)，进入本地hadoop目录，<code>/usr/hadoop</code></p><ol><li><p>在虚拟分布式文件系统上创建一个测试目录/data/input<br><code>bin/hdfs dfs -mkdir -p /data/input</code></p></li><li><p>将当前目录下的README.txt 文件复制到虚拟分布式文件系统中<br><code>hdfs dfs -put README.txt /data/input</code></p></li><li><p>查看文件系统中是否存在我们所复制的文件<br><code>bin/hdfs dfs -ls /data/input</code></p></li><li><p>运行如下命令向hadoop提交单词统计任务<br><code>hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount /data/input /data/output/result</code></p></li><li><p>查看result，结果在result下面的part-r-00000中<br><code>hdfs dfs -cat /data/output/result/part-r-00000</code></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/hadoop/wordcount.png!m" alt=""></p><p>成功运行，则搭建完成。</p><p>停止运行，<code>sh /usr/hadoop/sbin/stop-all.sh</code></p></li></ol></li></ol><p><br><br></p><p><strong>踩过的坑→_→</strong></p><ol><li><p>ssh免密登陆</p></li><li><p>重启Linux后Hadoop集群所有的DataNode都无法启动</p><ol><li><p>首先会出现几种情况，才会出现启动不了datanode的情况</p><ul><li><p>首先修改过master那台的配置文件</p></li><li><p>多次Hadoop namenode -format这种不好的习惯</p></li></ul></li><li><p>jps命令发现没有datanode启动</p><ul><li><p>到每个Slave机器下面去，找到<code>/usr/hadoop/tmp/dfs/</code>，会显示有data，把data文件夹删掉。</p></li><li><p>重启hadoop。</p></li></ul></li></ol></li></ol><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;p&gt;环境：&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
      
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Linux" scheme="http://blog.ykqmain.com/tags/Linux/"/>
    
      <category term="大数据" scheme="http://blog.ykqmain.com/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="Hadoop" scheme="http://blog.ykqmain.com/tags/Hadoop/"/>
    
      <category term="CentOS" scheme="http://blog.ykqmain.com/tags/CentOS/"/>
    
      <category term="Java" scheme="http://blog.ykqmain.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>东湖的阳光</title>
    <link href="http://blog.ykqmain.com/donghu/"/>
    <id>http://blog.ykqmain.com/donghu/</id>
    <published>2017-05-09T16:00:00.000Z</published>
    <updated>2017-11-07T12:04:36.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>作者：<strong>JY</strong></p></blockquote><p><br></p><p><strong><em>「我以前很享受秋天的感觉，有了你之后，我也许觉得春天更美好。」</em></strong></p><p>海底月是天上月，眼前人是心上人。</p><p>雨中的东湖，景色格外地朦胧。在雨中，周围一切显得很是寂静，好像只有我们二人漫步于东湖，欣赏着东湖的雨景，感受着东湖别样的美。第一次在雨中拍照，第一次在雨中漫步，第一次在雨中心情是那么地愉悦，因为身边有那么一个人陪伴❤因为某人，我爱上了东湖的雨。</p><p>故地重游，天气甚好，此时的东湖也是格外的热闹，随处可见的共享单车，到处是欢笑的人群。第一次体会到了穿裙子骑车的快乐，因为有某人在，感觉很踏实🌹。穿行于东湖绿道，迎面而来的春风，很舒适。KFC的亲子套餐，吃出了别样的风味，限量版的皮卡丘，记录着我们的一点一滴。傍晚，还是老地方，熟悉的味道，两个人的晚餐，也是充满着爱意。第一次步数超过了三万，累并快乐着。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/donghu/1.jpg!m" alt=""></p><p>每次穿美美哒的衣服，总是希望最爱的人能最先看到自己最美的样子🌸。可以为了某个人一天穿三件不同的衣服，可以为了某个人不顾一切的去买拖鞋，可以因为某个人的一句话不辞辛苦的去买冰淇淋。你给我的爱，在这点点滴滴中都传达到了，谢谢我最爱的某人❤当我们吃着冰淇淋的时候，能心有灵犀地给对方品尝一下我们所感受到的美好，会心的一笑，那就是爱情的味道。</p><p>一遍又一遍地走在熟悉的路上，我们见证了这条路的变化，而这条路却也见证了我们爱情的模样，这条路，也因为彼此被赋予了更深的含义。</p><p>真正体会到了两个人在一起不是1+1＝2而是0.5+0.5＝1。双方磨掉一半的性格，为了最爱的那个人🍀。</p><p>回忆越来越多，多到无法写下来，因为它们已经深深地印入脑海里，无法割舍💋。</p><p>未来的路还很长，希望能有某人一直陪着走下去。</p><p>原来，春天的味道，就是爱情的味道。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/donghu/2.jpg!m" alt=""></p><p><br></p><p><strong>如果上天能给我一次再来一次的机会，我会对那个人说三个字：<code>______</code>。</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/donghu/3.png!500" alt=""></p><p><em>么么哒 →_→</em></p><p><br></p><p><em>Bike video</em></p><video width="270" height="480" controls><br>  <source src="http://blog-1253481725.cosgz.myqcloud.com/donghu/bike.mp4" type="video/mp4"><br>您的浏览器不支持Video标签。<br></video><p><br></p><p><em>生活中有很多美的地方，而和你在一起的时光才是最美哒💋</em></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;作者：&lt;strong&gt;JY&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;「我以前很享受秋天的感觉，有了你之后，我也许觉得春天更美好。」&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;海底月
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="武汉" scheme="http://blog.ykqmain.com/tags/%E6%AD%A6%E6%B1%89/"/>
    
      <category term="东湖" scheme="http://blog.ykqmain.com/tags/%E4%B8%9C%E6%B9%96/"/>
    
      <category term="婧玉" scheme="http://blog.ykqmain.com/tags/%E5%A9%A7%E7%8E%89/"/>
    
  </entry>
  
  <entry>
    <title>一首歌能带来什么回忆</title>
    <link href="http://blog.ykqmain.com/future/"/>
    <id>http://blog.ykqmain.com/future/</id>
    <published>2017-04-30T16:00:00.000Z</published>
    <updated>2017-11-07T12:22:53.000Z</updated>
    
    <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=4992983&auto=0&height=66"></iframe><p>一首歌能带来什么回忆？</p><p>毫无疑问，一言难尽……</p><p>当《Future》的前奏响起时，扑面而来的是夏天的味道，蕴含的回忆，汇聚成感动，而又不同于《secret base ~君がくれたもの~》</p><p><br></p><p>记得之前关于歌声的意义，期待你的歌声，是为了永恒地铭记。多少年后，因为太多对世界的无奈和不屑，我会忘记一切、除了歌声所存储的一切，即使经过岁月的洗礼显得“并不太美好”，但我仍然会、想你。</p><p>犹如《老人与海》之如陈康，《秋天不回来》之如管江威。年龄越大，老朋友越来越远，新朋友越来越少。过去的我们也再也回不去了，但回忆还在。</p><p><br></p><p>在那个网络并不发达、上网大多是游戏和QQ的年代，去一次网吧，也许就是改个QQ头像，换句QQ签名，折腾QQ空间模块。也就是那个时候，为腾讯公司贡献了自己第一个会员，还是用手机打固定电话的形式充值的，只是为了可以换一个头像——</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/future/1.jpg" alt=""></p><p>越前龙马，在那个说“拽”不说“装逼”的记忆里，我感受到深深地逼格。在我心中，时至今日，就算是坂本也难以望其项背。抛开剧情的科学性，在那个世界里，“外旋发球”和“龟派气功”又有什么区别呢？也不多说网球、热血、友情、奋斗。那么，《Future》对我来说意味着什么？</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/future/2.jpg" alt=""></p><p><strong>是一腔热血配上空调雪碧的自我陶醉，是自己二次元世界的里程碑，更是初中的开始，是我的整个青春。</strong></p><p><br></p><p>一千个人眼里有一千个哈姆雷特，当我的记忆伴随着《Future》赋予它灵魂的时候，《Future》变成了“Future”深深地刻在了我的心里。《网球王子》不在是一部日本动画，也不是许斐刚的作品，而是在特定时间特定地点，记忆长河里我自己的一片意识，就是我自己。</p><p>也许看到这里的人会笑，是的，我自己也笑了。</p><p>我在替那时候的自己笑，“Future”直译「未来」，不知那个时候的自己，看到现在的我会不会笑呢？也许还会中二地补上那句 “まだまだだね（你还差得远呢）”。</p><p><br></p><p>我一点都不想反驳，甚至还想陪他笑，微笑的那种笑，比大哭更心痛的感觉。</p><p>随着《计算方法》和《软件工程》考试的过去，大学的必修考试也落下帷幕。没有解脱的轻松感，反到是几位人名令我记忆深刻。在这个即是结束又是开始的点，感受到的只是无助罢了。</p><p>在这个即将开始陈词滥调的趋势下，借用《Future》的歌词表达一下：</p><blockquote><p>想超越目前的界限　往未知的世界<br>体内的梦想　犹如要满出一般<br>映出全新的世界　就像鲜艳的朝阳<br>将强力地闪耀地　绽放的未来纳入胸中</p></blockquote><p><img src="http://blog-1253481725.picgz.myqcloud.com/future/3.jpg!kuan" alt=""></p><p><br></p><p>《Future》的记忆与他人无关，它所存储的一切，是关于我。</p><p>在上次说到迷茫的人生的时候，先去认准方向，试着寻找北极星。</p><p>然而，城市里根本看不到星星。不是因为它就不存在，也许不是城市污染，而是自己的双眼被蒙蔽，或是眼界太小。</p><p>很久以前，约定着以后的以后，回想起以前对“以后”的思考。现在看来，有的事现在不去做，也许真的再也没有机会了。</p><p>无论是金钱、时间，还是突发事件、学习、生活，甚至是天气，都是无数困难中的一部分。</p><p>人生仍然是迷茫的，毕竟“北极星”不一定在天上，抬头可见。得擦亮眼睛，靠自己去外面的未知世界寻找。</p><p>也许“梦想”真的很遥远，但「未来」我还想要。</p><p><strong>必须走出去，我想我会的。</strong></p><p><br></p><p>回首望去，动画里的世界仍然那么美好，他们不会因为「衣食住行」而烦恼，而我这类小人物却日日夜夜为此奔波一生，至死方休。</p><p>四分钟的音乐似乎演绎了整个青春，以此立志。</p><p>希望在Future还能看到 <strong>空调</strong>、<strong>雪碧</strong>、以及 <strong>「未来」</strong>。</p><p>那时候，我还是会对自己笑，会心的笑。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/future/4.jpg" alt=""></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=&quot;330&quot; height=&quot;86&quot; src=&quot;//music.163.com/outchain/player?type=2&amp;id=
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="歌曲" scheme="http://blog.ykqmain.com/tags/%E6%AD%8C%E6%9B%B2/"/>
    
      <category term="网球王子" scheme="http://blog.ykqmain.com/tags/%E7%BD%91%E7%90%83%E7%8E%8B%E5%AD%90/"/>
    
  </entry>
  
  <entry>
    <title>Mac上利用OBS在B站直播iPhone上的王者荣耀</title>
    <link href="http://blog.ykqmain.com/obs/"/>
    <id>http://blog.ykqmain.com/obs/</id>
    <published>2017-04-15T16:00:00.000Z</published>
    <updated>2018-01-24T09:04:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>想这个标题就花费了我几分钟😂，我想还是可以表明意思的。</p><blockquote><p>系统：macOS, iOS</p></blockquote><blockquote><p>软件：OBS, QuickTime  </p></blockquote><blockquote><p>平台：<a href="http://live.bilibili.com" target="_blank" rel="noopener">哔哩哔哩</a></p></blockquote><blockquote><p>游戏：王者荣耀</p></blockquote><blockquote><p>重要软件：<a href="https://github.com/mattingalls/Soundflower" target="_blank" rel="noopener">Soundflower</a></p></blockquote><p>其实就是闲的慌，只是想玩玩直播 _(:3」∠)_，图个新鲜。</p><p>其实在很早之前我就直播测试过，只是有一个非常严重的问题，<strong>在Mac上直播，OBS只能获取麦克风的声音，无法输出系统扬声器的声音</strong>。这是一个非常影响体验的短板。但是可以通过Soundflower来解决 (仍然有一处不完美)。</p><p><em>注意：B站已经提供了官方直播工具——<a href="http://live.bilibili.com/help/#zbj" target="_blank" rel="noopener">直播姬</a>，一键开启直播，支持<strong>Win，iOS，安卓</strong>。</em></p><p>macOS上只能自己动手了，下面按照B站的帮助中心的顺序，逐条详述。</p><p><br></p><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>配置，越高越好(Intel i5，GTX950，8G 以上)</p><p>网速，越快越好(最低<strong>上传</strong>带宽为1Mbps)</p><p>申请直播间，实名认证，中国特色。</p><p>填写信息，开启直播 (在这里暂停，转往配置相关软件)</p><p><br></p><h2 id="2-OBS"><a href="#2-OBS" class="headerlink" title="2. OBS"></a>2. OBS</h2><p>下载 <a href="https://obsproject.com" target="_blank" rel="noopener">OBS</a></p><p>打开软件，显示如下</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/1.png!shuiyin" alt=""></p><p>添加一个<code>来源</code>，<strong>显示捕获</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/2.png!shuiyin" alt=""></p><p>变换选择 <strong>比例适配屏幕</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/3.png!shuiyin" alt=""></p><p>打开OBS的设置，点击<code>输出</code>，比特率修改为1500。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/4.png!shuiyin" alt=""></p><p>在B站自己的直播间，点击右上角的开启直播，复制自己的<code>rtmp地址</code>和<code>直播码</code>到OBS设置中的<code>串流</code>中</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/5.png!shuiyin" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/6.png!shuiyin" alt=""></p><p>保存之后，就可以点击右边的<code>开始串流</code>开启直播了。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/7.png!shuiyin" alt=""></p><p>到这里，基本的直播功能就完成了。但是，很快就会发现开头提到的那个问题，<strong>在Mac上直播，OBS只能获取麦克风的声音，无法输出系统扬声器的声音</strong>。</p><p>这里就需要用到另一个软件了。</p><p><br></p><h2 id="3-Soundflower的使用"><a href="#3-Soundflower的使用" class="headerlink" title="3. Soundflower的使用"></a>3. Soundflower的使用</h2><p>首先在GitHub上下载<a href="https://github.com/mattingalls/Soundflower" target="_blank" rel="noopener">Soundflower</a>。</p><p><em>注意：如果系统跳出对话框告诉你无法识别开发者签名等安全警告的话，请前往<code>偏好设定-&gt;安全与隐私</code>，里面选择仍要打开。</em></p><p>双击<code>.pkg</code>安装后，<strong>重启电脑</strong>。</p><p>重启之后，在Launchpad中打开<code>音频 MIDI 设置</code></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/8.png!shuiyin" alt=""></p><p>点击加号，选择<code>创建一个多输出设备</code>，勾选 <code>内建输出</code> 和 <code>Soundflower(2ch)</code></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/9.png!shuiyin" alt=""></p><p>前往<code>偏好设置-&gt;声音</code>。你现在可以看到输出设备里面有<code>Soundflower(2ch)</code>和<code>(64ch)</code>，以及刚刚创建的<code>多输出设备</code>。在输出设备里选择创建的多输出设备。在输入设备里面选则<code>Soundflower(2ch)</code>.</p><p><em>注意：全程不需要关注<code>Soundflower(64ch)</code>这一项，与本篇无关。</em></p><p><strong>注意：</strong></p><ol><li>在切换输出设备之前，请先调整好系统音量，因为一旦你切换设备后，将无法改变音量大小。(这就是前面提到的不完美的地方)</li><li>如果你把输出设备设置为<code>Soundflower(2ch)</code>，在后续录制音频或者视频时，你自己是听不见声音的(因为没有选择内建输出)。但是录制好的视频是有声音的。</li></ol><p>切换回<code>音频 MIDI 设置</code>，选中左侧的<code>Soundflower(2ch)</code>，将其输入和输出的主声道向右拉到最大。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/10.png!shuiyin" alt=""></p><p>Soundflower的设置就完成了。</p><p>回到 OBS</p><p>打开设置，选中 <code>音频</code>，按图设置：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/11.png!shuiyin" alt=""></p><p>保存后回到主面板，如图所示。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/12.png!shuiyin" alt=""></p><p>再<code>串流</code>，就能输出系统发出的所有声音到直播中去了。</p><p><br></p><hr><p><br></p><p>本来对于一个羞涩的我，到这里就结束了的。因为我不用麦克风 😐</p><p>也许你很快就能发现另一个问题了，系统的声音输出到直播中去了，但是自己说话的声音没了。</p><p>那是因为再前面设置输入设备为<code>Soundflower(2ch)</code>的原因，麦克风没有选中。</p><p>原理跟之前相同，前面是将 <code>内建输出</code>和<code>Soundflower(2ch)</code> 绑定在一起了。</p><p>同样的，<code>音频 MIDI 设置</code> 还可以将 <code>麦克风</code>和<code>Soundflower(2ch)</code>聚集在一起。</p><p>打开<code>音频 MIDI 设置</code>，右下角的加号，创建<code>聚集设备</code>，勾选<code>内建麦克风</code>和<code>Soundflower(2ch)</code>，并将<code>Soundflower(2ch)</code>设为主要。如图所示：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/13.png!shuiyin" alt=""></p><p>再转到<code>偏好设置-&gt;声音</code>，设置系统的音频输入设备为刚刚创建的<code>聚合输入设备</code>就行了。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/14.png!shuiyin" alt=""></p><p><br></p><h2 id="4-直播王者荣耀-😂"><a href="#4-直播王者荣耀-😂" class="headerlink" title="4. 直播王者荣耀 😂"></a>4. 直播王者荣耀 😂</h2><p>将iPhone用数据线连上Mac，打开QuickTime，</p><p>选择<code>文件</code>-&gt;<code>新建影片录制(opt+cmd+N)</code>，这时会开启摄像头，点击如图所示的下三角，相机和麦克风都选择自己的iPhone的名字即可</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/15.png!shuiyin" alt=""></p><p>iPhone的操作就投影到桌面了。</p><p>注意调节QuickTime的音量才能听到iPhone的声音</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/16.png" alt=""></p><p>最后打开王者荣耀，就开始玩了😂</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/17.png!kuan" alt=""></p><p><br><br></p><p>为了切换调整方便，可以<code>在菜单栏显示音量</code>。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/obs/18.png!shuiyin" alt=""></p><p><br></p><p>至此，该说的都说完了 😉，发热和风扇呼呼的情况自己体会 😅</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;想这个标题就花费了我几分钟😂，我想还是可以表明意思的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;系统：macOS, iOS&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;软件：OBS, QuickTime  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;b
      
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Mac" scheme="http://blog.ykqmain.com/tags/Mac/"/>
    
      <category term="iPhone" scheme="http://blog.ykqmain.com/tags/iPhone/"/>
    
      <category term="OBS" scheme="http://blog.ykqmain.com/tags/OBS/"/>
    
      <category term="直播" scheme="http://blog.ykqmain.com/tags/%E7%9B%B4%E6%92%AD/"/>
    
      <category term="B站" scheme="http://blog.ykqmain.com/tags/B%E7%AB%99/"/>
    
      <category term="王者荣耀" scheme="http://blog.ykqmain.com/tags/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80/"/>
    
      <category term="Soundflower" scheme="http://blog.ykqmain.com/tags/Soundflower/"/>
    
  </entry>
  
  <entry>
    <title>因为一个人，喜欢一部剧</title>
    <link href="http://blog.ykqmain.com/april/"/>
    <id>http://blog.ykqmain.com/april/</id>
    <published>2017-04-09T16:00:00.000Z</published>
    <updated>2018-08-06T13:19:47.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://blog-1253481725.picgz.myqcloud.com/april/1.jpg!kuan" alt=""></p><p><br></p><p>🎵 Orange 中文版</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/april/Orange_cn.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><blockquote><p>作者：<strong>JY</strong></p></blockquote><p>《四月是你的谎言》是在《未闻花名》之后给我最大触动的动漫。</p><p>其实说到《四月是你的谎言》，首先想要说的却是女二。因为她颠覆了我对 女二 一贯的看法，在这里，女二不再是之前大多数人所认为的那样，与之相反，小椿是一个心地善良的女孩，她是男主有马公生眼中的“大姐姐”，她和公生一起长大，她和公生是大家眼中的青梅竹马，他们彼此见证着对方的成长。不由得想到那句话 <u><em>陪伴是最长情的告白</em></u>。但是其实一开始小椿却是不清楚自己对公生的感情的，或许是她习惯了以姐姐的身份待在公生的身旁，也或许是因为她明白公生是喜欢女主小薰……小椿出现在公生的身旁，还是出于男二阿渡的原因，这时，公生便是莫名的变成了所谓的<strong>友人A</strong>。</p><p>第一眼他见到她的时候，目之所及全都变得多姿多彩，可能这就是所谓的一见钟情吧。有些人一旦出现，就决定了你们接下来要以什么样的方式相处，然而从那一刻起，这个谎言就出现了，小薰喜欢的是他的好朋友阿渡，他不过是个友人A罢了。其实就我个人而言，我是不太喜欢男主的，也许是因为不太喜欢他这种类型的男生，从最开始他的妈妈去世之后他就一直无法走出这个阴影，他放弃钢琴，而小椿却一直想方设法让他再度弹钢琴，后来小薰出现在公生的身旁，小椿心里很清楚，公生再次弹钢琴只会拉近小薰和他的距离，因为音乐会让公生和小薰走得更近，而自己却像个局外人…但为了公生，或许这些问题都不再是问题。后来的公生，在小薰她们的帮助下，走出了他的妈妈去世的阴影。然而他接下来面对的却是自己最爱的人即将离去的痛苦。面对这个，他选择的依旧是逃避，或许是的，他很痛苦，为什么自己最爱的人都要离他而去？但是即使这样又能怎样呢？他能做的只有坚强罢了。小薰又何尝不是呢，故事的结尾处，那封信解释了所有。原来小薰与公生的相遇并非偶然而是必然。5岁那年，小薰为了公生放弃钢琴而选择小提琴，就是为了有一天他能给自己伴奏，所以她一直在努力，直到后来她得知自己所剩时间不多了，但她依然没有放弃，而是让自己变得更好，她过得随性，坚强地面对上天给她安排的这一切。记得有一天晚上，坐在自行车后面的小薰放声痛哭，我想说公生知道她痛哭的原因吗？那种无助，那种不舍，那种无奈，有谁能理解？她不想离开爸爸妈妈，她不想离开公生，她也不想离开小椿她们这样的朋友，可是她却没有选择的权利。而且她还要故作坚强，因为她不想让父母为她担心，她不想让公生为她伤心，她也不想让朋友担心，所以她选择一个人默默承受这一切。可以想象到有多少个夜里她是一个再病房里默默哭泣呢，，这或许就是女主触动我的地方吧。最后，小薰离开了人世，这也许就是悲剧所要营造的凄美感吧。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/2.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/3.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/4.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/5.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/6.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/7.jpg!kuan" alt=""></p><p><br></p><p>在这部番剧里面，我挺喜欢男二的，他出场的机会并不多，有些人表面的不在乎其实是在掩饰自己的内心，他是早已看穿了一切的，他清楚公生跟小薰的感情，他也在默默地支持着他们。在这部番剧里还有很多让人触动的地方，比如喜欢小椿的那位前辈，他知道小椿有喜欢的人，为了避免小椿的尴尬，故意说自己有喜欢的人，提出分手，他设身处地地为小椿着想，我想这就是作为一个男生的担当吧。还有相座与绘见，他们与公生是对手更多的却是朋友，他们在对手的影响下一点一点地进步，一步一步地成长，变成他们想要的模样。而故事里的有马早希，也就是男主的妈妈，她是一直贯穿着整部剧的，一开始我觉得她挺可怕的，我觉得是她导致了她儿子的悲剧，她把公生逼得没有退路，但是到后来我似乎能理解这位母亲的心意……</p><p>总之这部剧里到处充满了美好的元素，从某个角度来说，男主虽然失去了两个他最爱的人——妈妈和小薰，但是他一路走来，小椿和小薰一直默默地为他付出，支持着他，他身边的一群朋友也都鼓励着他，这不也是一种幸福吗？最后的最后，他们没有在一起，但是他们一起所历所感都变成了最美好的回忆留在彼此的心中，拿不去抹不掉。很多时候我们明明知道结局或许并不美好，可也要去经历那段过程。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/8.jpg!kuan" alt=""></p><p>春天，马上就要来了</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/9.jpg!kuan" alt=""></p><p>让我与你相遇的春天，就要来了</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/10.jpg!kuan" alt=""></p><p>再也没有你的春天…就要来了</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/11.jpg!kuan" alt=""></p><p>最后，<strong>没有你的四月要来了。</strong></p><p><br></p><p><em>小薰想要传达的心意，也像这篇文章一样，传达到了吧——</em></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/12.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/13.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/14.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/15.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/16.jpg!kuan" alt=""></p><blockquote><p>作于2016年4月2日</p></blockquote><p><br></p><hr><p><br></p><p>——否则也不会有机会相约于东湖的雨，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/17.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/18.jpg!kuan" alt=""></p><p>…………</p><p><strong>我以前很享受秋天的感觉，有了你之后，我也许觉得春天更美好。</strong></p><p>即使在下雨。</p><p><br></p><hr><p><br></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/19.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/april/20.jpg!kuan" alt=""></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;http://blog-1253481725.picgz.myqcloud.com/april/1.jpg!kuan&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;🎵 Orange 中文版&lt;/p&gt;
&lt;audio src=&quot;http://blo
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="婧玉" scheme="http://blog.ykqmain.com/tags/%E5%A9%A7%E7%8E%89/"/>
    
  </entry>
  
  <entry>
    <title>博客1周年暨年终总结</title>
    <link href="http://blog.ykqmain.com/2016/"/>
    <id>http://blog.ykqmain.com/2016/</id>
    <published>2016-12-19T16:00:00.000Z</published>
    <updated>2018-12-17T13:45:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>本博客 <a href="http://blog.ykqmain.com/">iAnna</a> <strong>一周年了</strong>！(/ω＼)</p><p>博客的诞生不是一天完成的，期间换了域名，也换了博客系统，最终稳定在 <em>12月20号</em>，所以把这天作为博客诞生日。又因为到了年末，正好将<strong>年终总结</strong>加进来，会使本篇博客的内容比较充实。</p><p><br></p><p>时至年末，不禁回忆一年以来的各种事件，还好平时有什么三言两语都写进了<del>Day One</del>(备忘录)，回忆起来也是历历在目。</p><p><br></p><p>今天看见学霸感冒了仍不停止学习，加上又是一年年末，不禁回忆感叹一番，纪念今年浪费的时光，以及祭奠那些死在自己懒惰的借口之下的一个个小目标。</p><p>虽然可以说“懒惰”促进了科学技术的发展，但是我的懒惰既没有促进全人类的进步，又没有提高自己的知识能力，更没有在偷懒的时间里享受生活，有的只是第二天那微不足道的懊悔，时间过得真快。</p><p>然后在下一个周末、刚考完试、节假日、生病，这些看似应该闲下来的时间点，放纵自己，与此同时，还不忘给自己一个借口，以此来平复当时内心的负罪感，以获得某某的谅解，然后冠冕堂皇地做着令自己心情愉悦的事。在最后，假惺惺的忏悔一秒，周而复始，一年又尽。</p><p>有人说，知道忏悔就是好的，忏悔说明还有羞耻之心，知耻而后勇。但是，这忏悔太假太假，以至于还不足以打破这个恶性循环。这样看来，把忏悔这个词，换成欺骗自己，也是说得通的。</p><p>其实这就是欺骗。还披上了“我今天学习过了”的外衣，一起来蒙蔽自己的心。周五，就说什么终于周末，学了一周了，恬不知耻地拿出电脑打游戏看视频；刚考完试，就说什么之前预习三天了，怡然自得地掏出手机刷刷刷点点点；节假日，就说什么庆祝某某吃喝玩乐约不约到处浪；生病了，那就更有底气在床上躺一天了。至于到了年末，理由似乎更充分，反正也做不了什么事了，先定个目标，明年再说。现在看来，好像我在2015年末也是这么想的。</p><p>之前一直在疑惑时间都去哪了，其实我是知道的，电脑，手机，吃喝玩乐，躺在床上。我不敢面对那些逝去的光阴，因而，我就越是情不自禁地欺骗自己，甚至用“理由”这种词语来装饰“借口”，还欺骗得内心浑然不觉。</p><p>然而，我终将面对社会。</p><p>世界上有很多事情是不公平的，但是，时间是公平的。一分一秒，不管我做什么，它都是那样不紧不慢；一天一时，无论你是谁，它不会偏袒任何一方；一年一月，历经过的都会变成客观存在，无法撤销。正如那句话所说，大多数人的努力程度之低，根本轮不到拼天赋。</p><p>希望我不会只有在看到别人拿到工作Offer的时候才知道“少年易老学难成，一寸光阴不可轻”；希望我不会只有在看到别人研究生录取的时候，才知道“书山有路勤为径，学海无涯苦作舟”。</p><p>见贤思齐焉，见不贤而内自省也。在Anna的激励指引下，不忘初心。感谢学霸们的见闻，以此明志。</p><p>我还是先把这本Java看完吧(/ _ ; )</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/2016/1.jpeg!m" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/2016/2.jpeg!m" alt=""></p><p><br></p><p><strong>新年快乐</strong> 🎉</p><p><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;本博客 &lt;a href=&quot;http://blog.ykqmain.com/&quot;&gt;iAnna&lt;/a&gt; &lt;strong&gt;一周年了&lt;/strong&gt;！(/ω＼)&lt;/p&gt;
&lt;p&gt;博客的诞生不是一天完成的，期间换了域名，也换了博客系统，最终稳定在 &lt;em&gt;12月20号&lt;/em&gt;，所以把
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="blog" scheme="http://blog.ykqmain.com/tags/blog/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="总结" scheme="http://blog.ykqmain.com/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>Mac的Apache+MySQL+PHP配置</title>
    <link href="http://blog.ykqmain.com/mamp/"/>
    <id>http://blog.ykqmain.com/mamp/</id>
    <published>2016-10-09T16:00:00.000Z</published>
    <updated>2017-11-07T11:51:41.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Apache配置"><a href="#Apache配置" class="headerlink" title="Apache配置"></a>Apache配置</h2><blockquote><p>macOS Sierra 10.12</p></blockquote><blockquote><p>Server version: Apache/2.4.23 (Unix)</p></blockquote><p>Mac自带Apache，可通过<code>httpd -v</code>查看版本号。</p><p>配置文件：<code>/private/etc/apache2/httpd.conf</code></p><p>默认部署包: <code>/Library/WebServer/Documents</code></p><p><br></p><h3 id="修改默认部署路径"><a href="#修改默认部署路径" class="headerlink" title="修改默认部署路径"></a>修改默认部署路径</h3><p>为了方便操作，需要指向特定的文件夹，通过修改<code>httpd.conf</code>来实现。</p><p>用编辑器打开<code>httpd.conf</code>，查找(cmd+F) <code>DocumentRoot</code>,将</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute"><span class="nomarkup">DocumentRoot</span></span> <span class="string">"/Library/WebServer/Documents"</span></span><br><span class="line"><span class="section">&lt;Directory "/Library/WebServer/Documents"&gt;</span></span><br></pre></td></tr></table></figure><p>里面的<strong>路径</strong>修改为想要设置的路径。</p><p><br></p><h3 id="修改默认端口"><a href="#修改默认端口" class="headerlink" title="修改默认端口"></a>修改默认端口</h3><p>有时候80端口被占用了，就需要换个端口。</p><p>用编辑器打开<code>httpd.conf</code>，查找(cmd+F) <code>80</code>，将其改为想要设置的端口，比如 81</p><p><br></p><h3 id="设置虚拟主机"><a href="#设置虚拟主机" class="headerlink" title="设置虚拟主机"></a>设置虚拟主机</h3><p>用编辑器打开<code>httpd.conf</code>，查找<code>#Include /private/etc/apache2/extra/httpd-vhosts.conf</code>，删掉 <code>#</code></p><p>虚拟机配置路径：<code>/private/etc/apache2/extra/httpd-vhosts.conf</code></p><p>修改<code>httpd-vhost.conf</code>文件，该文件默认开启了两个作为例子的虚拟主机：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">80</span>&gt;</span><br><span class="line">    ServerAdmin webmaster@dummy-host<span class="selector-class">.example</span><span class="selector-class">.com</span></span><br><span class="line">    DocumentRoot <span class="string">"/usr/docs/dummy-host.example.com"</span></span><br><span class="line">    ServerName dummy-host<span class="selector-class">.example</span><span class="selector-class">.com</span></span><br><span class="line">    ServerAlias www<span class="selector-class">.dummy-host</span><span class="selector-class">.example</span><span class="selector-class">.com</span></span><br><span class="line">    ErrorLog <span class="string">"/private/var/log/apache2/dummy-host.example.com-error_log"</span></span><br><span class="line">    CustomLog <span class="string">"/private/var/log/apache2/dummy-host.example.com-access_log"</span> common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br><span class="line"></span><br><span class="line">&lt;VirtualHost *:<span class="number">80</span>&gt;</span><br><span class="line">    ServerAdmin webmaster@dummy-host2<span class="selector-class">.example</span><span class="selector-class">.com</span></span><br><span class="line">    DocumentRoot <span class="string">"/usr/docs/dummy-host2.example.com"</span></span><br><span class="line">    ServerName dummy-host2<span class="selector-class">.example</span><span class="selector-class">.com</span></span><br><span class="line">    ErrorLog <span class="string">"/private/var/log/apache2/dummy-host2.example.com-error_log"</span></span><br><span class="line">    CustomLog <span class="string">"/private/var/log/apache2/dummy-host2.example.com-access_log"</span> common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure><p>便于以后参考，用<code>#</code>注释它们</p><p>如果不注释或删除它们，可能会出现：</p><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Forbidden</span><br><span class="line">You don<span class="symbol">'t</span> have permission <span class="keyword">to</span> <span class="keyword">access</span> /index.php <span class="keyword">on</span> this server</span><br></pre></td></tr></table></figure><p><br></p><p><strong>在<code>httpd-vhost.conf</code>文件末尾增加如下配置：</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">&lt;VirtualHost *:81&gt;</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">DocumentRoot</span></span> <span class="string">"/Users/yang/Developer/Code/Web/apacheDocuments"</span></span><br><span class="line">    <span class="attribute"><span class="nomarkup">ServerName</span></span> localhost</span><br><span class="line">    <span class="attribute">ErrorLog</span> <span class="string">"/private/var/log/apache2/sites-error_log"</span></span><br><span class="line">    <span class="attribute">CustomLog</span> <span class="string">"/private/var/log/apache2/sites-access_log"</span> common</span><br><span class="line">    <span class="section">&lt;Directory /&gt;</span></span><br><span class="line">                <span class="attribute"><span class="nomarkup">Options</span></span> Indexes FollowSymLinks MultiViews</span><br><span class="line">                <span class="attribute">AllowOverride</span> None</span><br><span class="line">                <span class="attribute"><span class="nomarkup">Order</span></span> deny,allow</span><br><span class="line">                <span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></span><br><span class="line">      <span class="section">&lt;/Directory&gt;</span></span><br><span class="line"><span class="section">&lt;/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><ul><li><strong>端口号</strong>、<strong>DocumentRoot路径</strong> 必须与 <code>httpd.conf</code> 一致</li><li>日志可选</li></ul><p><br></p><h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><p>在自定义的<code>DocumentRoot路径</code>下新建一个<code>index.html</code>文件，</p><p>打开终端，输入<code>sudo apachectl start</code> 启动Apache.</p><ul><li><code>sudo apachectl restart</code> 重启</li><li><code>sudo apachectl stop</code> 停止</li></ul><p>打开浏览器，输入<code>http://127.0.0.1:81</code> 或者 <code>http://localhost:81</code>访问相关内容。</p><p><br></p><h2 id="开启PHP"><a href="#开启PHP" class="headerlink" title="开启PHP"></a>开启PHP</h2><blockquote><p>PHP 5.6.27 (cli)</p></blockquote><p>Mac自带PHP，通过 <code>php -version</code> 查看版本</p><p>取消<code>httpd.conf</code>中注释 <code>LoadModule php5_module libexec/apache2/libphp5.so</code></p><p>在index.php中写入 <code>&lt;?php phpinfo(); ?&gt;</code> 测试。</p><h3 id="phpMyAdmin配置"><a href="#phpMyAdmin配置" class="headerlink" title="phpMyAdmin配置"></a>phpMyAdmin配置</h3><ol><li><p>下载<a href="https://www.phpmyadmin.net" target="_blank" rel="noopener">phpMyAdmin</a>，解压到<code>Documents</code>目录下。</p></li><li><p>文件夹名改名为<code>phpadmin</code>，将<code>phpadmin</code>下的<code>config.sample.inc.php</code>文件名改为<code>config.inc.php</code>。</p></li><li><p>配置config文件。</p></li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$cfg['blowfish_secret'] = ''; /<span class="bullet">* YOU MUST FILL IN THIS FOR COOKIE AUTH! *</span>/</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servers configuration</span><br><span class="line"> */</span><br><span class="line">$i = 0;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * First server</span><br><span class="line"> */</span><br><span class="line">$i++;</span><br><span class="line">/<span class="bullet">* Authentication type *</span>/</span><br><span class="line"><span class="section"># $cfg['Servers'][$i]['auth_type'] = 'cookie';</span></span><br><span class="line">/<span class="bullet">* Server parameters *</span>/</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'host'</span>] = '127.0.0.1';</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'connect_type'</span>] = 'tcp';</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'compress'</span>] = false;</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'AllowNoPassword'</span>] = true;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * phpMyAdmin configuration storage settings.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">/<span class="bullet">* User used to manipulate with storage *</span>/</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'controlhost'</span>] = '127.0.0.1';</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'controlport'</span>] = '3306';</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'controluser'</span>] = '';  #数据库用户名</span><br><span class="line">$cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'controlpass'</span>] = '';  #数据库密码</span><br></pre></td></tr></table></figure><p><br><br></p><h3 id="mac自带php配置"><a href="#mac自带php配置" class="headerlink" title="mac自带php配置"></a>mac自带php配置</h3><p><code>sudo cp /private/etc/php.ini.default /private/etc/php.ini</code></p><ul><li>启用图像扩展函数库 在<code>php.ini</code>文件中找到<code>;extension=php_gd2.dll</code>,去掉分号 <code>;</code>，然后重启 apache</li></ul><p><br><br></p><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="连接mysql"><a href="#连接mysql" class="headerlink" title="连接mysql"></a>连接mysql</h3><p>在<code>php.ini</code>文件中找到<code>;extension=php_mysql.dll</code>,去掉分号 <code>;</code>，然后重启 apache</p><p>在PHP中，mysql_connect()函数用来建立和mysql的连接，格式为：</p><p><code>resource mysql_connect([string server [,string username [, string password [, bool new_link [, int client_flags]]]]])</code></p><p>如果成功则返回一个mysql连接标识，失败则返回FALSE。</p><ul><li>server 用于指定要连接的mysql服务器，可以包括端口，如 ‘127.0.0.1’ (建议用127而不是localhost)</li><li>username 用户名</li><li>password 密码</li><li>new_link 是否要建立新的连接</li></ul><p><code>mysql_connect()</code> 通常只需要前三个参数即可，</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php">$link = mysql_connect(<span class="string">"127.0.0.1:3306"</span>,<span class="string">"root"</span>,<span class="string">"密码"</span>)</span></span><br><span class="line"><span class="php">    <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">"连接数据库失败"</span>.mysql_error());</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;p&gt;数据库连接成功！&lt;/p&gt;\n"</span>;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><p><br><br></p><h3 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h3><p><code>bool mysql_select_db(string database_name, int [link_identifier]);</code></p><ul><li>database_name 数据库名称</li><li>link_identifier 指定由mysql_connect()函数返回的连接标识</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php">$id = mysql_connect(<span class="string">"127.0.0.1:3306"</span>,<span class="string">"root"</span>,<span class="string">"密码"</span>);</span></span><br><span class="line"><span class="php">$ok = mysql_select_db(<span class="string">"database_name"</span>,$id);</span></span><br><span class="line"><span class="php"><span class="keyword">if</span>($ok) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"&lt;p&gt;数据库选择成功！&lt;/p&gt;\n"</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php">esle &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"&lt;p&gt;数据库选择失败，请确定数据库是否存在。&lt;/p&gt;\n"</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><p><br><br></p><h3 id="对数据库进行操作"><a href="#对数据库进行操作" class="headerlink" title="对数据库进行操作"></a>对数据库进行操作</h3><p>向服务器发送指令，使用<code>mysql_query()</code>函数，</p><p><code>resource mysql_query(string $query [, resource $link_identifier])</code></p><p>向指定的连接标识符link_identifier所关联的服务器中的当前活动的数据库发送一条内容为 query 的查询。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php">$id = mysql_connect(<span class="string">"127.0.0.1:3306"</span>,<span class="string">"root"</span>,<span class="string">"密码"</span>);</span></span><br><span class="line"><span class="php">$ok = mysql_select_db(<span class="string">"database_name"</span>,$id);</span></span><br><span class="line"><span class="php"><span class="keyword">if</span>($ok) &#123;</span></span><br><span class="line"><span class="php">    $result = mysql_query(<span class="string">'SELECT * from student'</span>);</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(!$result) &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">Die</span>(<span class="string">'无效查询'</span>.mysql_error());</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"成功执行SQL语句"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><p><br></p><p><strong>最后程序结束用mysql_close()函数来关闭数据库连接。</strong></p><p><br><br></p><p>开始学习PHP了…… &nbsp;&nbsp; _(:3」∠)_</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Apache配置&quot;&gt;&lt;a href=&quot;#Apache配置&quot; class=&quot;headerlink&quot; title=&quot;Apache配置&quot;&gt;&lt;/a&gt;Apache配置&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;macOS Sierra 10.12&lt;/p&gt;
&lt;/blockquo
      
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Mac" scheme="http://blog.ykqmain.com/tags/Mac/"/>
    
      <category term="Apache" scheme="http://blog.ykqmain.com/tags/Apache/"/>
    
      <category term="服务器" scheme="http://blog.ykqmain.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="MySQL" scheme="http://blog.ykqmain.com/tags/MySQL/"/>
    
      <category term="数据库" scheme="http://blog.ykqmain.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="PHP" scheme="http://blog.ykqmain.com/tags/PHP/"/>
    
      <category term="Web" scheme="http://blog.ykqmain.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>Apple相关</title>
    <link href="http://blog.ykqmain.com/apple/"/>
    <id>http://blog.ykqmain.com/apple/</id>
    <published>2016-09-03T16:00:00.000Z</published>
    <updated>2019-01-28T12:20:26.441Z</updated>
    
    <content type="html"><![CDATA[<h2 id="重装Mac系统"><a href="#重装Mac系统" class="headerlink" title="重装Mac系统"></a>重装Mac系统</h2><ol><li><p><strong><em>准备工作</em></strong></p><ol><li><p><strong>备份!</strong></p></li><li><p>准备一个16G以上的U盘（会被格式化）</p></li><li><p>从App Store下载新系统，下载成功后，退出自动安装。确保安装文件在“应用程序”文件夹（Applications）<br><br></p></li></ol></li><li><p><strong><em>格式化 U盘</em></strong></p><ol><li><p>打开“磁盘工具”</p></li><li><p>名称 填写 <strong>U</strong> (该名称之后会用到)</p></li><li><p>格式 选择 <strong>Mac OS 扩展 (日志式)</strong></p></li><li><p>分区 选择 <strong>GUID 分区表</strong><br><br></p></li></ol></li><li><p><strong><em>制作启动盘</em></strong></p><ol><li><p>打开“终端”</p></li><li><p><code>sudo /Applications/Install\ macOS\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/U</code></p><ul><li>相应地替换为<code>U</code></li><li>空格之间用 <code>\</code> 连接</li><li>用“文件/设备拖入法”也比较方便</li></ul></li><li><p>确定后，输入管理员密码，等待 (半小时也有可能 _(:3」∠)_ )。陆续看到以下信息</p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Erasing Disk: <span class="number">0</span>%<span class="params">...</span> <span class="number">10</span>%<span class="params">...</span> <span class="number">20</span>%<span class="params">...</span> <span class="number">30</span>%<span class="params">...</span><span class="number">100</span>%<span class="params">...</span></span><br><span class="line">Copying installer files <span class="keyword">to</span> disk<span class="params">...</span></span><br><span class="line">Copy complete.</span><br><span class="line">Making disk bootable<span class="params">...</span></span><br><span class="line">Copying boot files<span class="params">...</span></span><br><span class="line">Copy complete.</span><br><span class="line">Done.</span><br></pre></td></tr></table></figure><p><br></p></li></ol></li><li><p><strong>_安装_</strong></p><ol><li><p>重启，按住 <strong>option(alt)</strong> 键，直到屏幕显示多出一个 USB 启动盘的选项</p></li><li><p>选择 U 盘的图标回车，可以直接覆盖安装系统(升级)，也可以在磁盘工具里面格式化抹掉整个硬盘，或者重新分区等实现全新的干净的安装。</p></li></ol></li></ol><p><br></p><h2 id="Mac小技巧"><a href="#Mac小技巧" class="headerlink" title="Mac小技巧"></a>Mac小技巧</h2><ol><li><p><strong><em>系统截图</em></strong></p><ol><li><p>去掉窗口截屏的阴影对窗口进行截屏的时候(<code>Command＋Shift＋4</code>, 空格)，得到的图片周围会自动被加上一圈阴影。</p><p>关闭阴影</p><p><code>defaults write com.apple.screencapture disable-shadow -bool true ; killall SystemUIServer</code></p><p>恢复</p><p><code>defaults write com.apple.screencapture disable-shadow -bool false ; killall SystemUIServer</code></p></li><li><p>窗口截图：使用<code>Command＋shift＋4</code>后，按下空格键，鼠标会变成一个小相机，这时候你使用鼠标对一个窗口点击一下鼠标左键，就对一个窗口进行了截图。</p><p>截图窗口位置微调：</p><p>按<code>Command＋shift＋4</code>后 ,画一个抓取的区域，不要松开鼠标，接着：</p><ul><li>按住空格可以移动这个区域</li><li>按住 Shift后，将锁定X 或者 Y轴进行拖动</li><li>按住 Option后，将按照区域圆心进行放大<br><br></li></ul></li></ol></li><li><p><strong><em>显示 隐藏文件</em></strong></p><ul><li><p><code>Shift + Command + .</code></p></li><li><p>打开终端，<code>cd</code> 到相关文件夹，<code>ls -a</code></p></li><li><p>打开终端,</p><p>  显示</p><p>  <code>defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder</code></p><p>  隐藏</p><p>  <code>defaults write com.apple.finder AppleShowAllFiles -boolean false ; killall Finder</code><br><br></p></li></ul></li><li><p><strong><em>关闭校园网认证弹窗</em></strong></p><p> <code>sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.captive.control Active -bool false</code><br><br></p></li><li><p><strong><em>还原网络设置</em></strong></p><p> 清空 下面文件夹中的所有文件，</p><p> <code>/Library/Preferences/SystemConfiguration/</code></p><p> 重启Mac</p><p> (用于Mac网络设置无响应)<br><br></p></li><li><p><strong><em>重建Spotlight索引</em></strong></p><p> <code>sudo mdutil -E /</code><br><br></p></li></ol><h2 id="常用路径"><a href="#常用路径" class="headerlink" title="常用路径"></a>常用路径</h2><ul><li><p>iTunes的iDevices备份路径：<code>~/Library/Application Support/MobileSync/Backup/</code></p></li><li><p>Xcode文档路径：<code>~/Library/Developer/Shared/Documentation</code></p></li><li><p>Xcode插件路径：<code>~/Library/Application Support/Developer/Shared/Xcode/Plug-ins/</code></p></li><li><p>Xcode模板路径：<code>/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/Project Templates/</code></p></li><li><p>iOS模拟器：<code>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app</code></p></li><li><p>App crash report：<code>~/Library/Developer/Xcode/Products/</code></p></li><li><p>Mac自带apache的配置目录 <code>/private/etc/apache2/httpd.conf</code></p></li><li><p>apache的部署包 <code>/资源库/WebServer/Documents/</code></p></li><li><p>hosts文件：<code>/private/etc/hosts</code></p></li></ul><p><br></p><p>新系统等得好焦急 _(:3」∠)_</p><p><br></p><hr><p><br><br></p><h2 id="iOS重装-刷机、降级"><a href="#iOS重装-刷机、降级" class="headerlink" title="iOS重装 (刷机、降级)"></a>iOS重装 (刷机、降级)</h2><ol><li><p>连接电脑，打开iTunes，<strong>备份</strong></p></li><li><p>恢复模式</p><ol><li><p>长按住电源键，出现关机选项时，滑动关机</p></li><li><p>再按电源键开机，屏幕会出现苹果标志，不要松开电源键，同时按住主屏 <code>Home</code> 键，直到屏幕黑屏时；松开电源键，继续按住主屏 Home 键，直到电脑端的 iTunes 出现 <code>检测到一个处于恢复模式的 iPhone</code></p></li><li><p>点击 iTunes 窗口中的 <code>恢复 iPhone</code> 按钮</p></li></ol></li><li><p>让 iTunes 自动识别机器，下载固件</p><ul><li>MacOS 先按 <code>option</code> 键，再点击 <code>恢复 iPhone</code> 按钮</li><li>Windows 先按 <code>Shift</code> 键，再点击 <code>恢复 iPhone</code> 按钮</li><li><code>更新</code> 保留原数据</li><li><code>恢复</code> 抹掉数据</li><li>固件路径 <code>~/Library/iTunes/iPhone Software Updates</code></li></ul></li></ol><p><br><br></p><h2 id="iPhone鉴别"><a href="#iPhone鉴别" class="headerlink" title="iPhone鉴别"></a>iPhone鉴别</h2><ol><li><p>看外观</p><p> <em>暂时不要插卡激活，因为有的第三方渠道拿到的手机，激活后不能无条件退货</em></p><ul><li><p><strong>手机盒</strong> 背部Model和 <strong>手机</strong> 背部Model对比是否一致 (比如 A1699 指 国行iPhone6sp)</p></li><li><p>开机看手机屏幕 (<strong>不插电话卡不会激活</strong>)</p></li><li><p>看手机外壳的接缝处以及间隙是否均匀，有无划痕</p></li><li><p>数据线、耳机、扬声器等<br><br></p></li></ul></li><li><p>查询序列号 (盒子背部)</p><p> 官网查询：</p><p> <a href="https://checkcoverage.apple.com/cn/zh/" target="_blank" rel="noopener">https://checkcoverage.apple.com/cn/zh/</a></p><p> 官网显示，请激活你的iPhone<br><br></p></li><li><p>确认无误之后，关机，插卡激活<br><br></p></li><li><p>进入 <code>通用</code>-<code>关于本机</code></p><ul><li>查看<strong>序列号</strong>是否与盒子背部序列号一致</li><li>查看手机型号 (比如 M<em>**</em>CH/A)<ul><li>第一位字母表示生产类型<ul><li>M 正常生产备货</li><li>N 售后备换</li><li>F 官方翻新，打折销售用</li><li>3 官方展示机</li></ul></li><li><code>/</code>前面两位字母是地区编码<ul><li>CH 中国大陆</li><li>ZP 港版</li><li>LL 美版</li><li>J  日版</li></ul></li><li>最后一位<code>/A</code>表示更新版本。(如果这个产品配置有改变，需要和前款区分的话，就会打B、C之类。不过一般这种情况很少发生，所以后面基本都是<code>/A</code>)<br><br></li></ul></li></ul></li><li><p>通话质量 </p><p> <strong>一定</strong> 要打电话测试，通话声音是否清晰，有无杂音电流声<br><br></p></li><li><p>检查更新，升级系统到最新系统，然后<code>抹掉所有内容和设置</code></p><p> 很多山寨机靠越狱改序列号的翻新机器就会白苹果<br><br></p></li><li><p>功能检验</p><ul><li>Touch ID，识别速度，效率</li><li>3D Touch</li><li>关闭4G，测试3G和2G的上网质量</li><li>Wi-Fi</li><li>从App Store下载app并使用</li><li>……<br><br></li></ul></li><li><p>查询电池充放电循环次数</p><p> 下载相关app可以查看，<br> 全新机器一般寿命是100%，循环不会超过2，可能有一些误差。<br><br></p></li><li><p>刷机</p><p> 连接iTunes，查看iPhone的状态</p><p> <strong>刷机</strong><br><br></p></li></ol><p><strong>以上步骤，缺一不可</strong></p><p><br></p><p><strong>iPhone的水太深，以现在的造假技术，序列号已经不能作为唯一参考了。选择可靠的渠道是第一道保证。</strong></p><p>Apple Store &gt; <a href="https://www.apple.com/cn/" target="_blank" rel="noopener">官网</a> &gt; <a href="https://apple.tmall.com" target="_blank" rel="noopener">天猫Apple旗舰店</a> &gt; <a href="https://apple.jd.com" target="_blank" rel="noopener">京东Apple产品专营店</a> ≈ 三大运营商 &gt; 其他第三方</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;重装Mac系统&quot;&gt;&lt;a href=&quot;#重装Mac系统&quot; class=&quot;headerlink&quot; title=&quot;重装Mac系统&quot;&gt;&lt;/a&gt;重装Mac系统&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;准备工作&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;
      
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Apple" scheme="http://blog.ykqmain.com/tags/Apple/"/>
    
      <category term="Mac" scheme="http://blog.ykqmain.com/tags/Mac/"/>
    
      <category term="macOS" scheme="http://blog.ykqmain.com/tags/macOS/"/>
    
      <category term="OS X" scheme="http://blog.ykqmain.com/tags/OS-X/"/>
    
      <category term="iPhone" scheme="http://blog.ykqmain.com/tags/iPhone/"/>
    
      <category term="iOS" scheme="http://blog.ykqmain.com/tags/iOS/"/>
    
      <category term="skill" scheme="http://blog.ykqmain.com/tags/skill/"/>
    
  </entry>
  
  <entry>
    <title>年轻的战场</title>
    <link href="http://blog.ykqmain.com/young/"/>
    <id>http://blog.ykqmain.com/young/</id>
    <published>2016-07-05T16:00:00.000Z</published>
    <updated>2018-08-06T13:25:09.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>今天我</p></blockquote><blockquote><p>终于站在这年轻的战场</p></blockquote><blockquote><p>请你给我</p></blockquote><blockquote><p>一束爱的光芒</p></blockquote><blockquote><p>今天我</p></blockquote><blockquote><p>将要走向这胜利的远方</p></blockquote><blockquote><p>我要把这世界为你点亮</p></blockquote><blockquote><p>…… ……</p></blockquote><blockquote><p>————《年轻的战场》</p></blockquote><p><br></p><p>🎵 年轻的战场 - 张杰</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/young/young.m4a" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p><br></p><p>20岁的生日，强迫着自己写一点东西，对于两年没有再接触文史材料的我来说，写作变得很陌生，有点艰难，想到哪扯到哪吧，在博客上做个记录。</p><p>…… ……</p><p>再没有文体的限制，更没有了800字的限制，等到可以想说什么想写什么时候，似乎表达的欲望并没有那么强烈，还不如高中呢 :-)</p><p>待续，</p><p><br></p><h2 id="Update：2016-08-25"><a href="#Update：2016-08-25" class="headerlink" title="Update：2016-08-25"></a>Update：2016-08-25</h2><p>本来是想在20岁的生日记录一些的，果然，人必须是要经历一些事情，才会有所感悟。</p><p>:-) 微笑，是比大哭更心痛的表情🙂<br><br></p><p>🎵 Orange (中文版)</p><audio src="http://blog-1253481725.cosgz.myqcloud.com/april/Orange_cn.mp3" controls="controls"><br>Your browser does not support the audio tag.<br></audio><p>写作已经变得很陌生，最简单的是按照时间的顺序来。</p><p><br></p><hr><p><br></p><p>在学校打了最后一场网球，纪念三学期的网球课，直到最后，我才发现，原来<strong>网球</strong>这么有趣，就像某些人，直到最后才<strong>被发现</strong> :-)</p><p>人生就是那么奇怪，你以为只是一个过客，她却留下了，你以为她永远不会走，她却又离开了。</p><p><br></p><p>最后，一个人到楼顶吹吹风，第二天就回家了。</p><p><br></p><hr><p><br></p><p>往事不堪回首，以至于稍微回想一下就会感到莫名的悲伤，</p><p>20年，活着真累，</p><p>读的学校很水，钱也不会赚，事也不会做。</p><p>别人家的孩子考上研究生，别人家的孩子都在赚钱，别人家的孩子都好些。</p><p>如果哪天我出意外死了，真的解脱了，也就不像现在这么累，半点生活的乐趣都没有。学业没搞好，事业连影子都看不到。</p><p>高考后没哭过这么痛快，不禁想到，人的一生该怎样度过？“为了人类的解放而斗争”对我而言只能是一句玩笑。</p><p>“天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。” 对于自己选择的路，就算是爬，也要爬完。唯一期望的是，不留遗憾。</p><p>如果哪天我有幸去世，希望朋友能来参加我葬礼的同时，能多思念我一分钟，这也就足够了 : )</p><p>空闲的时候，看看B站，直播的“放映厅”，那是一个新世界，</p><p>没事就开着，看到《武林外传》，那是很遥远的回忆了，</p><p>但是歌词却记忆犹新，</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=28700552&auto=0&height=66"></iframe><blockquote><p>这世界有太多不如意</p></blockquote><blockquote><p>但你的生活还是要继续</p></blockquote><blockquote><p>太阳每天依旧要升起</p></blockquote><blockquote><p>希望永远种在你心里</p></blockquote><blockquote><p>————《侠客行》</p></blockquote><p><br></p><hr><p><br></p><p>夏天，应该有空调，Wi-Fi，音乐……</p><p>特别的，这个夏天还有<strong>洪水</strong>。</p><p>因为外婆家房子问题，所以搬来跟我一起，大约一个星期。</p><p>吃饭，烧水，都是我，<strong>琐碎的小事</strong> 不间断，这大概就是生活。</p><blockquote><p>寄蜉蝣于天地，渺沧海之一粟。</p></blockquote><blockquote><p>哀吾生之须臾，羡长江之无穷。</p></blockquote><blockquote><p>挟飞仙以遨游，抱明月而长终。</p></blockquote><blockquote><p>知不可乎骤得，托遗响于悲风。</p></blockquote><blockquote><p>————《前赤壁赋》</p></blockquote><p>七月就这么过去了。</p><p><br></p><hr><p><br></p><p>在八月的时候看了许多动画，特点都是国产，以及童年怀旧。深感动画世界的_美好<em>、童年时代的</em>单纯<em>、以及与小伙伴们玩耍时的</em>欢乐_。</p><p>遗憾不懂音乐，就像错过了一整个美好的世界……羡慕会弹钢琴的人 (｡-_-｡)</p><p><br></p><p>夜深人静的时候，抬头往上看，最美的景色展现在眼前，这是<strong>自然</strong>赠予孤独的我最好的礼物，</p><blockquote><p>年轻的时候，你总是以为会和许多人志同道合，有点风吹草动就忍不住找人倾诉。和恋人吵个架，恨不得让全世界的人来安慰你。稍感寂寞，就狂喊孤独。但是后来你会发现，有的人，是一起成长的；有的人，是用来遗忘的；能伴你走过一程又一程的，也就屈指可数的几个人。</p></blockquote><p><strong>而现在，我也渐渐地习惯了一个人。</strong></p><p><br></p><hr><p><br></p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=355992&auto=0&height=66"></iframe><p>光阴似箭，日月如梭。</p><p>来到学校，看到这样的<strong>寝室</strong>，不禁感慨，</p><p>生活总是有很多不顺，以前试着强行扯理由安慰自己，让自己好过点，但是这次、也就是现在，我已经想不出任何理由来平复我的心，心很累，真的累了。</p><p>坐在寝室里，再看看_学费_，</p><p>心里再一凉</p><p>对不起父母的血汗钱</p><p>心累，心凉，心痛，</p><p>愧疚，难受，想哭。</p><p>未来很迷茫，道路是未知的。</p><p><br></p><p>傍晚的风很暖，学校门口的那条街又新开了很多店面，热闹非凡，</p><p>而我，<em>离人群越来越远了</em>。</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;今天我&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;终于站在这年轻的战场&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;请你给我&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;一束
      
    
    </summary>
    
      <category term="文章" scheme="http://blog.ykqmain.com/categories/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
      <category term="生日" scheme="http://blog.ykqmain.com/tags/%E7%94%9F%E6%97%A5/"/>
    
  </entry>
  
  <entry>
    <title>Nginx安装</title>
    <link href="http://blog.ykqmain.com/nginx/"/>
    <id>http://blog.ykqmain.com/nginx/</id>
    <published>2016-06-07T16:00:00.000Z</published>
    <updated>2017-12-14T02:05:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>系统平台：Centos 6 x86</strong></p><p><strong>全程需要注意路径问题</strong></p><p><br></p><h2 id="Nginx-安装"><a href="#Nginx-安装" class="headerlink" title="Nginx 安装"></a>Nginx 安装</h2><ol><li><p>安装编译工具及库文件</p><p> <code>yum -y install make zlib zlib-devel gcc-c++ libtool  openssl openssl-devel</code><br><br></p></li><li><p>安装 PCRE</p><p> PCRE 作用是让 Ngnix 支持 Rewrite 功能。</p><ol><li><p>下载 PCRE 安装包:</p><p><code>wget http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz</code></p></li><li><p>解压安装包:</p><p><code>tar zxvf pcre-8.35.tar.gz</code></p></li><li><p>进入安装包目录</p><p><code>cd pcre-8.35</code></p></li><li><p>编译安装 </p><p><code>./configure</code></p><p><code>make &amp;&amp; make install</code><br><br></p></li></ol></li><li><p>安装 Nginx</p><ol><li><p>下载Nginx</p><p>一直退出到主目录 <code>cd ..</code></p><p><code>wget http://nginx.org/download/nginx-1.12.2.tar.gz</code></p></li><li><p>解压安装包</p><p><code>tar zxvf nginx-1.12.2.tar.gz</code></p></li><li><p>进入安装包目录</p><p><code>cd nginx-1.12.2</code></p></li><li><p>编译安装</p><p><code>./configure --prefix=/web/nginx --with-http_stub_status_module --with-http_ssl_module --with-pcre=/root/pcre-8.35</code></p><p><code>make</code></p><p><code>make install</code></p></li></ol></li></ol><p><br><br></p><h2 id="Nginx-配置"><a href="#Nginx-配置" class="headerlink" title="Nginx 配置"></a>Nginx 配置</h2><p>配置文件<code>nginx.conf</code>，在<code>/web/nginx/conf/</code>里面，</p><p>主要配置这里：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  ykqmain.com;</span><br><span class="line">        <span class="attribute">index</span> index.html index.htm index.php;</span><br><span class="line">        <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line">        <span class="attribute">root</span> /安装的路径/nginx/html;</span><br><span class="line">        </span><br><span class="line">        <span class="attribute">if</span> (<span class="variable">$host</span> != ykqmain.com) &#123;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> http://ykqmain.com/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">            <span class="attribute">root</span>   html;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>(<em>我这里还配置了301转发，将带WWW的转到不带WWW的网址。</em>)</p><p>检查配置文件<code>ngnix.conf</code>的正确性命令：<code>/web/nginx/sbin/nginx -t</code></p><p>启动 Nginx: <code>/web/nginx/sbin/nginx</code></p><p><strong>访问站点测试是否成功</strong></p><p><br><br></p><h2 id="Nginx-开机自启"><a href="#Nginx-开机自启" class="headerlink" title="Nginx 开机自启"></a>Nginx 开机自启</h2><ol><li><p>首先，在linux系统的<code>/etc/init.d/</code>目录下创建nginx文件</p><p> <code>vim /etc/init.d/nginx</code><br><br></p></li><li><p>添加</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># nginx - this script starts and stops the nginx daemon</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># chkconfig:   - 85 15</span></span><br><span class="line"><span class="comment"># description:  NGINX is an HTTP(S) server, HTTP(S) reverse \</span></span><br><span class="line"><span class="comment">#               proxy and IMAP/POP3 proxy server</span></span><br><span class="line"><span class="comment"># processname: nginx</span></span><br><span class="line"><span class="comment"># config:      /etc/nginx/nginx.conf</span></span><br><span class="line"><span class="comment"># config:      /etc/sysconfig/nginx</span></span><br><span class="line"><span class="comment"># pidfile:     /var/run/nginx.pid</span></span><br><span class="line"><span class="comment"># Source function library.</span></span><br><span class="line">. /etc/rc.d/init.d/<span class="built_in">functions</span></span><br><span class="line"><span class="comment"># Source networking configuration.</span></span><br><span class="line">. /etc/sysconfig/network</span><br><span class="line"><span class="comment"># Check that networking is up.</span></span><br><span class="line">[ <span class="string">"<span class="variable">$NETWORKING</span>"</span> = <span class="string">"no"</span> ] &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line">nginx=<span class="string">"/web/nginx/sbin/nginx"</span></span><br><span class="line">prog=$(basename <span class="variable">$nginx</span>)</span><br><span class="line">NGINX_CONF_FILE=<span class="string">"/web/nginx/conf/nginx.conf"</span></span><br><span class="line">[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</span><br><span class="line">lockfile=/var/lock/subsys/nginx</span><br><span class="line"><span class="function"><span class="title">make_dirs</span></span>() &#123;</span><br><span class="line">   <span class="comment"># make required directories</span></span><br><span class="line">   user=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">"configure arguments:"</span> | sed <span class="string">'s/[^*]*--user=\([^ ]*\).*/\1/g'</span> -`</span><br><span class="line">   <span class="keyword">if</span> [ -z <span class="string">"`grep <span class="variable">$user</span> /etc/passwd`"</span> ]; <span class="keyword">then</span></span><br><span class="line">       useradd -M -s /bin/nologin <span class="variable">$user</span></span><br><span class="line">   <span class="keyword">fi</span></span><br><span class="line">   options=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">'configure arguments:'</span>`</span><br><span class="line">   <span class="keyword">for</span> opt <span class="keyword">in</span> <span class="variable">$options</span>; <span class="keyword">do</span></span><br><span class="line">       <span class="keyword">if</span> [ `<span class="built_in">echo</span> <span class="variable">$opt</span> | grep <span class="string">'.*-temp-path'</span>` ]; <span class="keyword">then</span></span><br><span class="line">           value=`<span class="built_in">echo</span> <span class="variable">$opt</span> | cut -d <span class="string">"="</span> -f 2`</span><br><span class="line">           <span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$value</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">               <span class="comment"># echo "creating" $value</span></span><br><span class="line">               mkdir -p <span class="variable">$value</span> &amp;&amp; chown -R <span class="variable">$user</span> <span class="variable">$value</span></span><br><span class="line">           <span class="keyword">fi</span></span><br><span class="line">       <span class="keyword">fi</span></span><br><span class="line">   <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line">    [ -x <span class="variable">$nginx</span> ] || <span class="built_in">exit</span> 5</span><br><span class="line">    [ -f <span class="variable">$NGINX_CONF_FILE</span> ] || <span class="built_in">exit</span> 6</span><br><span class="line">    make_dirs</span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">"Starting <span class="variable">$prog</span>: "</span></span><br><span class="line">    daemon <span class="variable">$nginx</span> -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line">    retval=$?</span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line">    [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; touch <span class="variable">$lockfile</span></span><br><span class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">"Stopping <span class="variable">$prog</span>: "</span></span><br><span class="line">    killproc <span class="variable">$prog</span> -QUIT</span><br><span class="line">    retval=$?</span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line">    [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; rm -f <span class="variable">$lockfile</span></span><br><span class="line">    <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">restart</span></span>() &#123;</span><br><span class="line">    configtest || <span class="built_in">return</span> $?</span><br><span class="line">    stop</span><br><span class="line">    sleep 1</span><br><span class="line">    start</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">reload</span></span>() &#123;</span><br><span class="line">    configtest || <span class="built_in">return</span> $?</span><br><span class="line">    <span class="built_in">echo</span> -n $<span class="string">"Reloading <span class="variable">$prog</span>: "</span></span><br><span class="line">    killproc <span class="variable">$nginx</span> -HUP</span><br><span class="line">    RETVAL=$?</span><br><span class="line">    <span class="built_in">echo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">force_reload</span></span>() &#123;</span><br><span class="line">    restart</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">configtest</span></span>() &#123;</span><br><span class="line">  <span class="variable">$nginx</span> -t -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">rh_status</span></span>() &#123;</span><br><span class="line">    status <span class="variable">$prog</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">rh_status_q</span></span>() &#123;</span><br><span class="line">    rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"<span class="variable">$1</span>"</span> <span class="keyword">in</span></span><br><span class="line">    start)</span><br><span class="line">        rh_status_q &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line">    stop)</span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line">    restart|configtest)</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line">    reload)</span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 7</span><br><span class="line">        <span class="variable">$1</span></span><br><span class="line">        ;;</span><br><span class="line">    force-reload)</span><br><span class="line">        force_reload</span><br><span class="line">        ;;</span><br><span class="line">    status)</span><br><span class="line">        rh_status</span><br><span class="line">        ;;</span><br><span class="line">    condrestart|try-restart)</span><br><span class="line">        rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">            ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> $<span class="string">"Usage: <span class="variable">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;"</span></span><br><span class="line">        <span class="built_in">exit</span> 2</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><p> 需要根据安装路径修改下面这两项配置：</p><p> <code>nginx=&quot;/web/nginx/sbin/nginx&quot;</code> 修改成nginx执行程序的路径。<br> <code>NGINX_CONF_FILE=&quot;/web/nginx/conf/nginx.conf&quot;</code> 修改成配置文件的路径。<br><br></p></li><li><p>保存脚本文件后设置文件的执行权限</p><p> <code>chmod a+x /etc/init.d/nginx</code><br><br></p></li><li><p>使用chkconfig进行管理</p><p> <code>chkconfig --add /etc/init.d/nginx</code></p><p> 加完这个之后，就可以使用service对nginx进行启动，重启等操作了。</p><p> <code>service nginx start</code></p><p> <code>service nginx stop</code></p><p> <code>service nginx restart</code><br><br></p></li><li><p>设置开机启动：</p><p> <code>chkconfig nginx on</code></p></li></ol><p><br></p><p><strong>Enjoy it!</strong> </p><p>//参考：</p><ul><li><p><a href="http://www.runoob.com/linux/nginx-install-setup.html" target="_blank" rel="noopener">Nginx 安装配置</a></p></li><li><p><a href="http://unun.in/linux/225.html" target="_blank" rel="noopener">nginx开机启动</a></p></li></ul><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;系统平台：Centos 6 x86&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;全程需要注意路径问题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&quot;Nginx-安装&quot;&gt;&lt;a href=&quot;#Nginx-安装&quot; class=&quot;header
      
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="服务器" scheme="http://blog.ykqmain.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Linux" scheme="http://blog.ykqmain.com/tags/Linux/"/>
    
      <category term="Nginx" scheme="http://blog.ykqmain.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>NASM汇编的&quot;hello, world&quot;</title>
    <link href="http://blog.ykqmain.com/nasm/"/>
    <id>http://blog.ykqmain.com/nasm/</id>
    <published>2016-05-16T16:00:00.000Z</published>
    <updated>2019-03-12T13:06:55.688Z</updated>
    
    <content type="html"><![CDATA[<p>最近学了汇编语言，8086(发布1978年，16位)，MASM汇编器。结果就是，特么的跟没学一样，完、全、搞、不、懂  _(:3」∠)_ </p><p>毫无疑问汇编是很有用的，这就很尴尬了，也不能装懂，也没有兴趣，也没有那么多时间去折腾，索性，就放弃它了，应付过了考试就好。</p><p>但也想象征下的写一个 <em>“hello, world”</em> 来纪念一下，然而，没想到的是，就这一个 <em>“hello, world”</em> 我也搞不定，看来放弃它是正确的选择 ಥ_ಥ</p><p><br></p><p>因为我用Mac，所以MASM是用不了的，又因为不同的CPU，不同的汇编器，汇编的语法也不同，所以书本是没啥参考的了。</p><p>Mac自带<a href="http://www.nasm.us" target="_blank" rel="noopener">NASM</a>，使用它来汇编，使用<code>ld</code>来连接。</p><p>即使上网搜索也很难搞定NASM汇编的 <em>“hello, world”</em> ，最后通过<strong>用英文Google</strong>找到了相关代码。</p><p><br></p><h3 id="Straight-Line-“hello-world”"><a href="#Straight-Line-“hello-world”" class="headerlink" title="Straight Line “hello, world”"></a>Straight Line “hello, world”</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">; hello.asm - a <span class="string">"hello, world"</span> program using NASM</span><br><span class="line"> </span><br><span class="line">; nasm -f macho hello.asm </span><br><span class="line">;Assemble the above source <span class="keyword">to</span> an object file, hello.o, <span class="keyword">in</span> the Mach-O format.</span><br><span class="line"> </span><br><span class="line">; ld -o hello -e mystart hello.o</span><br><span class="line">;Link the object file <span class="keyword">to</span> produce the hello executable. (Calling this <span class="keyword">step</span> <span class="string">"linking"</span> when there is only one object file is a bit weird.)</span><br><span class="line"> </span><br><span class="line">; ./hello</span><br><span class="line">;<span class="builtin-name">Run</span> the executable.</span><br><span class="line"> </span><br><span class="line">; echo $?</span><br><span class="line">;Check the exit status <span class="keyword">in</span> Bash.</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">section .text</span><br><span class="line"> </span><br><span class="line">global mystart                ; make the main function externally visible</span><br><span class="line"> </span><br><span class="line">mystart:</span><br><span class="line"> </span><br><span class="line">; 1 <span class="builtin-name">print</span> <span class="string">"hello, world"</span></span><br><span class="line"> </span><br><span class="line">    ; 1a prepare the arguments <span class="keyword">for</span> the<span class="built_in"> system </span>call <span class="keyword">to</span> write</span><br><span class="line">    push dword mylen          ; message length                           </span><br><span class="line">    push dword mymsg          ; message <span class="keyword">to</span> write</span><br><span class="line">    push dword 1              ; file descriptor value</span><br><span class="line"> </span><br><span class="line">    ; 1b make the<span class="built_in"> system </span>call <span class="keyword">to</span> write</span><br><span class="line">    mov eax, 0x4              ;<span class="built_in"> system </span>call number <span class="keyword">for</span> write</span><br><span class="line">    sub esp, 4                ; OS X (<span class="keyword">and</span> BSD)<span class="built_in"> system </span>calls needs <span class="string">"extra space"</span> on stack</span><br><span class="line">    int 0x80                  ; make the actual<span class="built_in"> system </span>call</span><br><span class="line"> </span><br><span class="line">    ; 1c clean up the stack</span><br><span class="line">    <span class="builtin-name">add</span> esp, 16               ; 3 args * 4 bytes/arg + 4 bytes extra space = 16 bytes</span><br><span class="line">    </span><br><span class="line">; 2 exit the program</span><br><span class="line"> </span><br><span class="line">    ; 2a prepare the argument <span class="keyword">for</span> the sys call <span class="keyword">to</span> exit</span><br><span class="line">    push dword 0              ; exit status returned <span class="keyword">to</span> the operating system</span><br><span class="line"> </span><br><span class="line">    ; 2b make the call <span class="keyword">to</span> sys call <span class="keyword">to</span> exit</span><br><span class="line">    mov eax, 0x1              ;<span class="built_in"> system </span>call number <span class="keyword">for</span> exit</span><br><span class="line">    sub esp, 4                ; OS X (<span class="keyword">and</span> BSD)<span class="built_in"> system </span>calls needs <span class="string">"extra space"</span> on stack</span><br><span class="line">    int 0x80                  ; make the<span class="built_in"> system </span>call</span><br><span class="line"> </span><br><span class="line">    ; 2c <span class="literal">no</span> need <span class="keyword">to</span> clean up the stack because <span class="literal">no</span> code here would executed: already exited</span><br><span class="line">    </span><br><span class="line">section .data</span><br><span class="line"> </span><br><span class="line">    mymsg db <span class="string">"hello, Assembly Language! (｡•ˇ‸ˇ•｡) ... and, say goodbye. _(:3」∠)_"</span>, 0xa  ; string with a carriage-return</span><br><span class="line">    mylen equ $-mymsg         ; string length <span class="keyword">in</span> bytes</span><br></pre></td></tr></table></figure><p><br></p><p>汇编后缀为<code>.asm</code>, 注释为 <code>;</code> (分号之后的一行内字符视为注释)</p><p>打开终端，(当前文件夹下, 或完整路径)</p><p>Assemble: <code>nasm -f macho hello.asm</code></p><p>Link: <code>ld -o hello -e mystart hello.o</code></p><p>Run: <code>./hello</code></p><p>其他说明直接看代码内注释。</p><p><br></p><p><em>hello, Assembly Language! (｡•ˇ‸ˇ•｡)</em></p><p><em>… …</em></p><p><em>and,</em></p><p><strong>say goodbye. _(:3」∠)_</strong></p><p><br></p><hr><p><br></p><p>通过汇编的学习，更加深刻地认识到一些事：</p><ul><li><p>选对教材很重要</p></li><li><p>Google很重要</p></li><li><p>英语很重要，用英文Google更重要</p></li><li><p>不适合的不强求，该放弃的就得放弃 (/ _ ; )</p></li></ul><p><br><br><br></p><p>//参考：</p><ul><li><p>如果想入门汇编，建议使用王爽的《汇编语言》</p></li><li><p><a href="http://peter.michaux.ca/articles/assembly-hello-world-for-os-x" target="_blank" rel="noopener">Assembly “hello, world” for OS X</a></p></li><li><p><a href="https://en.wikipedia.org/wiki/Netwide_Assembler" target="_blank" rel="noopener">NASM</a></p></li></ul><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近学了汇编语言，8086(发布1978年，16位)，MASM汇编器。结果就是，特么的跟没学一样，完、全、搞、不、懂  _(:3」∠)_ &lt;/p&gt;
&lt;p&gt;毫无疑问汇编是很有用的，这就很尴尬了，也不能装懂，也没有兴趣，也没有那么多时间去折腾，索性，就放弃它了，应付过了考试就好
      
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="汇编" scheme="http://blog.ykqmain.com/tags/%E6%B1%87%E7%BC%96/"/>
    
      <category term="Assembly" scheme="http://blog.ykqmain.com/tags/Assembly/"/>
    
      <category term="NASM" scheme="http://blog.ykqmain.com/tags/NASM/"/>
    
  </entry>
  
  <entry>
    <title>MySQL小记——附iOS游戏推荐</title>
    <link href="http://blog.ykqmain.com/mysql/"/>
    <id>http://blog.ykqmain.com/mysql/</id>
    <published>2016-04-12T16:00:00.000Z</published>
    <updated>2017-11-07T12:01:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近学的mysql的基础知识，想结合实际需求做点东西，练练手，这样才能学得扎实。</p><a id="more"></a><p>想到了建立一个 <strong>我玩过的游戏的数据库</strong>，记录自己的游戏历程(其实我玩的并不多) → _ →</p><p><br></p><p>Mac上安装了mysql之后，不像其他软件一样可以直接使用，有几个比较坑的问题，稍微总结一下。</p><p>下载安装 <a href="http://dev.mysql.com/downloads/" target="_blank" rel="noopener">MySQL Community Edition (GPL)</a></p><p>默认安装之后，会生成默认的密码，一定要复制记下来。(使用brew安装的MySQL密码为空)</p><p><strong>在Mac的<code>系统设置</code>中启动mysql.</strong></p><p><br><br></p><h3 id="1-登陆mysql"><a href="#1-登陆mysql" class="headerlink" title="1. 登陆mysql"></a>1. 登陆mysql</h3><h4 id="PATH问题"><a href="#PATH问题" class="headerlink" title="PATH问题"></a><em>PATH问题</em></h4><p>在终端中输入<code>mysql</code>，会提示失败。</p><p>需要输入完整的路径，mysql默认安装在 <code>/usr/local/mysql</code> ，所以运行mysql的命令应该是<code>/usr/local/mysql/bin/mysql</code>。</p><p>每次输入一长串命令无疑是麻烦的，最好的办法还是将<code>/usr/local/mysql/bin/</code>加入系统PATH，在<code>/Users/username/.bash_profile</code>文件中加入：(将 <code>username</code> 替换为你的Mac用户名)</p><p><code>export PATH=$PATH:/usr/local/mysql/bin</code></p><p>操作方法：</p><ul><li><p>终端</p><ol><li>打开终端</li><li><code>ls -a</code>显示当前目录下所有文件</li><li><code>vim .bash_profile</code></li><li>输入上面的代码，保存退出。<br><br></li></ol></li><li><p>编辑器</p><ol><li><p>首先显示Mac隐藏文件</p><ul><li><p>在终端中输入<code>defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder</code>，回车。</p><p>(隐藏Mac隐藏文件<code>defaults write com.apple.finder AppleShowAllFiles -boolean false ; killall Finder</code>)</p></li></ul></li><li><p>任意文本编辑器，输入代码，另存为<code>.bash_profile</code>。</p></li><li><p>将文件拖到<code>/Users/username</code>目录下(将 <code>username</code> 替换为你的Mac用户名)</p></li></ol></li></ul><p><br></p><h4 id="命令问题"><a href="#命令问题" class="headerlink" title="命令问题"></a><em>命令问题</em></h4><p>打开终端，再输入<code>mysql</code>，提示错误是关于 user 的，查资料后得知，应该输入<code>mysql -u USERNAME -p</code>登陆mysql。</p><ol><li>输入<code>mysql -u root -p</code>，回车</li><li>输入初始密码。</li></ol><ul><li>按<code>ctrl＋d</code>退出mysql。</li></ul><p><br><br><br></p><h3 id="2-修改密码"><a href="#2-修改密码" class="headerlink" title="2. 修改密码"></a>2. 修改密码</h3><p>登陆成功后的第一件事，必然是修改密码。</p><p>方法1:</p><p>进入mysql，输入<code>set password for USERNAME@localhost = password(&#39;NEWPASS&#39;);</code></p><p>(其中<code>USERNAME</code>是用户名，比如root，<code>NEWPASS</code>是你设置的密码。)</p><p><br></p><p>方法2:</p><p>输入<code>mysqladmin -u USERNAME -p OLDPASS password NEWPASS</code></p><p>(其中<code>USERNAME</code>是用户名，比如root，<code>OLDPASS</code>是原密码，<code>NEWPASS</code>是新密码。)</p><p><br><br><br></p><h3 id="3-编码问题"><a href="#3-编码问题" class="headerlink" title="3. 编码问题"></a>3. 编码问题</h3><p>当我插入中文到一个表中，提示<code>incorrect string</code>错误的时候，我就想到应该是编码的问题，话说解决编码最好的办法就是统一为utf8.</p><p>然而mysql默认有很多地方不是utf8，登陆mysql之后，输入<code>show variables like &#39;character%&#39;;</code>查看编码，如果没有设置，会发现很多地方不是utf8，一劳永逸的办法是修改mysql配置文件，然而这个文件默认是不存在的 → _ →</p><p><strong>修改mysql编码：</strong></p><ol><li><p>关闭mysql服务</p></li><li><p>一般来说，是不存在配置文件的，但还是可以在<code>/usr/local/mysql</code>里，找一下<code>my.cnf</code>或<code>my.ini</code>文件。</p></li><li><p>有就移动到<code>/etc/</code>文件夹下(按cmd＋shift＋G快速前往文件夹)，没有就创建一个<code>my.cnf</code>，输入：</p></li></ol><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure><p><br></p><ul><li>启动mysql服务，登陆，用<code>show variables like &#39;character%&#39;;</code>再检查一遍。</li></ul><p>到这里，才算正式开始在Mac上使用mysql了😑</p><p><br></p><hr><p><br></p><p>首先记录iOS游戏，在App Store购买记录中翻了半天，做成如下表格(省略了后面部分)：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/1.png" alt=""></p><p>一个游戏的基本信息写在第一行。</p><p>登陆数据库之后，</p><p><br></p><h4 id="1-创建数据库："><a href="#1-创建数据库：" class="headerlink" title="1.创建数据库："></a>1.创建数据库：</h4><p>创建一个名为 <strong>Game</strong> 的数据库，<code>create database Game;</code></p><p>切换到 <strong>Game</strong> 数据库下，<code>use Game;</code></p><ul><li>可以在MySQL交互模式使用 <code>source 路径</code> 执行sql文件</li></ul><p><br><br></p><h4 id="2-按照表格的内容创建表格："><a href="#2-按照表格的内容创建表格：" class="headerlink" title="2.按照表格的内容创建表格："></a>2.按照表格的内容创建表格：</h4><p>创建一个名为 <strong>ios_game</strong> 的表格</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ios_game</span><br><span class="line">    (</span><br><span class="line">        game_id <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT, #主键<span class="keyword">ID</span>自动增加</span><br><span class="line">        <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>),                   #游戏名称</span><br><span class="line">        developer <span class="built_in">VARCHAR</span>(<span class="number">100</span>),              #开发商</span><br><span class="line">        <span class="keyword">type</span> <span class="built_in">VARCHAR</span>(<span class="number">50</span>),                    #游戏类型</span><br><span class="line">        ptime <span class="keyword">YEAR</span>,                          #我玩的日期</span><br><span class="line">        chinese <span class="built_in">CHAR</span>(<span class="number">1</span>),                     #是否支持中文</span><br><span class="line">        price <span class="built_in">INT</span>,                           #我买的时候的价格，App <span class="keyword">Store</span>有降价，我经常买<span class="number">1</span>元<span class="number">6</span>元的</span><br><span class="line">        In_App_Purchase <span class="built_in">CHAR</span>(<span class="number">1</span>),             #是否有内购</span><br><span class="line">        ad <span class="built_in">CHAR</span>(<span class="number">1</span>),                          #是否有广告</span><br><span class="line">        grade <span class="built_in">VARCHAR</span>(<span class="number">1</span>),                    #我对它的评分，<span class="number">5</span>分最高</span><br><span class="line">        note <span class="built_in">TEXT</span>,                           #备注</span><br><span class="line">        PRIMARY <span class="keyword">KEY</span> (game_id)                #设置主键</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p><br></p><p>终端显示：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/2.png" alt=""></p><p><br><br><br></p><h4 id="3-可以通过-desc-ios-game-查看表的结构。"><a href="#3-可以通过-desc-ios-game-查看表的结构。" class="headerlink" title="3.可以通过 desc ios_game; 查看表的结构。"></a>3.可以通过 <code>desc ios_game;</code> 查看表的结构。</h4><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/3.png" alt=""></p><p><br><br><br></p><h4 id="4-插入信息"><a href="#4-插入信息" class="headerlink" title="4.插入信息"></a>4.插入信息</h4><p>插入一条信息：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ios_game</span><br><span class="line">(<span class="keyword">name</span>,developer,<span class="keyword">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">'Angry Birds'</span>,<span class="string">'Rovio'</span>,<span class="string">'休闲'</span>,<span class="number">2015</span>,<span class="string">'Y'</span>,<span class="number">6</span>,<span class="string">'Y'</span>,<span class="string">'Y'</span>,<span class="string">'4'</span>,<span class="string">'经典游戏'</span>);</span><br></pre></td></tr></table></figure><p><br></p><p>插入多条信息：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> ios_game</span><br><span class="line">(<span class="keyword">name</span>,developer,<span class="keyword">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">'Angry Birds Rio'</span>,<span class="string">'Rovio'</span>,<span class="string">'休闲'</span>,<span class="number">2015</span>,<span class="string">'N'</span>,<span class="number">0</span>,<span class="string">'Y'</span>,<span class="string">'Y'</span>,<span class="string">'3'</span>,<span class="string">'《里约大冒险》特别版'</span>),</span><br><span class="line">(<span class="string">'Angry Birds Space'</span>,<span class="string">'Rovio'</span>,<span class="string">'休闲'</span>,<span class="number">2015</span>,<span class="string">'N'</span>,<span class="number">1</span>,<span class="string">'Y'</span>,<span class="string">'Y'</span>,<span class="string">'4'</span>,<span class="string">'太空版，有轨迹'</span>),</span><br><span class="line">(<span class="string">'Angry Birds Star Wars'</span>,<span class="string">'Rovio'</span>,<span class="string">'休闲'</span>,<span class="number">2015</span>,<span class="string">'N'</span>,<span class="number">1</span>,<span class="string">'Y'</span>,<span class="string">'Y'</span>,<span class="string">'3'</span>,<span class="string">'《星球大战》特别版'</span>),</span><br><span class="line">(<span class="string">'Angry Birds Seasons'</span>,<span class="string">'Rovio'</span>,<span class="string">'休闲'</span>,<span class="number">2015</span>,<span class="string">'N'</span>,<span class="number">6</span>,<span class="string">'Y'</span>,<span class="string">'Y'</span>,<span class="string">'5'</span>,<span class="string">'季节版，我认为最好玩的一个版本，以节日为主题，更新频繁'</span>);</span><br></pre></td></tr></table></figure><p>只需要在<code>VALUES</code>后面将行用 <strong>逗号</strong> 分开即可,最后一行用 <strong>分号</strong>.</p><p><br></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/4.png" alt=""><br><br><br><br></p><h4 id="5-查询信息"><a href="#5-查询信息" class="headerlink" title="5.查询信息"></a>5.查询信息</h4><p>需要查询来确定一下。</p><p>使用<code>SELECT</code>语句查询：<code>SELECT * FROM ios_game;</code></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/5.png" alt=""></p><p><br><br><br></p><h4 id="6-批量导入"><a href="#6-批量导入" class="headerlink" title="6.批量导入"></a>6.批量导入</h4><p>用<code>INSERT</code>语句插入，只是用于少量数据的情况，对于更多的数据，最好采用导入的方式。比如用Excel之类的软件，先写好数据，然后存为<code>.csv</code>文件，稍作处理后导入mysql，</p><p>我用了Numbers做了如下表格，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/6.png" alt=""></p><p><em>因为暂时没有想到如何处理id自动增加会覆盖数据的问题，我直接把表格的第一项id设置为6(因为mysql里面已经存在5条数据了)</em></p><p>导出为<code>.csv</code>文件后，删掉第一行的name，developer等无用信息，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/7.png" alt=""></p><p>我将导出的<code>.csv</code>文件命名为 <code>1.csv</code>，导入命令为：</p><p><code>load data local infile &#39;/Users/Yang/Desktop/1.csv&#39; into table ios_game  fields terminated by &#39;,&#39;  optionally enclosed by &#39;&quot;&#39; escaped by &#39;&quot;&#39; lines terminated by &#39;\r\n&#39;;</code></p><p>其中两点需要修改，一是<strong><code>.csv</code>的路径</strong>，二是<strong>表的名称</strong>。</p><p><br><br></p><h4 id="7-检查"><a href="#7-检查" class="headerlink" title="7.检查"></a>7.检查</h4><p>导入之后，查询检查，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/8.png" alt=""><br><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/9.png" alt=""><br><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/10.png" alt=""></p><p>因为时间有限，仅仅选取了一些游戏而已。</p><p><br><br></p><h4 id="8-多表"><a href="#8-多表" class="headerlink" title="8.多表"></a>8.多表</h4><p>我玩过的游戏不只有iOS，还应该有Win或者Mac等等……</p><p>同理创建Win游戏表格，</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> win_game</span><br><span class="line">    (</span><br><span class="line">        game_id <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT, #主键<span class="keyword">ID</span>自动增加</span><br><span class="line">        <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>),                   #游戏名称</span><br><span class="line">        developer <span class="built_in">VARCHAR</span>(<span class="number">100</span>),              #开发商</span><br><span class="line">        <span class="keyword">type</span> <span class="built_in">VARCHAR</span>(<span class="number">50</span>),                    #游戏类型</span><br><span class="line">        ptime <span class="keyword">YEAR</span>,                          #我玩的日期</span><br><span class="line">        chinese <span class="built_in">CHAR</span>(<span class="number">1</span>),                     #是否支持中文</span><br><span class="line">        price <span class="built_in">INT</span>,                           #我买的时候的价格，App <span class="keyword">Store</span>有降价，我经常买<span class="number">1</span>元<span class="number">6</span>元的</span><br><span class="line">        In_App_Purchase <span class="built_in">CHAR</span>(<span class="number">1</span>),             #是否有内购</span><br><span class="line">        ad <span class="built_in">CHAR</span>(<span class="number">1</span>),                          #是否有广告</span><br><span class="line">        grade <span class="built_in">VARCHAR</span>(<span class="number">1</span>),                    #我对它的评分，<span class="number">5</span>分最高</span><br><span class="line">        note <span class="built_in">TEXT</span>,                           #备注</span><br><span class="line">        PRIMARY <span class="keyword">KEY</span> (game_id)                #设置主键</span><br><span class="line">    );</span><br></pre></td></tr></table></figure><p><br></p><p>插入游戏信息<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> win_game</span><br><span class="line">(<span class="keyword">name</span>,developer,<span class="keyword">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">'命令与征服：红色警戒3'</span>,<span class="string">'EA'</span>,<span class="string">'RTS'</span>,<span class="number">2012</span>,<span class="string">'Y'</span>,<span class="literal">NULL</span>,<span class="string">'N'</span>,<span class="string">'N'</span>,<span class="string">'5'</span>,<span class="string">'经典'</span>),</span><br><span class="line">(<span class="string">'LOL'</span>,<span class="string">'Riot Games'</span>,<span class="string">'MOBA'</span>,<span class="number">2015</span>,<span class="string">'Y'</span>,<span class="number">0</span>,<span class="string">'Y'</span>,<span class="string">'N'</span>,<span class="string">'4'</span>,<span class="string">'手残不适合，因为用Mac一年没玩了'</span>);</span><br></pre></td></tr></table></figure></p><p><br></p><p>最后查询，<code>SELECT * FROM win_game;</code></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/11.png" alt=""></p><p><br><br><br></p><h4 id="9-总结"><a href="#9-总结" class="headerlink" title="9.总结"></a>9.总结</h4><p>数据库应该是逐渐完善的，用<code>show tables;</code>显示数据库中的所有表格。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/12.png" alt=""></p><p>暂时就是这样，以后再逐渐完善，更加规范（起码满足<strong>3NF</strong>），希望今天创建的这个数据库可以完成它的使命————帮我记录我所玩过的所有游戏的基本信息 → _ →</p><p><br></p><hr><p><br></p><p>最后是数据库的一点实际用途，想要给别人推荐游戏，只需要查找出5分游戏即可，</p><p>仍然是<code>SELECT</code>语句，配合<code>WHERE</code>,</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> ios_game</span><br><span class="line"><span class="keyword">WHERE</span> grade &gt; <span class="string">'4'</span>;</span><br></pre></td></tr></table></figure><p><br></p><p><strong>游戏推荐</strong> (｡•ˇ‸ˇ•｡)</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/mysql/13.png" alt=""></p><p><br></p><p><strong>Enjoy it : )</strong></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近学的mysql的基础知识，想结合实际需求做点东西，练练手，这样才能学得扎实。&lt;/p&gt;
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Mac" scheme="http://blog.ykqmain.com/tags/Mac/"/>
    
      <category term="MySQL" scheme="http://blog.ykqmain.com/tags/MySQL/"/>
    
      <category term="数据库" scheme="http://blog.ykqmain.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>游戏王——吹过了我们的青春</title>
    <link href="http://blog.ykqmain.com/ygo/"/>
    <id>http://blog.ykqmain.com/ygo/</id>
    <published>2016-02-19T16:00:00.000Z</published>
    <updated>2017-11-07T11:44:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>这几天逛B站，看到了 <em>游戏王GX</em>，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/1.jpg!shuiyin" alt=""></p><p>无比的怀念，于是简单地重温了一下……</p><a id="more"></a><hr><p>看完之后，心中有很多想说的，有点心塞。毕竟游戏王是童年的一部分，但是很无奈不会写，作文太差 ＝ _ ＝</p><p>发了几条推特，感觉不足以纪念我的游戏王，自己又不会长篇大论，所以……</p><p>上网找了一些评论之类的，觉得这个讲的还不错，先复制粘贴，再写一些自己的想法。(￣▽￣)</p><blockquote><p>//原空间日志，<a href="http://user.qzone.qq.com/379091694/blog/1404832019" target="_blank" rel="noopener">游戏王GX：不完美的传承</a></p></blockquote><blockquote><p>//直接转载，<a href="http://tieba.baidu.com/p/3520410680" target="_blank" rel="noopener">游戏王ygocore吧</a></p></blockquote><p><strong><em>看完了这篇评论，还是无法平静自己的内心，不能入睡。下面是一些闲扯：</em></strong></p><p>想到当年，貌似是二年级就开始玩游戏王（当然都是盗版），直到六年级达到巅峰，几乎全班男生都在中午和课间来上几盘，周末更是带上自己心爱的卡组，去同学家里能玩一下午不腻。小伙伴比较多，我们甚至无视规则“发明”了多人决斗，欢乐无限。</p><p>那段时间，所有的零花钱都在买卡上了，虽然都是盗版（那时候根本不知道什么正版盗版），真的是很快乐（这也是十代最后找到的东西），特别是拆包的心情，我无法表达，估计大家也都有体验。邻家的小伙伴是个小土豪，按箱买，我们只能按包买 (｡- _ -｡)</p><p>谈到卡组，就不得不提自己的卡组。因为当时主流是 <em>游戏王GX</em>，所以 游城十代 不得不被我们提起，或者说借鉴。为啥那么叼？（后来我们才发现，<strong>神抽</strong>，<strong>印卡</strong>，<strong>口胡</strong>，<strong>主角光环</strong> 造就了游城十代想赢就输不了，输了是剧情需要的局面 ＝ _ ＝! ）当时我还一心想收齐 E－hero卡组，很快就发现，卧槽，<strong>融合</strong> 挂了（旋风，沙尘暴什么的太多），这场决斗基本就输了，哪怕后来的新空间，我也尝试过，再也不对主角的卡组抱有任何希望了。</p><p>因为年龄原因，大家都不太懂的规则，造就了，很多人的卡组不能称之为卡组，而是“卡堆”，一些无需配合的变态卡组成的，能破坏魔法陷阱的卡太多了，还不带重样的，而怪兽低级攻击力可怕，高级不但攻击力惊人还有变态效果，更重要的是，这些卡，都不需要连锁，是单独发挥作用的。这样一来，真的就很没有决斗的乐趣了，期间我也尝试过这样的卡组，的确，胜率感人，玩过的游戏王的都懂。但是，这样真的很无趣。动画里的人的卡组都是有连锁和主题的，这样的卡组真的很像一个伙伴，才会感到决斗的乐趣。我希望组一个真正的卡组来玩，而不是一堆卡的拼凑，我发现了 <strong>D-hero</strong>，初见这套卡组就喜欢上，效果都很不错。后来，我基本集齐了这套卡组，并伴随我走到了游戏王生活的尽头。到现在，我还好好地保存着这套卡组，以及剩下的一百来张卡。</p><p><em>游戏王DM</em> 是在黑白漫画书中度过的，我当时还用白纸画过黑魔导。GX才是真正伴随了我的一段童年，话说还真是我引起了我们小学的游戏王热。而游戏王的岁月最终也伴随了小学毕业而消失在我的生活中（初中已经没人陪我玩了，更重要的是，游戏王之后出了新的动画，没有时间，也没有渠道看，更没有精力再去买卡学新规则了）。所以我只看过两部游戏王，对其认知了永远停留在了GX。但也足够了。</p><p>童年家长管的是比较严的，不像现在有网络可以随便看，那时候只有电视，而且 <em>游戏王GX</em> 是没有在电视台上播放的，都是租的CD看，即使如此，每次看到GX还是会激动一小会。当然，在这种情况下， 是不可能把GX 180集看完的。</p><p>最近才补上了这GX的最后一场决斗：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/2.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/3.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/4.jpg!kuan" alt=""></p><p><strong>决斗在“奥特曼”冲向天空龙的时刻结束了……</strong></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/5.jpg!kuan" alt=""></p><p>…………</p><p>那之后，十代开始他的旅行，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/6.jpg!kuan" alt=""></p><p>到这里，GX的故事结束了。</p><hr><p><br></p><p>然而本篇博客不能结束。</p><p>以上是关于决斗本身的一点回忆，虽然游戏王被称为“游基王”，但我仍然觉得是有女主角的 (｡•ˇ‸ˇ•｡)</p><p>这就是另一点令我心塞的地方，那就是 <a href="http://baike.baidu.com/view/1098113.htm" target="_blank" rel="noopener"><strong>天上院明日香</strong></a>，她并没有跟十代在一起 T_T;</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/7.jpg!kuan" alt=""></p><p><br></p><p>算起来，明日香也算是我童年的女神之一。即使小时候的我不太懂这些，但我都看出来了明日香是喜欢十代的，我都看出来了啊！明日香放着我来 ..Ծ‸Ծ..</p><p>前面说过，童年是没有看完GX的，当然也不知道他们的结局是怎样的，当我最近补了一下，心里是崩溃的！心塞啊 T_T</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/8.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/9.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/10.jpg!kuan" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/11.jpg!kuan" alt=""></p><p><br></p><p>看到这里我的心是久久不能平静的，</p><p>在网上找到了GX的情感线介绍，来自  <em>天上院明日香吧</em> <a href="http://tieba.baidu.com/p/1378354017" target="_blank" rel="noopener">细节分析明日香感情发展</a> , 有兴趣的可以看看。</p><p>最后，是这张纸条安慰了一下我幼小的心灵：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/12.jpg!kuan" alt=""></p><blockquote><p>吹雪说：明日香就交给你了</p></blockquote><blockquote><p>明日香说：将来一定会见面的</p></blockquote><p>( 万丈目，翔，剑山，礼，校长，老师都很有爱啊  ^ _ ^ )</p><p>我相信，她们一定会再见面的，感谢作者给了我这最后一份希望。美好的东西总是令人向往的。</p><p>到这里，真的就要结束了，<strong>一篇博客不足以承载那份童年的美好时光，却也没有更好的方式来纪念。。。。。。</strong></p><p>想到老了以后，看着这篇博客，把珍藏的卡拿出来观赏，会是怎样的心情呢？</p><p>再见，希望能再见到你。<br><br></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/13.jpg!kuan" alt=""></p><hr><p><br><br><br></p><p>翻来覆去，即使是那张纸条，也感觉还是不够，我想只有这样才算完结 💗：</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/14.jpg!m" alt=""></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/15.jpg!m" alt=""></p><p><br></p><p><strong>The End</strong></p><p>//B站传送门：<a href="http://www.bilibili.com/video/av2103101/" target="_blank" rel="noopener">游戏王GX</a></p><p><br><br></p><p><strong>Update</strong> 又见女神，ARC-V 103</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/ygo/16.png!kuan" alt=""></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这几天逛B站，看到了 &lt;em&gt;游戏王GX&lt;/em&gt;，&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://blog-1253481725.picgz.myqcloud.com/ygo/1.jpg!shuiyin&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;无比的怀念，于是简单地重温了一下……&lt;/p&gt;
    
    </summary>
    
      <category term="动画" scheme="http://blog.ykqmain.com/categories/%E5%8A%A8%E7%94%BB/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="热血" scheme="http://blog.ykqmain.com/tags/%E7%83%AD%E8%A1%80/"/>
    
      <category term="日本" scheme="http://blog.ykqmain.com/tags/%E6%97%A5%E6%9C%AC/"/>
    
      <category term="童年" scheme="http://blog.ykqmain.com/tags/%E7%AB%A5%E5%B9%B4/"/>
    
      <category term="卡牌" scheme="http://blog.ykqmain.com/tags/%E5%8D%A1%E7%89%8C/"/>
    
  </entry>
  
  <entry>
    <title>RWBY</title>
    <link href="http://blog.ykqmain.com/rwby/"/>
    <id>http://blog.ykqmain.com/rwby/</id>
    <published>2016-01-08T16:00:00.000Z</published>
    <updated>2017-11-07T11:51:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>好久没有看动画, 昨天记起之前在B站加入收藏夹的 <em><strong>RWBY</strong></em>, 点开就停不下来了……<br><br><br><a id="more"></a></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/1.jpg!kuan" alt=""><br><br></p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=27969833&auto=0&height=66"></iframe><p><br></p><h3 id="RWBY-（美国原创网络动画）"><a href="#RWBY-（美国原创网络动画）" class="headerlink" title="RWBY （美国原创网络动画）"></a><em>RWBY</em> （美国原创网络动画）</h3><p><a href="http://roosterteeth.com/show/rwby" target="_blank" rel="noopener"><em><strong>RWBY</strong></em></a>（发音同Ruby），是一部由美国 <em>公鸡牙齿工作室</em>(<a href="https://twitter.com/RoosterTeeth" target="_blank" rel="noopener">Twitter</a>) 制作的网络动画，带有强烈的日式动画风格，创造出 <strong>流畅华丽的战斗</strong> 画面，亦是整部作品中的一大亮点。由动画家 Monty Oum 创作并导演。<br><br></p><h3 id="剧情简介"><a href="#剧情简介" class="headerlink" title="剧情简介"></a>剧情简介</h3><p>本作的背景设定在一个类现代但是充满着超自然力量的世界“树𣎴子”（Remnant）。主要角色为四个拥有各自的特殊能力（外像力）及武器的女孩：一个是少年英雄，一个是尊贵的女继承人，一个是迷惘的侠盗，一个是派对女孩。她们因各种原因聚在一起组成“RWBY”小队并接受训练，一心致力于对抗肆意横行的邪恶力量。在此之前，人类为了生存，发起了对戮兽（Grimm）的战争，直到他们发现“尘晶”（Dust）可以被用作魔力来源，这让人类得以对抗它们，并建立了文明世界。<br><br></p><h3 id="角色简介"><a href="#角色简介" class="headerlink" title="角色简介"></a>角色简介</h3><p>R、W、B、Y 分别是英语红(Ruby Rose), 白(Weiss Schnee), 黑(Blake Belladonna), 黄(Yang Xiao Long) 的首字母，代表的分别是四位女主角的主题色。<br><br><br></p><p>废话不多说, 十分推荐!<br>传送~ ヽ(・∀・)ノ</p><ul><li><a href="http://www.bilibili.com/bangumi/i/333/" target="_blank" rel="noopener">RWBY 第一季</a> (16集完)</li><li><a href="http://www.bilibili.com/bangumi/i/334/" target="_blank" rel="noopener">RWBY 第二季</a> (12集完)</li><li><a href="http://www.bilibili.com/bangumi/i/2894/" target="_blank" rel="noopener">RWBY 第三季</a> (更新中…)<br><br></li></ul><p>注:</p><ul><li>蒙特·乌姆（Monty Oum）, 2007年凭借3D网络动画《死亡幻想》（Dead fantasy）一举成名，2012年公开启了《RWBY》动画企划，担任制片人和导演。2015年2月2日因病逝世，享年33岁。(T_T)<br><br></li></ul><hr><p><strong>Update</strong> 2016.3.18</p><p>今天攒肥了 <em>RWBY</em> 第三季，一口看完了，没想到，被虐了……</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/2.jpg!kuan" alt=""></p><p>不太会写文章，但还是忍不住，记录点什么。</p><p><br></p><p>最想要说的，当然是 <a href="https://zh.moegirl.org/Pyrrha_Nikos" target="_blank" rel="noopener">Pyrrha</a>，我在 RWBY 中最爱的一个角色，也许我再也看不到她的身影了 (/ _ ; )</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/3.jpg!kuan" alt=""></p><p><br></p><p>其实从OP也因该看出来一点端倪，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/4.jpg!kuan" alt=""></p><p><br></p><p>只是没想到那么绝对，</p><p>如果 <a href="https://zh.moegirl.org/Yang_Xiao_Long" target="_blank" rel="noopener">Yang</a> 还能通过机械的手段恢复手臂，(毕竟根据这个世界设定来说是完全可以的)，而 Pyrrha 似乎没有任何可能了。 (/ _ ; )</p><blockquote><p>Do you believe in destiny?</p></blockquote><p><strong>No——</strong></p><p>But, (ノ_＜)</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/5.jpg!kuan" alt=""></p><p><br></p><p>看到这里，我沉默了好久，变故来得太快，以致于我还没有从他们的幸福中缓过来，</p><p>舞会上的场景历历在目，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/6.jpg!kuan" alt=""><br><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/7.jpg!kuan" alt=""></p><p><br></p><p>短暂的美好时光，</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/8.jpg!kuan" alt=""></p><p>看到上面的场景，我是很高兴的，他们本就应该在一起。然而……</p><p><br><br></p><hr><p>当初一次看完两季，现在第三季也是一次性看完，但是心情完全不同了，这是 <strong>复杂的</strong>，<strong>难以言表的</strong>。</p><p>我相信 <strong>她们</strong> 一定会再次相聚，并振作起来。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/9.jpg!kuan" alt=""></p><p><br></p><p>最后，我只能在我这小地方纪念一下我心中的女神 <strong>Pyrrha Nikos</strong> (/ _ ; )，</p><p>伴随着Pyrrha的角色歌 <a href="http://baike.baidu.com/item/Dream%20Come%20True" target="_blank" rel="noopener"><em>Dream Come True</em></a></p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=29777816&auto=0&height=66"></iframe><p><br></p><p>悼念Monty Oum和Pyrrha。</p><p><img src="http://blog-1253481725.picgz.myqcloud.com/rwby/10.jpg!kuan" alt=""></p><p><br></p><p>无法再看到Pyrrha的身影了，我只能回到过去寻找。</p><p>你的角色歌叫 <a href="http://baike.baidu.com/item/Dream%20Come%20True" target="_blank" rel="noopener">Dream Come True</a></p><p>你的梦想实现了，我的梦想再也没有可能。</p><p><br></p><p>The End</p><p>//参考:</p><ul><li><a href="https://zh.wikipedia.org/wiki/RWBY" target="_blank" rel="noopener">RWBY维基</a></li><li><a href="http://baike.baidu.com/subview/9625393/19036073.htm" target="_blank" rel="noopener">RWBY百度百科</a></li><li><a href="http://zh.moegirl.org/RWBY" target="_blank" rel="noopener">RWBY萌娘百科</a></li></ul><p><br><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;好久没有看动画, 昨天记起之前在B站加入收藏夹的 &lt;em&gt;&lt;strong&gt;RWBY&lt;/strong&gt;&lt;/em&gt;, 点开就停不下来了……&lt;br&gt;&lt;br&gt;&lt;br&gt;
    
    </summary>
    
      <category term="动画" scheme="http://blog.ykqmain.com/categories/%E5%8A%A8%E7%94%BB/"/>
    
    
      <category term="动画" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E7%94%BB/"/>
    
      <category term="美国" scheme="http://blog.ykqmain.com/tags/%E7%BE%8E%E5%9B%BD/"/>
    
      <category term="动作" scheme="http://blog.ykqmain.com/tags/%E5%8A%A8%E4%BD%9C/"/>
    
      <category term="冒险" scheme="http://blog.ykqmain.com/tags/%E5%86%92%E9%99%A9/"/>
    
      <category term="热血" scheme="http://blog.ykqmain.com/tags/%E7%83%AD%E8%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>利器</title>
    <link href="http://blog.ykqmain.com/liqi/"/>
    <id>http://blog.ykqmain.com/liqi/</id>
    <published>2016-01-03T16:00:00.000Z</published>
    <updated>2019-03-18T02:54:20.205Z</updated>
    
    <content type="html"><![CDATA[<p>今天看到一个有趣的项目 <a href="http://liqi.io/community/" target="_blank" rel="noopener">利器社群计划</a> ，借此机会，我也分享一下自己使用的一些小工具……</p><p><strong><em>Update: 2019-03</em></strong></p><p><br></p><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>昵称 <strong>秋风木叶</strong>，或 <em>Yang</em>。🤓</p><p><br></p><h2 id="你都在使用哪些硬件？"><a href="#你都在使用哪些硬件？" class="headerlink" title="你都在使用哪些硬件？"></a>你都在使用哪些硬件？</h2><ul><li>MacBook Pro 2015 (Anna)</li><li>iPhone 6s plus (Nana)</li></ul><p><br></p><h2 id="软件呢？"><a href="#软件呢？" class="headerlink" title="软件呢？"></a>软件呢？</h2><p><strong>我喜欢精简，系统自带的软件足够好则优先使用。</strong></p><p><strong><em>在满足自己所需要功能的前提下，将自己的互联网帐号降到最低，涉及到的平台和APP减到最少。</em></strong></p><p><strong>macOS Mojave 10.14 </strong><br><img src="http://blog-1253481725.picgz.myqcloud.com/Main/macOS10.14.png!shuiyin" alt=""></p><ol><li><p>神器: <strong>Terminal</strong> (macOS自带的终端)</p><ul><li><p>Xcode命令行工具 <code>xcode-select --install</code></p></li><li><p>其他</p><ul><li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">JDK</a></li><li><a href="https://support.apple.com/kb/DL1572" target="_blank" rel="noopener">jdk1.6</a></li><li><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">MySQL</a></li><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li><li><a href="http://tomcat.apache.org" target="_blank" rel="noopener">Tomcat</a></li></ul></li><li><p><a href="http://ohmyz.sh" target="_blank" rel="noopener"><strong>oh-my-zsh</strong></a></p><ul><li><a href="https://github.com/zsh-users/zsh-syntax-highlighting" target="_blank" rel="noopener">zsh-syntax-highlighting</a></li><li><a href="https://github.com/zsh-users/zsh-autosuggestions" target="_blank" rel="noopener">zsh-autosuggestions</a></li><li>终端代理<ul><li><code>export http_proxy=http://127.0.0.1:1087;export https_proxy=http://127.0.0.1:1087;</code></li><li><code>export ALL_PROXY=socks5://127.0.0.1:1086</code></li><li><code>unset ALL_PROXY</code></li></ul></li></ul></li><li><p><a href="https://brew.sh" target="_blank" rel="noopener"><strong>Homebrew</strong></a> (<code>/usr/local/Cellar/</code>)</p><ul><li><a href="https://www.python.org" target="_blank" rel="noopener"><strong>Python3</strong></a><ul><li><strong>pip3 install X</strong><ul><li>flake8</li><li>requests</li><li>BeautifulSoup4</li><li>lxml</li></ul></li></ul></li><li>ffmpeg<ul><li>简单剪切: ffmpeg -ss 0:0:0(起点时间) -t 00:10:00(持续时间) -i in.mp4 -c copy /Users/yang/Desktop/out.mp4</li></ul></li><li>tree</li><li><a href="https://redis.io" target="_blank" rel="noopener">Redis</a></li><li><a href="https://discussions.apple.com/thread/8088270" target="_blank" rel="noopener">找回macOS10.13的FTP</a> （也可以从High Sierra之前的Mac把ftp和telnet拷到你电脑里，<code>/usr/local/bin</code>）<ul><li><code>brew install telnet</code></li><li><code>brew install inetutils</code></li><li><code>brew link --overwrite inetutils</code><br><br></li></ul></li></ul></li></ul></li><li><p>浏览器</p><ul><li><p>主要 <strong>Safari</strong> (<a href="https://safari-extensions.apple.com" target="_blank" rel="noopener">Safari Extensions</a>)</p><ul><li><a href="https://github.com/el1t/uBlock-Safari" target="_blank" rel="noopener">uBlock-Safari</a></li><li>Evernote Web Clipper</li><li><a href="https://tampermonkey.net" target="_blank" rel="noopener">Tampermonkey</a></li></ul></li><li><p>备用 <a href="https://www.google.com/chrome/" target="_blank" rel="noopener">Chrome</a></p><ul><li><a href="https://github.com/gorhill/uBlock" target="_blank" rel="noopener">uBlock Origin</a></li><li>FDM</li></ul></li></ul></li></ol><p><br></p><ol start="3"><li><p>编辑器:</p><ul><li><p><a href="https://atom.io" target="_blank" rel="noopener"><strong>Atom</strong></a></p><ul><li><p><em>Plugin</em> (~/.atom/packages)</p><ul><li>sync-settings</li><li>file-icons</li><li>highlight-line</li><li>highlight-selected</li><li><a href="https://atom.io/users/atom-minimap/packages" target="_blank" rel="noopener">minimap</a> (共7个)</li><li>autocomplete-paths</li><li>autocomplete-python</li><li>autocomplete-clang</li><li>python-tools</li><li>script</li><li>platformio-ide-terminal</li><li>hyperclick</li><li>docblockr</li><li>emmet</li><li>linter<ul><li>minimap-linter</li><li>linter-flake8</li><li>linter-clang</li></ul></li></ul></li><li><p><em>Disable</em></p><ul><li>spell-check</li><li>whitespace</li></ul></li><li><p><em>Ignored Names</em> (Packages/Tree-View)<br><code>.git, .hg, .svn, .DS_Store, ._*, Thumbs.db, desktop.ini, .localized</code></p><p>(<em>大多数情况下，利用Mac的分屏功能，将终端放在左边，编辑器放在右边，可以完成大多数写代码的需求</em>)</p><p>主题 <strong>One Dark</strong><br>字体 <a href="https://github.com/adobe-fonts/source-code-pro" target="_blank" rel="noopener">SourceCodePro-Regular 13</a><br><img src="http://blog-1253481725.picgz.myqcloud.com/Main/c.png!shuiyin" alt=""><br><br></p></li></ul></li></ul></li><li><p>IDE:</p><ul><li><strong>Xcode</strong></li><li><a href="https://www.eclipse.org/downloads/packages/" target="_blank" rel="noopener">Eclipse</a></li><li><a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener">PyCharm</a> (Community)<br><br></li></ul></li><li><p>Developer Tools:</p><ul><li><a href="https://kapeli.com/dash" target="_blank" rel="noopener">Dash</a></li><li><a href="https://git-fork.com" target="_blank" rel="noopener">Fork</a></li><li><a href="http://dev.mysql.com/downloads/workbench/" target="_blank" rel="noopener">MySQL Workbench</a></li><li><a href="https://www.getpostman.com" target="_blank" rel="noopener">Postman</a></li><li><a href="https://www.wireshark.org/" target="_blank" rel="noopener">Wireshark</a></li><li><a href="https://cyberduck.io" target="_blank" rel="noopener">Cyberduck</a></li></ul></li></ol><p><br></p><ol start="6"><li><p>笔记:</p><ul><li><strong>备忘录</strong></li><li><a href="https://www.yinxiang.com" target="_blank" rel="noopener"><strong>印象笔记</strong></a></li><li>Atom (.md)</li><li>文本编辑 (.txt)<br><br></li></ul></li><li><p>文档</p><ul><li><strong>预览</strong></li><li>iWork [App Store]</li><li>Office</li><li><a href="https://pdfexpert.com" target="_blank" rel="noopener">PDF Expert</a></li><li><a href="https://www.toketaware.com" target="_blank" rel="noopener">iThoughtsX</a></li><li><a href="https://www.omnigroup.com/omnigraffle" target="_blank" rel="noopener">OmniGraffle</a></li><li>Photoshop<br><br></li></ul></li><li><p>图像影音</p><ul><li>照片</li><li>GarageBand [App Store]</li><li>iMovie [App Store]<br><br></li><li><a href="https://y.qq.com/download/mac.html" target="_blank" rel="noopener"><strong>QQ音乐</strong></a></li><li>腾讯视频 [App Store]</li><li>爱奇艺 [App Store]</li><li>优酷 [App Store]<br><br></li><li><a href="https://github.com/lhc70000/iina" target="_blank" rel="noopener"><strong>IINA</strong></a> (视频播放器)</li><li><a href="http://www.videolan.org" target="_blank" rel="noopener">VLC</a>  (视频播放器)</li><li>QuickTime (<del>音乐播放，录音，录屏</del>)</li><li>iTunes<br><br></li></ul></li><li><p>工具</p><ul><li><a href="https://weixin.qq.com" target="_blank" rel="noopener">微信</a> [App Store]</li><li><a href="https://im.qq.com" target="_blank" rel="noopener">QQ</a> [App Store]</li><li>Amphetamine (Keeping your Mac awake) [App Store]</li><li><a href="https://theunarchiver.com" target="_blank" rel="noopener">The Unarchiver</a> (解压软件) [App Store]</li><li><a href="http://www.kekaosx.com/zh-cn/" target="_blank" rel="noopener">Keka</a> (压缩软件)</li><li><a href="https://freemacsoft.net/appcleaner/" target="_blank" rel="noopener">AppCleaner</a> (卸载工具)</li><li><a href="http://mac.xunlei.com" target="_blank" rel="noopener">迅雷</a></li><li><a href="https://www.freedownloadmanager.org" target="_blank" rel="noopener">Free Download Manager</a></li><li><a href="https://github.com/ykqmain?tab=stars" target="_blank" rel="noopener"><em>其他软件</em></a><br><br><br><br></li></ul></li></ol><h2 id="你平时访问的网站和使用的APP有哪些？"><a href="#你平时访问的网站和使用的APP有哪些？" class="headerlink" title="你平时访问的网站和使用的APP有哪些？"></a>你平时访问的网站和使用的APP有哪些？</h2><ul><li><a href="https://twitter.com" target="_blank" rel="noopener">Twitter</a></li><li><a href="https://www.bilibili.com" target="_blank" rel="noopener">B站</a></li><li><a href="https://www.douyin.com/" target="_blank" rel="noopener">抖音</a></li><li><strong>公众号</strong></li></ul><p><br></p><h2 id="推荐一件生活中的利器给大家"><a href="#推荐一件生活中的利器给大家" class="headerlink" title="推荐一件生活中的利器给大家"></a>推荐一件生活中的利器给大家</h2><p>关于<strong>中性笔</strong>，一直在寻找一款合适的，</p><p>体验了网上推荐的<code>百乐 p500，G1，hi-tec</code>，<code>三菱 151</code>以后，</p><p>还是觉得以前用过的<code>晨光 金钻007</code>比较好。</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;今天看到一个有趣的项目 &lt;a href=&quot;http://liqi.io/community/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;利器社群计划&lt;/a&gt; ，借此机会，我也分享一下自己使用的一些小工具……&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Upd
      
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Apple" scheme="http://blog.ykqmain.com/tags/Apple/"/>
    
      <category term="Mac" scheme="http://blog.ykqmain.com/tags/Mac/"/>
    
      <category term="macOS" scheme="http://blog.ykqmain.com/tags/macOS/"/>
    
      <category term="工具" scheme="http://blog.ykqmain.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Software" scheme="http://blog.ykqmain.com/tags/Software/"/>
    
      <category term="App" scheme="http://blog.ykqmain.com/tags/App/"/>
    
  </entry>
  
  <entry>
    <title>hexo搭建博客</title>
    <link href="http://blog.ykqmain.com/hexo/"/>
    <id>http://blog.ykqmain.com/hexo/</id>
    <published>2015-12-09T16:00:00.000Z</published>
    <updated>2019-01-27T12:39:46.158Z</updated>
    
    <content type="html"><![CDATA[<p>用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。</p><p><br></p><h3 id="hexo环境搭建"><a href="#hexo环境搭建" class="headerlink" title="hexo环境搭建"></a>hexo环境搭建</h3><ol><li><p>安装Git</p></li><li><p>安装Node.Js</p><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.Js官网</a></p></li><li><p>安装Hexo</p><a id="more"></a><p><a href="https://hexo.io" target="_blank" rel="noopener">Hexo官网</a></p><ol><li><p>打开终端，输入<code>npm install hexo-cli -g</code>，静静等待安装完毕。（失败在命令前加<code>sudo</code> 或<code>以管理员身份运行cmd</code> ）</p></li><li><p>创建Hexo目录</p><p>找一个方便的地方创建一个文件夹，假设命名为<code>Blog</code></p><p> (<em>注:你以后的博客操作都在这个文件夹内，尽量全英文路径，避免不必要的问题，建议你创建这个文件夹的快捷方式到桌面，方便操作</em>)</p></li><li><p>用<code>cd</code> 命令进入 刚刚创建的<code>Blog</code> 目录，输入 <code>hexo init</code></p></li><li><p>等待完成后输入 <code>npm install</code></p></li><li><p>等待完成后输入 <code>npm install hexo-server</code></p></li><li><p>等待完成后输入 <code>npm install hexo-deployer-git --save</code></p><p>RSS订阅：</p><p><code>npm install hexo-generator-feed --save</code></p><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  <span class="keyword">type</span>: atom</span><br><span class="line">  path: atom.<span class="built_in">xml</span></span><br><span class="line">  limit: <span class="literal">false</span> #Maximum number of posts <span class="keyword">in</span> the feed (Use <span class="number">0</span> <span class="literal">or</span> <span class="literal">false</span> <span class="keyword">to</span> show <span class="literal">all</span> posts)</span><br><span class="line">  hub:</span><br></pre></td></tr></table></figure><p><br></p><p>站点地图插件：</p><p><code>npm install hexo-generator-sitemap --save</code></p><p><code>npm install hexo-generator-baidu-sitemap --save</code></p><p>搜索：</p><p><code>npm install hexo-search --save</code></p></li><li><p>至此，hexo环境就已经搭建好了</p></li></ol></li></ol><p><br></p><h3 id="创建Github仓库"><a href="#创建Github仓库" class="headerlink" title="创建Github仓库"></a>创建Github仓库</h3><p>hexo建博客，不一定要Github，但是一般部署在Github上，这里就以Github为例。</p><ol><li><p>生成<code>ssh keys</code>，请参考<a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/" target="_blank" rel="noopener">Generating a new SSH key</a> 或者 <a href="http://git-scm.com/book/zh/v2/服务器上的-Git-生成-SSH-公钥" target="_blank" rel="noopener">Git-生成-SSH-公钥</a> （这个很重要）</p></li><li><p>Mac生成的<code>ssh key</code> 在 <code>~/.ssh/</code>下，复制<code>id_rsa.pub</code>内容，粘贴到GitHub的网站的<code>Settings - SSH and GPG keys</code>中</p></li><li><p>测试ssh，<code>ssh -T git@github.com</code></p></li><li><p>查看用户信息</p><p><code>git config --list</code></p></li><li><p>回到Github首页，点击”New repository”，新建一个库。</p></li><li><p>输入Repository name: <code>yourname.github.io</code> (yourname与你的注册用户名一致,这个就是你博客的域名了，一定要连后面github.io输入完整) ，其它设置默认，创建。</p></li><li><p>点击刚刚的库，找到<code>Setting</code> ，进入设置，点击<code>Launch automatic page generator</code> ，点击底部的<code>Continue to layouts</code></p></li><li><p>随意选择一个主题，最后点击<code>Publish page</code> ，发布github默认生成的一个静态站点 。</p></li><li><p>至此，Github上的操作就完成了。</p></li></ol><p><br></p><h3 id="博客配置"><a href="#博客配置" class="headerlink" title="博客配置"></a>博客配置</h3><p>进入本地的<code>blog</code> 文件夹，这里简述重要文件(夹)的作用。</p><table><thead><tr><th>文件名</th><th style="text-align:center"></th><th>作用</th></tr></thead><tbody><tr><td>_config.yml</td><td style="text-align:center">———</td><td>配置文件</td></tr><tr><td>source</td><td style="text-align:center">———</td><td>博客的文章</td></tr><tr><td>themes</td><td style="text-align:center">———</td><td>主题</td></tr></tbody></table><p><br></p><p>博客的配置，就是配置<code>_config.yml</code> 文件，用编辑器打开。</p><p>（注意：本文件的配置，冒号后面的空格不可删除，比如<code>title: 博客名字</code>，这里冒号后面有一个空格，如果没有空格会报错）</p><p>以下是需要配置的，其余默认即可。</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">title</span>: 博客名字</span><br><span class="line"><span class="attribute">subtitle</span>: 副标题</span><br><span class="line"><span class="attribute">description</span>: 博客描述</span><br><span class="line"><span class="attribute">author</span>: 作者</span><br><span class="line"><span class="attribute">language</span>: 语言(中文就填 zh-CN)</span><br><span class="line"><span class="attribute">timezone</span>: 时区(不填写，则会根据你的系统时间确定)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">url</span>: 博客网址(http://XXXXXX)</span><br><span class="line"><span class="attribute">permalink</span>: 永久链接格式(参考https://hexo.io/zh-cn/docs/permalinks.html)</span><br><span class="line"></span><br><span class="line"><span class="attribute">per_page</span>: 10 //每页的文章数</span><br><span class="line"></span><br><span class="line">#站点地图</span><br><span class="line"><span class="attribute">sitemap:</span></span><br><span class="line">  path: sitemap.xml</span><br><span class="line"></span><br><span class="line"><span class="attribute">baidusitemap:</span></span><br><span class="line">  path: baidusitemap.xml</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">theme</span>: 主题名字(在themes文件夹下面的文件夹名)</span><br><span class="line"></span><br><span class="line">（下面的2个yourname换成你的Github用户名，其余不变）</span><br><span class="line"><span class="attribute">deploy:</span></span><br><span class="line">  type: git</span><br><span class="line">  <span class="attribute">repository</span>: https://github.com/yourname/yourname.github.io</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure><p><br></p><h3 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h3><ol><li>自己写主题或者下载主题到 <code>blog</code> &gt; <code>themes</code> 文件夹下，主题是一个文件夹，假设名字为 <code>name</code> , 将 <code>blog</code> 下面的 <code>_config.yml</code> 文件里面的<code>theme:</code> 后面写<code>name</code> 即可应用主题。</li><li>一般主题文件夹里面还会有一个<code>_config.yml</code> 文件，这是主题的配置，如何配置请阅读各主题的 <code>README.md</code> 。</li></ol><p><br></p><h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><ol><li>假设你的域名为 <code>blog.abc.com</code> ,新建一个名为 <code>CNAME</code> 的文件，内容为 <code>blog.abc.com</code> ，<strong>不要有任何文件后缀</strong> 。放到 <code>blog</code> &gt; <code>source</code> 下面，以后不要删除。</li><li>然后到你的DNS解析处，新建 <code>CNAME</code> 解析，主机记录为<code>blog</code> ,记录值为 <code>yourname.github.io</code>  。解析生效后可以通过 <code>blog.abc.com</code> 访问你的博客了。</li></ol><p><br></p><h3 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h3><p>进入，<code>blog</code> &gt; <code>source</code> &gt; <code>_posts</code> ，创建 <code>.md</code> 的文件，你的所有文章都将放在这个文件夹下，并且都为.md （或者 .html） 文件。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">id</span>: 文章ID (可选)</span><br><span class="line"></span><br><span class="line"><span class="attribute">title</span>: 博客标题</span><br><span class="line"></span><br><span class="line"><span class="attribute">date</span>: 2016-00-00 (时间的格式，中间是短横线)</span><br><span class="line"></span><br><span class="line"><span class="attribute">categories</span>: 分类</span><br><span class="line"></span><br><span class="line"><span class="attribute">tags</span>: 标签(多标签)</span><br><span class="line">- 1</span><br><span class="line">- 2</span><br><span class="line"></span><br><span class="line">--- (分割线必不可少)</span><br><span class="line"></span><br><span class="line">博客正文</span><br></pre></td></tr></table></figure><p><br></p><p><em>更多：</em></p><ul><li>写博客需要遵循<code>Markdown语法</code>，Markdown兼容部分html语法。Markdown语法有不同的标准，常用的是GitHub标准(GitHub Flavored Markdown)，简称 <a href="https://help.github.com/categories/writing-on-github/" target="_blank" rel="noopener">GFM</a></li><li>用<code>&lt;!--more--&gt;</code> 表示截断，前面的内容会变成预览</li><li>用<code>&lt;br&gt;</code> 增加换行</li></ul><p><br></p><h3 id="部署博客"><a href="#部署博客" class="headerlink" title="部署博客"></a>部署博客</h3><p>每次写完博客把文件扔到<code>_posts</code>文件夹里面，就该部署了，很容易的四条命令。</p><p>首先打开终端（cmd），cd到<code>blog</code> 文件夹（<em>注意：cd到 <code>blog</code> 即可</em>）</p><ul><li><code>hexo g</code>  在本地生成静态页面</li><li><code>hexo s</code> 本地预览（默认端口4000，复制 <code>http://0.0.0.0:4000</code> （或<code>http://localhost:4000</code>）到浏览器可以预览效果， <code>Ctrl + c</code> 关闭server）</li><li><code>hexo clean</code>  清理缓存</li></ul><p>到这里你还可以修改，最后一步</p><ul><li><code>hexo d</code>  部署，完成</li></ul><p><strong>注意：</strong></p><ul><li>每次<code>hexo d</code> 之前，必须 <code>hexo g</code> 。这两个是写完博客之后必须用的命令。</li><li>每次 <code>hexo s</code> 之前，也必须  <code>hexo g</code> 。这两个命令可以合并为<code>hexo d -g</code>。</li><li><code>hexo clean</code> 和 <code>hexo s</code> 是可选命令。</li></ul><p><br></p><h3 id="更新博客"><a href="#更新博客" class="headerlink" title="更新博客"></a>更新博客</h3><p>写完Markdown，扔<code>_posts</code> 里面，打开终端，cd到<code>blog</code> ， <code>hexo d -g</code>。</p><p><br></p><h3 id="重装／切换-系统"><a href="#重装／切换-系统" class="headerlink" title="重装／切换 系统"></a>重装／切换 系统</h3><ol><li><p>备份 <code>~/.ssh</code> 里面的文件，备份 <code>blog</code> 文件夹。(没有备份则需要重新生成)</p></li><li><p>在 新系统 中安装 Node.Js，<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.Js官网</a></p></li><li><p>打开终端，输入<code>sudo npm install hexo-cli -g</code></p></li><li><p>仓库的<code>Branch protection for master</code>问题</p></li></ol><p><br></p><hr><p><br></p><p>Hexo报错，<code>(node:2416) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</code></p><p>因为node.js从8.0开始就已经弃用了前面提到的fs.SyncWriteStream方法，</p><p>在Hexo博客目录下，输入：<code>npm install hexo-fs --save</code></p><p><br></p><p><strong>【注】</strong> 如果GitHub开启了两步验证，则需要生成一个<code>personal access token</code>来代替密码，具体参考 <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/" target="_blank" rel="noopener">Creating a personal access token for the command line</a></p><p><strong>Enjoy it~</strong></p><p>≖‿≖✧</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3 id=&quot;hexo环境搭建&quot;&gt;&lt;a href=&quot;#hexo环境搭建&quot; class=&quot;headerlink&quot; title=&quot;hexo环境搭建&quot;&gt;&lt;/a&gt;hexo环境搭建&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装Git&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;安装Node.Js&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://nodejs.org/en/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Node.Js官网&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;安装Hexo&lt;/p&gt;
    
    </summary>
    
      <category term="计算机" scheme="http://blog.ykqmain.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="blog" scheme="http://blog.ykqmain.com/tags/blog/"/>
    
      <category term="hexo" scheme="http://blog.ykqmain.com/tags/hexo/"/>
    
      <category term="GitHub" scheme="http://blog.ykqmain.com/tags/GitHub/"/>
    
      <category term="Markdown" scheme="http://blog.ykqmain.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>The First Web Page</title>
    <link href="http://blog.ykqmain.com/first/"/>
    <id>http://blog.ykqmain.com/first/</id>
    <published>2015-11-20T16:00:00.000Z</published>
    <updated>2017-11-07T11:51:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>假设已经拥有了一台服务器(<strong>系统为centOS 6</strong>)，需要知道你的 IP、端口（SSH Port）、密码。</p><ul><li>打开<code>终端</code>，登录的你的服务器：<code>ssh -p 端口 root@IP</code></li></ul><ul><li>输入密码</li></ul><a id="more"></a><p><br></p><h2 id="安装Apache"><a href="#安装Apache" class="headerlink" title="安装Apache"></a>安装Apache</h2><ol><li><p>安装方式</p><p>CentOS安装Apache服务可以有两种方式，一种是用yum安装，一种是从官网下载源代码进行安装。这里使用yum安装。</p></li><li><p>输入<code>sudo yum install httpd -y</code></p><p>（采用该方式进行安装配置文件的默认路径为：<code>/etc/httpd/conf/httpd.conf</code>）</p></li><li><p>编辑配置文件，输入<code>vi /etc/httpd/conf/httpd.conf</code></p></li><li><p>找到如下内容<code>#ServerName www.example.com:80</code>，改为<code>ServerName localhost:80</code></p></li><li><p>重启一下Apache，<code>service httpd restart</code>即可。</p><p>常见Apache操作：</p><ul><li><code>service httpd start</code> 启动</li><li><code>service httpd stop</code> 停止</li><li><code>service httpd restart</code> 重启</li><li><code>service httpd status</code>  状态</li></ul></li><li><p>测试是否安装成功，在本地的浏览器中输入<code>http://IP</code> ，如果出现 <code>Apache 2 Test Page powered by CentOS</code>，说明成功。</p><p>如果出现错误，那就可能是iptables的问题：</p><p>编辑 iptables配置，<code>vi /etc/sysconfig/iptables</code> ，</p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m <span class="keyword">state</span> --state NEW -m tcp -p tcp --dport <span class="number">80</span> -j ACCEPT</span><br><span class="line">-A INPUT -m <span class="keyword">state</span> --state NEW -m tcp -p tcp --dport <span class="number">443</span> -j ACCEPT</span><br></pre></td></tr></table></figure><p>然后重启iptables、Apache。</p><p>常见iptables操作：</p><ul><li><code>service iptables status</code> 查看当前规则</li><li><code>service iptables restart</code> 重启</li><li><code>service iptables stop</code> 禁用</li></ul><p>​</p></li></ol><p><strong>最后设置Apache开机自启 <code>chkconfig iptables on</code></strong></p><p><br></p><p>//参考：<a href="http://www.linuxidc.com/Linux/2014-01/95256.htm" target="_blank" rel="noopener">CentOS Apache服务器安装与配置</a></p><p><br></p><h2 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h2><ol><li><p>安装方式</p><p>仍然是通过yum安装，查看版本信息<code>yum list | grep mysql</code> ，安装<code>yum install -y mysql-server mysql mysql-deve</code> ，查看安装好的版本<code>rpm -qi mysql-server</code> 。</p></li><li><p>通过<code>service mysqld start</code> 命令启动mysql服务。</p></li><li><p>第一次会提示很多信息，重启mysql <code>service mysqld restart</code></p></li><li><p><strong>最后设置MySQL开机自启 <code>chkconfig mysqld on</code></strong></p><p>（配置文件在 <code>/etc/my.cnf</code>）</p><p>常见操作：</p><p><strong>首先需要输入<code>mysql</code></strong></p><ul><li><code>select now();</code> 查时间</li><li><code>select user();</code> 查当前用户</li><li><code>select database();</code> 查当前使用的数据库</li><li><code>show databases;</code> 查所有数据库名</li><li><code>create database NAME;</code> 创建一个名为NAME的数据库</li><li><code>drop database NAME;</code> 删除一个名为NAME的数据库</li></ul><p><strong>退出mysql需要用<code>quit;</code>命令</strong></p></li></ol><p><br></p><h2 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h2><ol><li><p>安装方式</p><p><code>yum install php php-devel</code></p></li><li><p>重启Apache，<code>service httpd restart</code></p></li><li><p>此时，这个目录<code>/var/www/html</code>就成了网站根目录</p></li></ol><p><br></p><p><br></p><p><em>至此，LAMP环境(Linux+Apache+Mysql/MariaDB+Perl/PHP/Python)就<u>基本</u>安装完成了</em></p><hr><p>​回到本地，编辑（或创建）一个名为 <code>index.html</code> 的文件（貌似 <code>index.php</code>也是可以的），这个HTML文件就是你的首页。html中的多媒体的路径要用<strong>服务器上的相对路径</strong>或者<strong>外链</strong>。</p><p>将这个<code>index.html</code>送到服务器上的<code>/var/www/html</code>目录下即可，在本地和服务器传文件有无数种方法，比如：scp、ftp、sftp…</p><p><br></p><h2 id="这里说明scp的方法："><a href="#这里说明scp的方法：" class="headerlink" title="这里说明scp的方法："></a>这里说明scp的方法：</h2><ol><li><p>打开<code>终端</code></p></li><li><p>用scp命令传送文件（此时是不需要登录服务器的），<code>scp -P 端口 本地文件路径 root@IP:服务器路径</code></p><p>比如，我的 index.html文件在桌面，那么就是<code>scp -P 端口 /Users/Yang/Desktop/index.html root@IP:/var/www/html</code></p></li><li><p>输入服务器密码</p></li><li><p>在浏览器输入你的服务器IP就可以看到最新成果！！！</p><p>（如果有域名且进行了DNS解析，可以输入域名）</p></li></ol><p><strong>注：</strong></p><ol><li><p>scp命令可以反过来用（两个路径的位置对调），即从服务器传文件到本地</p></li><li><ul><li><p>你可以将<code>root@IP:服务器路径</code> 这里的路径改为服务器的根目录，然后通过</p><p><code>cd（进入某文件夹），mv（移动），cp（复制），rm（删除），ls（显示当前目录下的文件)，pwd（显示当前目录的路径），mkdir（创建文件夹）</code>等linux命令，移动你上传的文件。</p></li><li><p>如果你将一个html文件移动到<code>/var/www/html</code>下面，它将成为你网站的首页。</p></li></ul><p>​</p></li><li><ul><li>假设你的域名 “abc.com” 已经解析，那么 浏览器上的 ”abc.com” 即是 服务器上 <code>/var/www/html</code> 下html的内容。</li><li>如果你在  <code>/var/www/html</code> 里创建一个名为 “web”的文件夹，并且在里面存有一个名为 “1.jpg”的文件，那么在浏览器中将可以通过 “abc.com/web/1.jpg” 来访问你的那张图片。</li></ul></li><li><p>如果你需要修改网页的内容，只需要修改对应目录下的对应文件的内容</p><ul><li>你可以直接在服务器上，用Vim修改文件</li><li>你可以用ssh登录服务器，在本地编辑好文件（毕竟本地的编辑器好用），全选，复制，用Vim打开对应文件，清空，粘贴，保存退出。</li><li>你可以在本地编辑好文件，直接上传文件到对应目录直接覆盖原文件。</li></ul></li></ol><p><br></p><p><strong>Enjoy it!</strong></p><p>＼（＞０＜）／</p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;假设已经拥有了一台服务器(&lt;strong&gt;系统为centOS 6&lt;/strong&gt;)，需要知道你的 IP、端口（SSH Port）、密码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;打开&lt;code&gt;终端&lt;/code&gt;，登录的你的服务器：&lt;code&gt;ssh -p 端口 root@IP&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;输入密码&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="网络" scheme="http://blog.ykqmain.com/categories/%E7%BD%91%E7%BB%9C/"/>
    
    
      <category term="Apache" scheme="http://blog.ykqmain.com/tags/Apache/"/>
    
      <category term="服务器" scheme="http://blog.ykqmain.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="Web" scheme="http://blog.ykqmain.com/tags/Web/"/>
    
      <category term="Linux" scheme="http://blog.ykqmain.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Timeline</title>
    <link href="http://blog.ykqmain.com/hello/"/>
    <id>http://blog.ykqmain.com/hello/</id>
    <published>2015-11-19T16:00:00.000Z</published>
    <updated>2019-01-10T13:55:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong># about 2004</strong></p><p><em>《红色警戒2》</em> 打开了我计算机的大门。</p><p><br></p><p><strong># about 2006</strong></p><p>I had my first QQ number, and I met my first net friend from Hunan,<br>but the most impressive netizen is a girl named “HeHe” from Fujian.</p><p><br></p><p><strong># 2006 ~ 2008</strong></p><p>折腾QQ空间，</p><p>网游。</p><p><br></p><p><strong># 2008 ~ 2011</strong></p><p>折腾百度空间，百度HI。</p><p>使用 Google搜索、Yahoo邮箱、Sina邮箱。</p><p>第一次接触C语言，</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello, C... (｡•ˇ‸ˇ•｡) \n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br></p><p><strong># 2011 ~ 2014</strong></p><p>混迹于百度贴吧。</p><p><br></p><p><strong># 2014</strong></p><p>离开贴吧，尝试新浪微博，半年后弃用，关闭QQ空间。</p><p>启用微信，混迹于Bilibili。</p><p><br></p><p><strong># 2015</strong></p><p>第一部iPhone，Nana。</p><p>第一台MacBook Pro 2015，Anna。</p><p>启用GitHub，</p><p>为了用户名，启用了第二个微信，沿用至今。</p><p>完全清理QQ，全面迁移到微信。</p><p><br></p><p><strong># 2015.11.20</strong></p><p>第一台VPS，</p><p>重访Google，</p><p>开启了Twitter之旅。</p><p><br></p><p><strong># 2015.11.21</strong></p><p>The first web page  <code>ianna.xyz</code></p><p><br></p><p><strong># 2015.11.25</strong></p><p>The first blog by <a href="https://wordpress.org" target="_blank" rel="noopener">WordPress</a>  <del><code>blog.ianna.xyz</code></del></p><p><br></p><p><strong># 2015.11.29</strong></p><p>把Blog迁移到<a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a></p><p><br></p><p><strong># 2015.12.20</strong></p><p>启用新域名<a href="http://ykqmain.com" target="_blank" rel="noopener">ykqmain.com</a></p><p>新博客地址，<a href="http://blog.ykqmain.com">http://blog.ykqmain.com</a></p><p>启用域名邮箱，<a href="mailto:i@ykqmain.com" target="_blank" rel="noopener">i@ykqmain.com</a></p><p><br></p><p><strong># 2016</strong></p><p>申请新QQ，</p><p>first WeChat Moments</p><p><br></p><p><strong># 2016</strong></p><p>启用豆瓣和Instagram</p><p><br></p><p><strong># Now</strong></p><p><em>To be continued…</em></p><p><br><br></p><p><img src="http://blog-1253481725.picgz.myqcloud.com/Main/qingyuan.jpg!shuiyin" alt=""></p><p><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;# about 2004&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;《红色警戒2》&lt;/em&gt; 打开了我计算机的大门。&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;# about 2006&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I had my first 
      
    
    </summary>
    
      <category term="其他" scheme="http://blog.ykqmain.com/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="Timeline" scheme="http://blog.ykqmain.com/tags/Timeline/"/>
    
      <category term="blog" scheme="http://blog.ykqmain.com/tags/blog/"/>
    
      <category term="回忆" scheme="http://blog.ykqmain.com/tags/%E5%9B%9E%E5%BF%86/"/>
    
  </entry>
  
</feed>
