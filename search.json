[{"title":"星游记","url":"https://blog.ykqmain.com/rainbowSea/","content":"<p>很久没有聊动画了，但动画仍然是我生活的一部分。</p>\n<p>最近《星游记之风暴法米拉2》网络电影上映，借此小热度重温了《星游记》第一季。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/1.png\" alt=\"\"></p>\n<p>🎵 再飞行 - 逃跑计划</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/zaifeixing.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>这是一部2011年的作品，时至今日回过头再去重温，真是感慨良多。</p>\n<p>其实星游记第一季的故事还算简单，篇幅不长，我把它分为三部分。<br><br></p>\n<p><strong>第一部分，我可以概括为认识咕咚和冲出地球。</strong></p>\n<p>在地球上的少年，准备利用「风筝」，飞向天空。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/2.png\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/3.png\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/4.png\" alt=\"\"></p>\n<p>这个少年叫做「麦当」。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/5.png\" alt=\"\"></p>\n<p>误打误撞，引出第二个主角，「咕咚 萌西」。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/6.png\" alt=\"\"></p>\n<p>在第一部分，简单的展示了那个世界的设定，麦当的身世、地球的现状、银河眼、以及神秘人。</p>\n<p>接下来讲了第一个故事，关于哈雷和哈马，以及麦当的父亲，麦林。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/7.png\" alt=\"\"></p>\n<p>经典台词：<strong>「不可能这三个字，你说得太多了。」</strong></p>\n<p>在包子妹和熊猫阿姨的帮助下，咕咚的<del>国王号</del>彩虹号冲出地球。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/8.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/9.png\" alt=\"\"></p>\n<p>在前往月球的过程中，讲了第二个故事，关于咕咚的身世，补充了「彩虹石」的设定。</p>\n<p>在与嫦娥战斗后，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/10.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/11.png\" alt=\"\"></p>\n<p>前往火星联盟航线，补充了虫洞和航线的设定。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/12.png\" alt=\"\"></p>\n<p>我划分的第一部分到这里结束。<br><br></p>\n<p><strong>第二部分，讲的是与笛亚相识，以及打败克拉。</strong></p>\n<p>到达火星后，引出神秘女子和黄金魔方。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/13.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/14.png\" alt=\"\"></p>\n<p>后来得知，她叫「笛亚」。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/15.png\" alt=\"\"></p>\n<p>打败卡利亚后，遭遇克拉，银河眼的第一个「经理人」。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/16.png\" alt=\"\"></p>\n<p>笛亚被克拉带走后，麦当被马戏团所救，讲述了一部分笛亚的身世。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/17.png\" alt=\"\"></p>\n<p>去天王星营救笛亚的过程中，又讲述了一部分笛亚的身世。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/18.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/19.png\" alt=\"\"></p>\n<p>经典台词：<strong>「你们想要的自由，根本就不是属于弱者的词啊。」</strong></p>\n<p>整部作品中，打败克拉是第一个高潮，头皮发麻，非常燃，算是那个年代的一个惊喜。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/20.png\" alt=\"\"></p>\n<p>这部分补充了星际联盟、星学会以及银河眼的设定。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/21.png\" alt=\"\"></p>\n<p>经典台词：<strong>「有绝望的地方，就会有希望产生，对吧？」</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/22.png\" alt=\"\"></p>\n<p>离开天王星，得知乌拉拉就是天王星，魔鬼脚印的坐标入口在水星。但是需要去火星寻找熟练的驾驶员。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/23.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/24.png\" alt=\"\"></p>\n<p>与笛亚的认识是一个长久的过程，贯穿整个第二部分。</p>\n<p>至此，主角一家三口整整齐齐聚在一起，第二部分到此为止。<br><br></p>\n<p><strong>第三部分，可以说是米龙传说。</strong></p>\n<p>在经历飞船燃料不足的小插曲后，到达火星，天王星的闪亮令主角前进的步伐困难重重。</p>\n<p>罗罗乌人和米龙(二代)登场。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/25.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/26.png\" alt=\"\"></p>\n<p>在战斗中，穿插了本剧我最爱的一个故事，「下跪的米龙」。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/27.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/28.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/29.png\" alt=\"\"></p>\n<p>经典台词：<strong>「在我背后，微笑着活下去吧。」</strong><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/30.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/31.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/32.png\" alt=\"\"></p>\n<p>为了妹妹而编造的谎言，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/33.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/34.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/35.png\" alt=\"\"></p>\n<p>经典台词：<strong>「活下去吧，一直活到弱者也可以幸福的时代。」</strong><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/36.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/37.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/38.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/39.png\" alt=\"\"></p>\n<p>救出米龙后，</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/40.png\" width=\"365\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/41.png\" width=\"365\"><br></center>\n\n<p><br></p>\n<p>第一季以「蔓影术」结束。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/42.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/43.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/44.png\" alt=\"\"></p>\n<p>《星游记》刚刚起航，便“戛然而止”。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/45.png\" alt=\"\"><br><br></p>\n<p>🎵 Next World - 牛奶咖啡</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/NextWorld.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>这部动画是2011年的，当时我看的津津有味，直到现在我还是非常喜欢这部作品。</p>\n<p>《星游记之风暴法米拉》出现后，让我明白「一个人」真的可以影响一部作品的灵魂，比如刘北。</p>\n<p>《星游记》版权被卖之后，两部电影有很多跟第一季相违背的世界设定、精神以及人物性格。</p>\n<p>第一部电影除了笛亚变漂亮了，基本没有看点。</p>\n<p>第二部电影比第一部强很多，但在必须延续第一部的框架下，还是有很多不尽人意的地方。风暴法米拉2完全可以叫极光传，原本被笛亚空间能力完克的鲁格，为了前后呼应，强行给极光送人头。极光父子情套路满满，但并不反感。笛亚基本全程酱油，麦当也性格崩坏，至于咕咚，我完全没有印象他干了啥。米龙的出场令人惊喜，但很突兀，毕竟响彻宇宙的米龙就在隔壁，竟然在场的人不知道。估计“大咖”请不起算是友情出场吧。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/46.png\" alt=\"\"></p>\n<p>电影版两篇看完，少了当初的味道，但只要《星游记》继续出，我就会继续支持。即使这是不对的，明知道我感动的是第一季那份精神，希望那个弱者也可以幸福生活的时代出现，而不是一个“空壳”IP。</p>\n<p>但我还是不希望还出现“那样的事”。同在2011年的另外两部国产作品，在今天看来也令人惋惜不已，一个叫《超兽武装》，另一个叫《魁拔》。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/47.png\" alt=\"\"></p>\n<p><strong>拉过勾的事，就要做到。</strong><br><br><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/48.png\" alt=\"\"></p>\n<p>每次看完一部动画，总会有一种悲伤，听着他的主题曲写这篇文章，无论歌曲有多么热血，却还是「兴尽悲来」。</p>\n<p>《星游记》第一季已成绝唱，诚然他是遗憾的，令人惋惜。这是一种「不完美」。</p>\n<p>我现在就想专门记录一下这个「不完美」。</p>\n<p>以前我总是追求完美，就连自我介绍也免不了「崇尚完美，向往自由。」</p>\n<p>总觉得系统不够干净整洁，重装了无数次系统，这个过程，除了满足一下那个强迫症的心，剩下的只是浪费了大把的时间。每次装完都懊悔不已逝去的时间，却还是不自觉地重复。</p>\n<p>还有Mac的cmd键，坏了几年，以及今天的iPhone屏又摔碎了。</p>\n<p>不知道有没有人像我一样，不幸福、没有安全感。生活的种种不完美，令人难受、焦虑，精神不振。这令我想到初中的一篇文章，《落难的王子》(周国平)，有时候某些课文的印象之深，连自己都不敢相信。</p>\n<p>课文里面说，「先生，请别说这话。凡是人间的灾难，无论落到谁头上，谁都得受着，而且都受得了——只要他不死。至于死，那更是一件容易的事了。」</p>\n<p>我一直赞同这句话，直至我走出校门。</p>\n<p>才寥寥数年，社会的种种烦心事却经历得不少。随着年龄的增长和经历的事情越多，克拉的那句台词其实很触动我，<strong>“自由，从来就不是属于弱者的词。”</strong></p>\n<p>我的观点变得不一样了，「普通人只能自求多福不要让事落到自己头上，一旦遇到了，没有人会伸张正义，也没有人帮的了，只有绝望。」至于死，确实很容易。</p>\n<p>如此看来，「有绝望的地方，就会有希望产生，对吧？」更像是一句鸡汤，就像我之前写到的，</p>\n<blockquote>\n<p>而我等小人物却为衣食住行奔波一生，渺小且孤独的存在着，淹没在历史的长河中。也许唯一能做的只是在失落之时、仰望星空之余，还可以感叹一句，「天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。」</p>\n</blockquote>\n<p>星空的魅力是无限的，没有自由，我也可以向往「星空」。没有飞船，我也可以借助「风筝」高高地飞起来。其实年龄越大，对自由已经没有那份狂热，毕竟有时候，<strong>自由即是混乱</strong>，需要付出相应的「代价」。</p>\n<p>我不知道“人人自危”是否过于夸张，我只知道没有自由已成事实，就像我不能在此“秉笔直书”一样，毕竟“网络不是法外之地”。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/github.jpg\" alt=\"\"><br><br></p>\n<p>没有人知道意外和明天哪个先来，自由对于我有多么触动，那么那个<strong>「弱者也可以幸福的时代」</strong>就有多么直击心灵、头皮发麻。</p>\n<p>没人知道魔鬼脚印背后是什么，也没人确定「彩虹海」的存在。就像哥伦布环球航行之前，没有人相信地球是圆的。</p>\n<blockquote>\n<p>传说彩虹海在全宇宙最大的黑洞后面，那里黄金在河里流淌，宝石遍地，空中铺满巨大的彩虹，可以实现人们的任何愿望。</p>\n</blockquote>\n<p>《星游记》已成绝唱，彩虹海遥不可及，就像「完美」一样，永远不可能到达。</p>\n<p>人生总得像接受平凡一样，接受不完美。</p>\n<p>也许那个彩虹海真的只是一个谎言、虚无缥缈，但是陪在身边的伙伴，触手可及，却是真情实意，</p>\n<p>果然，伙伴是这个世界上最值得珍惜的，真羡慕啊。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/49.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/50.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/51.png\" alt=\"\"><br><br></p>\n<p>「未完待续」就是希望，<strong>「相信奇迹的人，本身和奇迹一样了不起。」</strong> 有生之年，等你。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rainbowSea/52.png\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","动画","感想","国产","经典","星游记","热血","冒险","动作","遗憾","惋惜","完美"]},{"title":"春分随笔","url":"https://blog.ykqmain.com/chunfen/","content":"<p>2020年3月20日，<strong>春分</strong>。太阳直射赤道，白天和黑夜一样长，昼夜平分。</p>\n<p>为什么二十四节气，我对春分有些偏爱，有种说不出的感觉，貌似这是一个有着特殊意义的日子。</p>\n<p>我一般把春分当作<strong>春天的到来</strong>，有桃花盛开，有梨花的映衬，有微风，还有一个梦。</p>\n<p>即使这个梦已经可以确切的说是一个遗憾了。</p>\n<p>桃文，<strong>九周年</strong>。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/tw.jpg\" alt=\"\"></p>\n<p><br></p>\n<p>借此篇博客，聊聊近况，记记流水账，扯到哪算哪。</p>\n<p>🎵 Refrain - Anan Ryoko</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/Refrain.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>在2020年初疫情的影响下，而不能出门。此事将载入史册，也许会影响某些人的一生，包括我。难说这是一种什么样的影响，只有时间能给出答案。</p>\n<p>春风拂面，确实是舒服而惬意的。</p>\n<p>回想春节，无非是沉浸于吃鸡和王者。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/1.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/2.jpg!sy\" alt=\"\"></p>\n<p>期间重温了《中华文明读本》这本书，摸到书的那一刻不禁想到，曾经爱书如命的感觉。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/3.jpg!sy\" width=\"480\"></p>\n<p><br></p>\n<p>2月初，又重温了韦诺之战，沉迷其中不能自拔。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/4.jpg!sy\" alt=\"\"></p>\n<p>最后一关的狮鹫大法，强行通关。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/5.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/6.jpg!sy\" alt=\"\"></p>\n<p>就这样到2月中旬。</p>\n<p>期间看了一本《显微镜下的大明》，这本书也是我最近强力推荐的一本书，非常值得一看。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/7.jpg!sy\" width=\"480\"></p>\n<p>然后又回到了吃鸡和王者，感觉韦诺之战就像梦一样的插曲。</p>\n<p>吃鸡有固定的车队小伙伴，还算颇有乐趣。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/8.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/9.jpg!sy\" alt=\"\"></p>\n<p><br></p>\n<p>3月以来，开始学习。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/10.jpg!sy\" width=\"480\"></p>\n<p>穿插着沉迷奥特曼不能自拔，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/11.jpg!xsy\" alt=\"\"></p>\n<p>补了很多奥特曼剧场版，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/12.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/13.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/14.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/15.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/16.jpg!sy\" alt=\"\"></p>\n<p>想到小时候我是“泰罗”奥特曼，回忆满满，虽然我也不知道为啥我是。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/tl.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/17.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/18.jpg!sy\" alt=\"\"></p>\n<p>我的奥特曼到此为止了。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/19.jpg!sy\" alt=\"\"></p>\n<p>很庆幸重新认识了“佐菲”🤭，无敌的“佐菲”😆。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/20.jpg!sy\" alt=\"\"></p>\n<p><br></p>\n<p>时至今日，我重装了无数次系统，包括macOS和iOS，期间荒废了好多时间，无聊和强迫症驱使我无数次的重复，实在懊悔。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/21.jpg!sy\" alt=\"\"></p>\n<p>我也终于厌恶王者的匹配机制，彻底退坑。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/22.jpg!sy\" alt=\"\"></p>\n<p><br></p>\n<p>就业，民生什么的，不是个人能决定的，不去想就好了。</p>\n<p>只要有微风就很爽，</p>\n<p>像小时候，那么简单的快乐。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/chunfen/23.jpg!sy\" width=\"480\"></p>\n<p>也许人真的有命，</p>\n<p>还不如看星星。</p>\n<p><br><br></p>\n","categories":["文章"],"tags":["人生","随笔","感想","春分","春天","桃花","桃文","梦想"]},{"title":"RSS的互联网精神","url":"https://blog.ykqmain.com/rssjs/","content":"<blockquote>\n<p>RSS（简易信息聚合）是一种消息来源格式规范，用以聚合经常发布更新数据的网站，例如博客文章、新闻、音频或视频的网摘。<br>“资源描述框架站点摘要”（RDF Site Summary）就是RSS的英文原意，后来通过逆向首字母缩略词变更为Really Simple Syndication“简易信息聚合”。把新闻标题、摘要（Feed）、内容按照用户的要求，“送”到用户的桌面就是RSS的目的。</p>\n<p>——<a href=\"https://zh.wikipedia.org/wiki/RSS\" target=\"_blank\" rel=\"noopener\">维基百科</a></p>\n</blockquote>\n<p>要问到什么是互联网精神，大多数人也能说出几个关键词，<code>自由</code>、<code>开放</code>和<code>共享</code>。<br>在如今越来越封闭的环境里，各个网站、APP自成一体，<strong>开放</strong>显得尤为稀缺和珍贵，毕竟开放则意味着某些“利益”受损，从资本的角度考虑的话，开放无利可图，封闭也无可厚非，人毕竟也要吃饭。<br>所以可以说<strong>开放是一种美德</strong>，而RSS则是互联网开放精神的典型代表。</p>\n<p>之前折腾过RSS，客户端iOS用的Reeder3，Mac舍不得买。后来出了Reeder4重新收费，就暂时搁置了。<br>最近了解到一款新的RSS阅读器<a href=\"https://ranchero.com/netnewswire/\" target=\"_blank\" rel=\"noopener\"><strong>NetNewsWire</strong></a>，这是一款<a href=\"https://github.com/Ranchero-Software/NetNewsWire\" target=\"_blank\" rel=\"noopener\">开源</a>、免费、支持Mac&amp;iOS的RSS阅读器。体验了一翻，非常棒。据官方说正在探索iCloud同步的可行性，这个特性非常期待。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/rssjs/1.png!sy\" alt=\"\"></p>\n<p>虽然现在的新闻和资讯没什么好看的， 但是绝对不能不看，人不可能与社会脱节。微博本就嘈杂不堪，微博官方的某些行为更是令人作呕（自动关注、点赞，被卖粉等等）。<br>相比之下，即使“工作苦微信久矣”，但公众号确实可以了解很多组织或机构的官方消息，因为每天的发布次数有限，反倒有一定的质量保证。</p>\n<p>所以<strong>微信公众号</strong>就成了我的主要新闻资讯来源，<strong>RSS</strong>则顺理成章地成为了辅助。也借此篇博客分享几个订阅源。</p>\n<p>首先当然是我的博客🤓：</p>\n<ul>\n<li><a href=\"https://blog.ykqmain.com/atom.xml\">iAnna</a></li>\n</ul>\n<p>资讯：</p>\n<ul>\n<li><a href=\"https://feedx.net/rss/wikihistory.xml\" target=\"_blank\" rel=\"noopener\">历史上的今天</a></li>\n<li><a href=\"https://feedx.net/rss/shiwen.xml\" target=\"_blank\" rel=\"noopener\">每日古诗文</a></li>\n<li><a href=\"http://www.qdaily.com/feed.xml\" target=\"_blank\" rel=\"noopener\">好奇心日报</a></li>\n<li><a href=\"https://www.zhihu.com/rss\" target=\"_blank\" rel=\"noopener\">知乎每日精选</a></li>\n<li><a href=\"http://feeds.feedburner.com/zhihu-daily\" target=\"_blank\" rel=\"noopener\">知乎日报</a></li>\n<li><a href=\"https://36kr.com/feed\" target=\"_blank\" rel=\"noopener\">36氪</a></li>\n<li><a href=\"https://www.ifanr.com/feed\" target=\"_blank\" rel=\"noopener\">爱范儿</a></li>\n<li><a href=\"http://feed.geekpark.net/\" target=\"_blank\" rel=\"noopener\">极客公园</a></li>\n<li><a href=\"https://sspai.com/feed\" target=\"_blank\" rel=\"noopener\">少数派</a></li>\n<li><a href=\"https://www.infoq.cn/feed/\" target=\"_blank\" rel=\"noopener\">InfoQ</a></li>\n<li><a href=\"https://www.ithome.com/rss/\" target=\"_blank\" rel=\"noopener\">IT之家</a></li>\n<li><a href=\"https://www.solidot.org/index.rss\" target=\"_blank\" rel=\"noopener\">Solidot</a></li>\n<li><a href=\"https://www.yystv.cn/rss/feed\" target=\"_blank\" rel=\"noopener\">游研社</a></li>\n<li><a href=\"http://www.chuapp.com/feed\" target=\"_blank\" rel=\"noopener\">触乐</a></li>\n<li><a href=\"https://www.appinn.com/feed/\" target=\"_blank\" rel=\"noopener\">小众软件</a></li>\n<li><a href=\"https://feed.iplaysoft.com\" target=\"_blank\" rel=\"noopener\">异次元软件世界</a></li>\n</ul>\n<p>Blog：</p>\n<ul>\n<li><a href=\"https://nnw.ranchero.com/feed.json\" target=\"_blank\" rel=\"noopener\">NetNewsWire</a></li>\n</ul>\n<p><strong>工具</strong>：</p>\n<ul>\n<li><a href=\"https://feedx.net\" target=\"_blank\" rel=\"noopener\">FeedX</a> (献给那些至今还对RSS钟情的人们)</li>\n<li><a href=\"http://docs.rsshub.app\" target=\"_blank\" rel=\"noopener\">RSSHub</a> (开源、简单易用、易于扩展的RSS生成器)</li>\n<li><a href=\"https://feed43.com\" target=\"_blank\" rel=\"noopener\">Feed43</a> (Convert web pages into professionally looking RSS feeds.)</li>\n</ul>\n<p><br><br></p>\n","categories":["计算机"],"tags":["软件","RSS","互联网","工具","Software","APP"]},{"title":"蓦然回首——我已经不萌了","url":"https://blog.ykqmain.com/moe/","content":"<p>闲来无聊，整理博客。漫不经心地翻阅<a href=\"https://blog.ykqmain.com/link/\" target=\"_blank\">博客友链</a>，了解一下我网上屈指可数的朋友们近况如何。</p>\n<p>说起来，我的友链并不多，因为本人天生内敛、不善言辞，大多数都是在自己的一亩三分地中自言自语，在博客里长篇大论、放飞自我，只言片语就在Twitter，其他的地方则谨言慎行、看看不说话。</p>\n<p>虽然友链很少，但<strong>友链的友链</strong>则体现了互联网的精妙绝伦，相互交织的链接网，让我在其中遨游了好半天，见识到了一个个素不相识陌生人的生活，形形色色。其中印象最深的就是，</p>\n<p>他们真的好<strong>「萌」</strong>。</p>\n<p><br></p>\n<p>说起「萌」，这是一个来自日本ACG文化的词语，我目前无法用语言文字精确地表达它的含义，我能想到的中文词汇“可爱”与之有相似的情感，但又绝不等同。好在大多数人能够<strong>意会</strong>这个词表达的含义，更重要的是，我自以为<strong>我曾经真的很萌</strong>，以及那个为我带来「萌」的少女——面码。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/1.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>高考失利，刚上大学的时候，一个人来去于三点一线，上课、图书馆、寝室、树下躺。沉浸在自己的世界里，身边全是“面码”，社交头像、电脑手机壁纸、铃声、鼠标垫、定制的手机壳、定制的U盘、杯子等等周边（手办我是碰不起的），当时的我认为面码是世界上最“萌”的女孩，没有之一（现在也是）。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/2.jpg\" alt=\"\"></p>\n<p>当然，我无意争辩“萌”之最。只因为对面码的爱，<strong>废寝忘食</strong>一个周末，搜集素材、从零开始学习Premiere，制作了一个AMV，上传到B站。这一系列动作一气呵成，心情激动、成就感满满，也充满了幸福。至今回想起来，那个周末感觉也就一瞬间，这股劲头貌似总共也没出现过几次。</p>\n<p><iframe id=\"spkj\" src=\"https://player.bilibili.com/player.html?aid=2316078&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"100%\">【未闻花名】secret base~你给我的所有~(混合版)</iframe></p>\n<script type=\"text/javascript\">  \ndocument.getElementById(\"spkj\").style.height=document.getElementById(\"spkj\").scrollWidth*0.76+\"px\";\n</script>\n\n<p>其实《未闻花名》太有名，讲的故事很多人都很熟悉，以至于有成千上万个“哈姆雷特”。</p>\n<p>对我而言，初看的那个夏天，在BGM的烘托下泪流满面，羡慕他们的世界、怀念自己的小伙伴，因面码的生死离别而<strong>致郁</strong>不能自拔。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/3.jpg\" alt=\"\"></p>\n<p>这份悲伤连带着高考的冲击，伴随了我小半个大学时期。一方面确实心痛难受，另一方面以“萌”的心态面对新生活。</p>\n<p>我是怎样一个心态呢？难以言表，大概是一种<strong>既消极又乐观</strong>的心态，除了语言文字和<strong>表情包</strong>的加持，概括起来可以说是遇事不决，<strong>“先卖个萌，再装个逼，能不搞坚决不搞，不得不搞则一切从简。”</strong></p>\n<p>世界很糟，可是我萌。</p>\n<p><br></p>\n<p>大学生活就是这样过了很久，沉默寡言、与世无争。平时白天有事上课，没事图书馆折腾电脑，晚上寝室打游戏，操场跑步；周末看番，有太阳就树下躺，望望天、听听歌，发一下呆，非常惬意。</p>\n<p><br></p>\n<p>直到遇到了，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/6.jpg\" alt=\"\"></p>\n<p>🎵 オレンジ - 7!!</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/Orange.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>如果说《未闻花名》是“烈酒”，那么《四月是你的谎言》就是慢性“毒药”，作用时间长而慢，不致命，但致郁。</p>\n<p>可以说它同时带来了悲伤和美好，以至于关上了我心中的那扇日本动画大门，逐渐脱宅。 </p>\n<p>那之后，基本不看番了，可能是过于悲伤，也可能是我老了，仅会偶尔会把童年的几部神作翻出来回味。</p>\n<p>可以说宫园薰不仅为我的大学动画生涯划上了圆满的句号，正如《网球王子》是我少年的开端一般，可以预见到的是，《四月是你的谎言》必然是我人生的一个节点，极具纪念意义。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/music.png!sy\" alt=\"\"></p>\n<p>而《未闻花名》，则是其中的桥梁。</p>\n<p><br></p>\n<p>今天的友链见识了别人，回过头来审视自己，</p>\n<p>“成长”这个话题总会时不时在眼旁晃，时至今日，我仍然不能去定性。</p>\n<p>也许成长是明白了承担责任，<br>也许成长是活成了你曾经不喜欢的人，<br>也许成长是会花越来越多的时间陪伴和关心家人，<br>也许成长是越活越怂、没有了初生牛犊之气，<br>也许成长是认识到挣钱不易、生活艰辛，<br>也许成长是看懂平凡，接受平庸，</p>\n<p>然而可以确定的是，成长不是突然的变化。</p>\n<p><br></p>\n<p>时光飞逝，蓦然回首，</p>\n<p><strong>我已经不萌了</strong>。</p>\n<p>这时候，我才明白，什么叫做「不想长大」。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/moe/4.jpg\" alt=\"\"></p>\n<p>写完这篇博客，我清理了一波失效的友链，<strong>One’s World, Think Aloud.</strong></p>\n<p><br><br></p>\n","categories":["文章"],"tags":["人生","随笔","感想","四月是你的谎言","萌","面码","未闻花名","ACG","成长"]},{"title":"FFmpeg笔记","url":"https://blog.ykqmain.com/ffmpeg/","content":"<p>Mac上面音频转换可以使用<a href=\"https://tmkk.undo.jp/xld/index_e.html\" target=\"_blank\" rel=\"noopener\">XLD</a>，视频转换可以使用<a href=\"https://handbrake.fr/\" target=\"_blank\" rel=\"noopener\">HandBrake</a>。</p>\n<p>我只是<strong>偶尔</strong>需要使用视频转换功能，想要<strong>强大、免费</strong>的工具，非<a href=\"https://www.ffmpeg.org\" target=\"_blank\" rel=\"noopener\">FFmpeg</a>莫属，正好可以折腾一下。这玩意是真的复杂，也确实强大，必须写一篇博客记录，以备使用时查询。</p>\n<p>运行环境：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">macOS</span> 10<span class=\"selector-class\">.14</span><span class=\"selector-class\">.6</span></span><br><span class=\"line\"><span class=\"selector-tag\">ffmpeg</span>: <span class=\"selector-tag\">stable</span> 4<span class=\"selector-class\">.2</span><span class=\"selector-class\">.2</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"一、在Mac上安装FFmpeg\"><a href=\"#一、在Mac上安装FFmpeg\" class=\"headerlink\" title=\"一、在Mac上安装FFmpeg\"></a>一、在Mac上安装FFmpeg</h2><p>这里是<a href=\"https://trac.ffmpeg.org/wiki/CompilationGuide/macOS\" target=\"_blank\" rel=\"noopener\">官方文档</a>，里面提到了安装FFmpeg的三种方法：</p>\n<ol>\n<li><p><a href=\"https://brew.sh\" target=\"_blank\" rel=\"noopener\">Homebrew</a></p>\n</li>\n<li><p>直接下载<a href=\"https://www.ffmpeg.org/download.html#build-mac\" target=\"_blank\" rel=\"noopener\">静态版本</a>的FFmpeg</p>\n<ul>\n<li>优点：直接运行使用</li>\n<li>缺点：手动升级，可能不包含所需的所有编码器或过滤器</li>\n</ul>\n</li>\n<li><p>自己编译，下载源码，运行<code>./configure</code>，进行<code>make</code>和<code>make install</code></p>\n<ul>\n<li>优点：貌似没有优点，可能能够体会一把自己掌握的控制感</li>\n<li>缺点：需要手动设置配置选项，还需要自己安装第三方库</li>\n</ul>\n</li>\n</ol>\n<p>第3种方法不推荐。第2种方法可以考虑，下载之后移到<code>/usr/local/bin</code>就可以使用，需要升级就手动下载新版，覆盖原来的即可。还需要注意，这可能是个“基础版”的FFmpeg，不包含某些高级功能。</p>\n<p>在 Mac 上，凡是跟命令行相关的包，推荐统一用Homebrew，便于管理和更新。首先需要安装Xcode和命令行工具<code>xcode-select --install</code>，然后安装<a href=\"https://brew.sh\" target=\"_blank\" rel=\"noopener\">Homebrew</a>。</p>\n<p><strong>注意：</strong>如果使用<del><code>brew install ffmpeg</code></del>安装，得到的也是一个“基础版”的FFmpeg，基础版和高级版所包含库的区别：<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ffmpeg/1.png!sy\" alt=\"\"></p>\n<p><strong>下面是Homebrew安装FFmpeg的过程：</strong>，“高级版”的FFmpeg，Homebrew官方不提供，需要用到第三方<a href=\"https://github.com/homebrew-ffmpeg/homebrew-ffmpeg\" target=\"_blank\" rel=\"noopener\">homebrew-ffmpeg</a></p>\n<ol>\n<li><p><strong>完全安装</strong></p>\n<ul>\n<li><code>brew tap homebrew-ffmpeg/ffmpeg</code></li>\n<li><code>brew install homebrew-ffmpeg/ffmpeg/ffmpeg</code></li>\n</ul>\n</li>\n<li><p>选项安装</p>\n<ul>\n<li>查看选项 <code>brew options homebrew-ffmpeg/ffmpeg/ffmpeg</code></li>\n<li>安装 <code>brew install homebrew-ffmpeg/ffmpeg/ffmpeg --with-&lt;option1&gt; --with-&lt;option2&gt; ...</code></li>\n</ul>\n</li>\n<li><p>更新</p>\n<ul>\n<li><code>brew update &amp;&amp; brew upgrade homebrew-ffmpeg/ffmpeg/ffmpeg</code></li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<p>安装成功截图，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ffmpeg/2.png!sy\" alt=\"\"></p>\n<p><br></p>\n<h2 id=\"二、FFmpeg的常见用法\"><a href=\"#二、FFmpeg的常见用法\" class=\"headerlink\" title=\"二、FFmpeg的常见用法\"></a>二、FFmpeg的常见用法</h2><p>首先是<a href=\"https://ffmpeg.org/ffmpeg.html\" target=\"_blank\" rel=\"noopener\">官方文档</a>，有啥不懂的基本能找到答案，就是成本有点高。</p>\n<p>ffmpeg通用语法格式：</p>\n<p><code>ffmpeg [全局选项] {[输入文件参数] -i 输入文件} ... {[输出文件参数] 输出文件} ...</code></p>\n<ul>\n<li><code>ffmpeg -formats</code> 支持的格式</li>\n<li><code>ffmpeg -codecs</code> 支持的编码</li>\n<li><code>ffmpeg -encoders</code> 支持的编码器<br><br></li>\n</ul>\n<ol>\n<li><p>获取媒体文件信息</p>\n<ol>\n<li><p><code>ffmpeg -i video.mp4</code> 详细信息</p>\n</li>\n<li><p><code>ffmpeg -i video.mp4 -hide_banner</code> 省略FFmpeg细节，仅显示媒体信息</p>\n</li>\n</ol>\n<ul>\n<li><strong>注意：</strong>文件名有空格或者特殊字符，使用双引号<code>&quot; &quot;</code>将文件名包起来<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ffmpeg/3.png!sy\" alt=\"\"><br><br></li>\n</ul>\n</li>\n<li><p>视频转换</p>\n<ol>\n<li><p>从flv转到mp4</p>\n<ul>\n<li><code>ffmpeg -i input.flv -c copy output.mp4</code></li>\n</ul>\n</li>\n<li><p>从GIF转mp4</p>\n<ul>\n<li><code>ffmpeg -i 1.gif -vf scale=600:-2,format=yuv420p out.mp4</code><br><br></li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p>剪切</p>\n</li>\n</ol>\n<ul>\n<li><code>ffmpeg -i input.mp4 -ss 00:01:30 -to 00:10:00 -c copy output.mp4</code><br><br></li>\n<li><code>-ss</code> 开始时间</li>\n<li><code>-to</code> 结束时间</li>\n<li><code>-t</code>  持续时间</li>\n<li><code>-c copy</code> 直接复制，不经过重新编码，这样比较快<br><br></li>\n</ul>\n<ol start=\"4\">\n<li>合并</li>\n</ol>\n<p>创建<code>1.txt</code>，所有的文件都应该是相同的格式（相同的编码），所有文件的路径应该逐个列出：<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">file</span> <span class=\"regexp\">/Users/y</span>ang<span class=\"regexp\">/Desktop/</span>part1.mp4</span><br><span class=\"line\"><span class=\"keyword\">file</span> <span class=\"regexp\">/Users/y</span>ang<span class=\"regexp\">/Desktop/</span>part2.mp4</span><br><span class=\"line\"><span class=\"keyword\">file</span> <span class=\"regexp\">/Users/y</span>ang<span class=\"regexp\">/Desktop/</span>part3.mp4</span><br><span class=\"line\"><span class=\"keyword\">file</span> <span class=\"regexp\">/Users/y</span>ang<span class=\"regexp\">/Desktop/</span>part4.mp4</span><br></pre></td></tr></table></figure></p>\n<p>然后拼接所有文件：<br><code>ffmpeg -f concat -i 1.txt -c copy output.mp4</code><br><br></p>\n<ol start=\"5\">\n<li>视频提取音频</li>\n</ol>\n<ul>\n<li><code>ffmpeg -i input.mp4 -vn -c:a copy output.aac</code></li>\n<li><code>ffmpeg -i input.mp4 -vn -ar 44100 -ab 320 -ac 2 -f mp3 output.mp3</code><br><br></li>\n<li><code>-vn</code> 在输出文件中移除视频流</li>\n<li><code>-c:a copy</code> 不改变编码，直接拷贝</li>\n<li><code>-ar</code> 设置输出音频频率，常用 22050 Hz, 44100 Hz, 48000 Hz</li>\n<li><code>-ab</code> 设置音频比特率，常用 128 kbps, 160 kbps, 192 kbps, 256 kbps, 320 kbps</li>\n<li><code>-ac</code> 设置音频通道数目</li>\n<li><code>-f</code> 输出文件格式<br><br></li>\n</ul>\n<ol start=\"6\">\n<li>截图</li>\n</ol>\n<ul>\n<li><code>ffmpeg -i input.mp4 -ss 00:01:29 -t 00:00:05 -vf fps=1 /Users/yang/Desktop/output-%d.png</code></li>\n<li><p>从<code>00:01:29</code>开始，每隔1秒截一张图，持续<code>00:00:05</code>秒，输出到桌面</p>\n</li>\n<li><p><code>ffmpeg -i input.mp4 -ss 00:00:14 -t 00:00:01 -y output-%d.png</code></p>\n</li>\n<li><p>从<code>00:00:14</code>开始截图，1秒内所有帧</p>\n</li>\n<li><p><code>ffmpeg -i input -ss 00:01:30 -vframes 1 output.png</code></p>\n</li>\n<li>截取<code>00:01:30</code>的那1帧<br><br></li>\n</ul>\n<p><strong>持续更新常用命令当作备忘录……</strong></p>\n<p><br><br></p>\n","categories":["计算机"],"tags":["命令行","软件","ffmpeg","媒体","音频","视频"]},{"title":"北漂日记（多图预警）","url":"https://blog.ykqmain.com/beipiao/","content":"<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/1.jpg!sy\" alt=\"\"></p>\n<h2 id=\"二月\"><a href=\"#二月\" class=\"headerlink\" title=\"# 二月\"></a># 二月</h2><p><strong>2019.02.16 启程</strong></p>\n<p>「安得广厦千万间，大庇天下寒士俱欢颜，风雨不动安如山。」</p>\n<p>🎵 光辉岁月 - 孙露</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/ghsy.aac\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><strong>“一生要走多远的路程，经过多少年，才能走到终点。”</strong><br>告别了父母和女朋友，踏上孤独而漫长的旅程，这注定是一次艰难困苦的路。<br>到汉口站，找到朋友周康，一起到北京西站。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/2.jpg!sy\" width=\"480\"></p>\n<p>开启北漂之旅。<br>辗转几个地铁站，历经大概90分钟，22点30分到达朱辛庄站。计划暂时住在周康同学那里，下地铁搞了一个肉夹馍当做晚餐了。<br>路上风很大，人很少，零星的小摊折射出北京的艰苦生活。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/3.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/4.jpg!sy\" width=\"360\"><br></center>\n\n<p>来到自如的租房里，打了个地铺，准备睡觉。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/5.jpg!sy\" width=\"480\"></p>\n<p>希望明天会更好。<br><br></p>\n<p><strong>2019.02.17</strong></p>\n<p>来北京的第一天，投了一些简历，计划换一个大点的单间。<br>睡到中午才起来，吃了一碗馄饨，7元。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/6.jpg!sy\" width=\"480\"></p>\n<p>下午看了几间房，也深感自如管家的艰辛。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/7.jpg!sy\" width=\"480\"></p>\n<p>看完房间，去一个商场转了一下，吃了一顿火锅，当做晚饭了。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/8.jpg!sy\" width=\"480\"></p>\n<p>回到租的房子附近，去超市买了日用品。<br>出来之后，拍了一张我很喜欢的照片，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/9.jpg!sy\" width=\"480\"><br>「长安居大不易」</p>\n<p>晚上因为呼噜声和焦虑失眠了，凌晨5点多才睡着，希望明天会更好。<br><br></p>\n<p><strong>2019.02.19</strong></p>\n<p>来北京的第三天。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/10.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/11.jpg!sy\" width=\"360\"><br></center>\n\n<p>第一个面试，也是目前唯一一个。<br>很紧张。<br>面试结束了，笔试加三轮面试，三天内给通知，希望能通过吧。<br>面试完准备回“寝室”，路上还碰到两个疑似“骗子”的老奶奶。<br>有惊无险回到寝室，吃完午饭差不多2点，然后一直呆到了晚饭。<br>看到店家送的汤圆，才意识到今天是元宵节。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/12.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/13.jpg!sy\" width=\"360\"><br></center>\n\n<p>北京的饭又贵又难吃。</p>\n<p>人生如梦，元宵节快乐。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/14.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.02.21</strong></p>\n<p>第五天。<br>在地铺睡了一晚，又硬又冷。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/15.jpg!sy\" width=\"480\"></p>\n<p>感冒了，喉咙很痛，早上准备去买药。<br>准备去社区服务站打针，医生只开了药。<br>回来又吃了一碗馄饨，没办法，馄炖是最便宜的饭。<br>买了被子和枕头，<br>感冒睡了两小时，醒来之后，有一种夏天的失落和忧伤。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/16.jpg!sy\" width=\"480\"></p>\n<p>在“寝室”度过漫长岁月。<br><br></p>\n<p><strong>2019.02.23</strong></p>\n<p>第七天，也是第一个周末。<br>周末休息日，应该没招聘。<br>感冒还没好，下午搬家。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/17.jpg!sy\" width=\"480\"></p>\n<p>艰难。<br><br></p>\n<p><strong>2019.02.24</strong></p>\n<p>第八天。</p>\n<p>搬家后的第一天，<br>躺了一天。</p>\n<p>在夜深人静的时候想起她。<br><br></p>\n<h2 id=\"三月\"><a href=\"#三月\" class=\"headerlink\" title=\"# 三月\"></a># 三月</h2><p><strong>2019.03.03</strong></p>\n<p>北京的第二周<br>两个面试，<br>剪了头发。</p>\n<p>周末去了圆明园、颐和园，一个人。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/18.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.03.08</strong></p>\n<p>来北京的第二十天。<br>本周四个面试。</p>\n<p><strong>艰苦，焦虑，迷茫。</strong></p>\n<p>路过书刊亭买了一本《青年文摘》<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/19.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.03.11</strong></p>\n<p>来北京的第二十三天。<br>收到Z公司的Offer。</p>\n<p>体检、入职手续花了一周。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/20.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.03.17 春风</strong></p>\n<p>跟周康、以及他的同学，北京植物园一日游，<br>最爱春分的<strong>桃花</strong>。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/21.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.03.18 工作</strong></p>\n<p>🎵 天亮以前说再见 - 曲艳娇</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/tlyqszj.aac\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>上班的第一天。<br>第一天基本都是文档、学习，跟同事出去吃饭。<br>下班乘地铁回去。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/22.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.03.24</strong></p>\n<p>上班的第一周，<br>每天吃的，早饭两个卤鸡蛋，中午黄焖鸡，晚上让周康帮忙订外卖。</p>\n<p>刚开始上班的时候，印象最深刻的，不是工作的内容，而是<strong>每天单程90分钟的通勤</strong>，1小时地铁、30分钟步行。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/23.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/24.jpg!sy\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>2019.03.27</strong></p>\n<p>妹子来北京，研究生复试。<br><br></p>\n<p><strong>2019.03.28</strong></p>\n<p>妹子来公司，中午公司附近银座吃肯德基，<br>晚上黄记煌。<br><br></p>\n<p><strong>2019.03.30</strong></p>\n<p>上午妹子研究生面试，</p>\n<p>中午吃了烤鱼，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/25.jpg!sy\" width=\"480\"></p>\n<p>下午去了天安门故宫。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/26.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/27.jpg!sy\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>2019.03.31</strong></p>\n<p>妹子落榜，独自而归，<br>我一个人留在了北京。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/28.jpg!sy\" width=\"480\"><br><br></p>\n<h2 id=\"四月\"><a href=\"#四月\" class=\"headerlink\" title=\"# 四月\"></a># 四月</h2><p><strong>2019.04.07</strong></p>\n<p>实在无法忍受90分钟的路程，每天浪费3小时在路上，寻思出去租房，这是每个漂泊的人都会遇到的坑，二房东和中介在租房平台无处不在，有的还素质奇低。</p>\n<p>跑了整整一个清明节假期，见了很多人，印象深刻的有一个中介大姐说的一句话，<br>“我早早来北京十年，没学到东西，也没赚到钱。”</p>\n<p>还有一个整租情侣想把隔厅租给我，二话没说走了，路上还有广告推销的嚣张。</p>\n<p>最后还是找了自如，贵了很多。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/29.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/30.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/31.jpg!sy\" width=\"240\"><br></center>\n\n<p>搬家的时候iPhone摔了，屏碎了，但还能用。<br>心痛。<br><br></p>\n<p><strong>2019.04.12</strong></p>\n<p>新生活。😁<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/32.jpg!sy\" width=\"480\"></p>\n<p>新的出租屋条件是极好的，但是北京房租很贵，必须要合租一间房才可能承担得起。<br>初步稳定，也没急着找室友，计划是先享受两个月再说。</p>\n<p>租到了马路边，而且是交叉路口，车流声很大，准备三天无责退租，<br>但是看了看其他的，更是一个主干道，噪音不断，于是放弃了，<br>好在房间双层玻璃，隔音效果不错，可以忍受。</p>\n<p>10号收到第一笔工资，3月份的那几天，不到1000。</p>\n<p><br></p>\n<p><strong>2019.04.12 偶遇</strong></p>\n<p>很巧，周末同学延庆来北京出差，约了一波，<br>汉堡王，网吧，电影院，冰淇淋，酸菜鱼，尽情享受了“奢靡”的一天。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/33.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.04.19</strong></p>\n<p>经理请客吃饭，北疆饭店。<br><br></p>\n<p><strong>2019.04.20</strong></p>\n<p>转遍了“寝室”周围的餐馆，基本上只有一家，小炒肉盖饭。<br>周末去吃饭的时候，iPhone又摔了，屏花了，彻底不能用。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/34.jpg!sy\" width=\"480\"></p>\n<p>尝试找了上门维修， 花了378换了屏和电池。<br><br></p>\n<p><strong>2019.04.24</strong></p>\n<p>毕业前和延庆一起看的复联3，预计这次又可以延庆一起看复联4的，无奈计划赶不上变化，出差结束，提前回去了，我的复联观影也耽搁了。<br>有时候以后真的就是无限的以后。</p>\n<p>那天工作日，下大雨，本来都回“寝室”了，看朋友圈说钢铁侠死了，于是买了深夜场《复仇者联盟4》，<br>本来打算坐地铁去，没想到坐到转车的时候，地铁已经停运，<br>无奈上地面打滴滴，差点错过了开场时间。<br>我本可以直接打滴滴，没办法，这就是穷人的心酸，自己能省则省。<br>一个人确实可以这么疯狂。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/35.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/36.jpg!sy\" width=\"360\"><br></center>\n\n<p>观影体验极差，就像在看情景喜剧，自带观众笑声，还是立体的。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/37.jpg!sy\" alt=\"\"></p>\n<p>复仇者联盟对我而言可以说到此为止了。<br><br></p>\n<p><strong>2019.04.28 朋友</strong></p>\n<p>五一调休加班，晚上火车站接朋友桂松。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/38.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.04.29</strong></p>\n<p>烤鱼、撸串，<br>接风洗尘。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/39.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/40.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/41.jpg!sy\" width=\"240\"><br></center>\n\n<p><br></p>\n<h2 id=\"五月\"><a href=\"#五月\" class=\"headerlink\" title=\"# 五月\"></a># 五月</h2><p><strong>2019.05.01</strong></p>\n<p>五一假期，转转北京<br>火锅，卢沟桥<br>旧货市场，798，三里屯，大炮家汉堡<br>星巴克，天坛，美团折扣烤鱼<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/42.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.05.11</strong></p>\n<p>周末，看电影《大侦探皮卡丘》，夜晚赶最后一班公交。</p>\n<p>想吃热干面，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/43.jpg!sy\" width=\"480\"></p>\n<p>跟桂松去了国家博物馆，<br>天安门维修，去了故宫，<br>王府井Apple Store，<br>美团折扣烤鱼。<br><br></p>\n<p><strong>2019.05.15</strong></p>\n<p>第一次加班，<br>撸个串补偿下自己。<br>工作的日子就是这么平凡枯燥又容易满足。<br><br></p>\n<p><strong>2019.05.17 礼物</strong></p>\n<p>送妹子一部iPhone8，<br>520礼物、毕业礼物、第一份工资礼物。<br><br></p>\n<p><strong>2019.05.19</strong></p>\n<p>团建，打游戏机。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/44.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/45.jpg!sy\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>2019.05.21</strong></p>\n<p>桂松出成绩，撸个串，庆祝。<br><br></p>\n<p><strong>2019.05.24</strong></p>\n<p>桂松进面试，搓一顿。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/46.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.05.25 离别</strong></p>\n<p>周六早晨，送桂松去西站。</p>\n<p>回来后清洗了衣物床单。<br>非常孤独。😔</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/47.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/48.jpg!sy\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>2019.05.26 孤独</strong></p>\n<p>开始点外卖的生活，因为每天食物实在是太单一了，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/49.jpg!sy\" width=\"480\"></p>\n<p>等到了螺丝刀快递，修理翘屏的iPhone。</p>\n<p>一个人躺着，看着窗外下午的阳光。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/50.jpg!sy\" width=\"480\"></p>\n<p>人生来就是个奴隶，给房东打工，为了给城市添砖加瓦，一套房就可以榨干父母的存款， 还要卖20年的青春。<br>还有生活，房贷，车贷，彩礼，稳定的工作……<br><br></p>\n<h2 id=\"六月\"><a href=\"#六月\" class=\"headerlink\" title=\"# 六月\"></a># 六月</h2><p><strong>2019.06.05 快乐</strong></p>\n<p>希望拥有一台自己的Switch。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/51.jpg!xsy\" width=\"480\"></p>\n<p>突然发现自己从小打到都活在焦虑之中，从来没有仔细去感受生活，要问我现在有什么兴趣爱好，一时半会无言以对。<br>小时候想象力天马行空，想到处探险，有很多想做的事。<br>现在只想躺着，刷手机。<br>钱，房子，工作，<strong>没人关心我是否快乐。</strong><br><br></p>\n<p><strong>2019.06.06 Anna</strong></p>\n<p><strong>一个人的周末太无聊，出门也消费不起，只能躺。</strong></p>\n<p>重装系统，没忍住升级了macOS 10.15。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/52.jpg!sy\" alt=\"\"></p>\n<p>Safari的扩展算是废了，uBlock、剪藏等从safari-extensions安装的全部不能使 用，而且Safari启动页太丑了，这是往别的浏览器赶的节奏。<br>32位应用不能用了。<br>Mac系统分到单独的只读卷，多了“Mac-数据”卷，有利有弊。<br>照片界面没以前的方便，显示的内容更少了。<br>iTunes被拆了，说实话，甚至有点怀念。反正三个新APP要么用不到，要么不 能用，还不如留个iTunes纪念。<br>我从10.10开始用macOS，要说分界线，从Catalina划分再好不过，10.15无疑 是Apple产品融合的一大步。<br>我还是留在Majave，直到我的Anna退役吧。<br><br></p>\n<p><strong>2019.06.07 口袋妖怪</strong></p>\n<p>《⼝袋妖怪 魂银》<br>模拟器 iNDS</p>\n<p>菊草叶真的很萌（实际不怎么好用），还喜欢乘龙和卡比兽。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/53.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/54.jpg!sy\" width=\"360\"><br></center>\n\n<p>给童年一个补偿。<br><br></p>\n<p><strong>2019.06.09</strong></p>\n<p>《神奇宝贝 无印》</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/55.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/56.jpg!sy\" alt=\"\"></p>\n<p>端午就这样过了，<br>怀念无印……<br><br></p>\n<p><strong>2019.06.16 煎熬</strong></p>\n<p>12号突然就想到检测一下房间的空气， 12号封闭，13号检测，14号出了一项甲醛指标，超标，于是想换房间。</p>\n<p>周六中午，看了三间房，不满意，二房东便恶言相向，结合之前清明节的找房经历，还是打算换隔壁小区的自如。</p>\n<p>周日折腾着换了房间，要求退租退押金退服务费，要求报销检测费，要求赔偿一个月房租。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/57.jpg!sy\" alt=\"\"></p>\n<p>北京不管哪里，都很吵，新的环境，又得适应。</p>\n<p>老房间的其余四项苯，甲苯，二甲苯，TVOC都是符合标准的。<br><br></p>\n<p><strong>2019.06.20</strong></p>\n<p>北京的租房比找工作更磨人，几次租房下来，几点宝贵的经验就是，</p>\n<ul>\n<li>有窗、有光、有空调</li>\n<li><strong>看厕所</strong>，能看出合租人的素质</li>\n<li>不要马路边</li>\n<li>不要餐饮边</li>\n<li>不要噪音源，污染源</li>\n</ul>\n<p>隔壁有个傻逼，论谁也受不了<br><br></p>\n<p><strong>2019.06.21</strong></p>\n<p>一个人去看电影，《玩具总动员4》<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/58.jpg!sy\" alt=\"\"></p>\n<p>小时候有一袋子玩具，大多是捡来的“trash”，一个人玩，经常拿他们角色扮演，左手打右手，欢乐无穷，对我而言是不折不扣的“partner”。<br>印象最深的红白小公鸡，会飞，只是在我的精神世界里，他是个反派。<br>可惜现在全都不知所踪。<br>佩服Pixar的脑洞，感谢给我带来了一个个美好的世界，以及那些欢乐与回忆。<br><br></p>\n<p><strong>2019.06.22 夏天</strong></p>\n<p>慵懒的周末，夏天的暖风。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/58-2.jpg!sy\" width=\"480\"></p>\n<p>回顾了《玩具总动员》1～3，<br>有时候一个非常简单的感动点就能令人泪流满面。<br><br></p>\n<p><strong>2019.06.23 生日</strong></p>\n<p>农历生日，中午吃了肯德基。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/59.jpg!sy\" alt=\"\"></p>\n<p>下午跟小伙伴吃鸡，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/60.jpg!sy\" alt=\"\"></p>\n<p>晚上补了《赛车总动员》，感受到了家庭和团队的温馨。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/61.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.06.24</strong></p>\n<p>买Pokemon的优衣库，钱包被掏空。<br><br></p>\n<p><strong>2019.06.26</strong></p>\n<p>一个人的生活，陪伴我的小炒肉。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/62.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.06.29</strong></p>\n<p>又是一个人的周末，大风，暖的，夏天的感觉。</p>\n<p>看《头脑特工队》</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/63.jpg!sy\" alt=\"\"></p>\n<p>每个人都有过幻想的朋友，<br>以及一个幻想世界。<br><br></p>\n<p><strong>2019.06.30</strong></p>\n<p>没有西瓜的夏天，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/64.jpg!sy\" width=\"480\"></p>\n<p>看来Switch入门5000起步了，贫穷劝退。<br>水果都吃不起，还玩游戏，想的太美好了。☹<br>不懂美术，不懂音乐，Coding半瓶水，与世界少有的几分美好无缘无份，很可惜，始终找不到属于自己的世界。<br>夏天就应该吹着空调，有WiFi，有音乐，最好能有西瓜，享受夏天的感觉，然后咸鱼躺。<br><br></p>\n<h2 id=\"七月\"><a href=\"#七月\" class=\"headerlink\" title=\"# 七月\"></a># 七月</h2><p><strong>2019.07.03 悲伤</strong></p>\n<p>🎵 来吧，甜蜜的吐槽 - 卢恒宇,李姝洁</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/tc.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>莫名的伤感。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/65.jpg!xsy\" alt=\"\"></p>\n<p>「不忘初心，方得始终。」<br>有多少人记得初心，<br>有多少人有条件保留初心，<br>又有多少人有能力完成初心呢？<br>说起来，我也许属于<a href=\"https://blog.ykqmain.com/donghua/\" target=\"_blank\">动画世界</a>，但却没有那个勇气与能力去追求。</p>\n<p>如果我没有长大，现在应该是暑假了吧，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/66.jpg\" alt=\"\"></p>\n<p>想念暑假的小伙伴。<br>怀念儿时的回忆。<br><br></p>\n<p><strong>2019.07.05</strong></p>\n<p>果然隔壁不是一个爽快人，不讲卫生就已经无法忍受，还在电费上做文章。<br><br></p>\n<p><strong>2019.07.06 长安</strong></p>\n<p>追《长安十二时辰》，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/67.jpg\" alt=\"\"></p>\n<p>不知道古人的生活是怎样的，古人的人生意义是什么，不是每个人都是李白。<br>就像绝大多数普通人，死了之后，没人知道世界上存在过。<br>即使每个人的一生都是传奇。<br>所有的不快乐，都是自己的无能，只能循规蹈矩，按部就班，无可奈何。<br><br></p>\n<p><strong>2019.07.07 幸福？</strong></p>\n<p>重复无意义劳动，没有<strong>成就感</strong>；<br>租房漂泊，为房东打工，看不到未来的希望，没有<strong>归属感</strong>；<br>孤身一人，没有亲人、朋友、恋人，没有<strong>幸福感</strong>。</p>\n<p><strong>目前的生活备受煎熬，是时候换个活法了。</strong></p>\n<p>起码随便点外卖，让自己吃得好一点。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/68.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.07.17 改变</strong></p>\n<p>下班后的晚上，独自一人穿过三条街，为了一顿美味佳肴，肯德基。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/69.jpg!sy\" alt=\"\"></p>\n<p>回去自己后，洗澡的时候停电了。折腾半天终于充进去了2块钱，隔壁那个**真是一言难尽。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/70.jpg!sy\" width=\"480\"></p>\n<p>在北京就没租过好房子，跟一个非正常人一个屋，真是太煎熬了。<br>光是电费这一点，就折磨到现在，一点都不爽快，还无耻。</p>\n<p>工作累了，回去之后，看到客厅和厕所脏乱差，都没有好心情，只能闭门不出，心里憋火，心情烦躁。<br>这种环境，还得支付2000多的房租，每个月拿了工资，还没捂热转手就要交房租。<br>这根本不叫生活。</p>\n<p><strong>这次终于可以做一个艰难的决定了。</strong><br>之前多次想辞职，还是忍下来了。<br><strong>多次深思熟虑之后，终于夜晚正式向经理提出了辞职。</strong><br>为了不影响公司正常业务，留时间让公司招人和交接工作，预计10月初离开。</p>\n<p>彻夜难眠。<br><br></p>\n<p><strong>2019.07.23</strong></p>\n<p>发现公司附近的酸菜鱼特别美味，就是贵，不过每周不同口味有折扣。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/71.jpg!sy\" width=\"480\"></p>\n<p>打算以后每周吃两次，有时候还要加个锅盔，一顿饭差不多40。<br>反正决定离开北京了，反而轻松了许多。<br><br></p>\n<p><strong>2019.07.26</strong></p>\n<p>又一次一个人去看电影，《哪吒之魔童降世》。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/72.jpg!sy\" alt=\"\"></p>\n<p>亲情的改编戳中泪点，莲花的特效非常好看。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/73.GIF\" alt=\"\"></p>\n<p>一个人看电影，习惯了就很享受，顺便再搞一顿肯德基。<br><br></p>\n<p><strong>2019.07.30 水果</strong></p>\n<p>在提了辞职后，没有存钱的想法（其实也存不了钱），敞开了吃，在公司时不时点外卖水果，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/74.jpg!sy\" width=\"480\"></p>\n<p>终于在7月的尾巴吃上了哈密瓜，<br>北京的水果真是吃不起。<br><br></p>\n<p><strong>2019.07.31</strong></p>\n<p>麻辣香锅，随便吃，爽就完了。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/75.jpg!sy\" alt=\"\"></p>\n<p>钱不钱的无所谓了，爽更重要。<br>生活有多么心酸，就要在吃上面补回来。<br><br></p>\n<h2 id=\"八月\"><a href=\"#八月\" class=\"headerlink\" title=\"# 八月\"></a># 八月</h2><p><strong>2019.08.03 意义</strong></p>\n<p>“没意思，真的没意思。”<br>“还不如看星星。”<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/76.jpg\" alt=\"\"></p>\n<p>“当你仰望星空,以为那些闪耀的星光都是亘古之前的残迹，非也，那是你的 双眼洞穿了光阴，宇宙的岁月像画卷一样平展在天宇之上。”<br>我们的信息以光速在宇宙各处遍历，我们从来不曾死去，我们的此在占有时间，当我们的信息被彼在观测到时，我们就是存在的。<br>「天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。」<br>这就是星空的魅力。</p>\n<p>运维，就是运行维护，保证服务器的各种状态正常，保证公司应用正常业务。<br>从开发，到部署，代码托管，应用打包，应用发布，应用状态监控，日志分析，各种环境搭建，都要保证。<br>公司需要啥，你就得学，学会了得上线，上线稳定之后，又没啥事了，会 忘。等到有bug，你得修，又得学，可能这个时候就很陌生了，修好bug，又有一个稳定的时间，知识不用就会忘。<br>所以运维学习的东西很杂，啥都得会，脑子里面装很多东西，乱的要命。<br>还得保证服务器正常，挂了得找你，基本就导致了24小时待命。<br>开发就专注一种语言，摸爬滚打都是它，好得多。<br>不管哪种，都挺累的，还有年龄那道槛。吃力不讨好，全都是为老板打工，没有归属感，为房东打工，卖的是青春。<br><br></p>\n<p><strong>2019.08.04 思考</strong></p>\n<p>在吃饭这件事上，无论是银座，还是外卖，敞开了吃。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/77.jpg!sy\" alt=\"\"></p>\n<p>在公司吃了午饭还时不时搞点水果，在“寝室”吃了晚饭，还时不时撸个串，美滋滋。</p>\n<p>「穷则变，变则通，通则久。」<br>穷则思变，变才长久，<br>当前情况不容乐观，改变自己，不断学习， </p>\n<p><strong>多交流、多了解。</strong><br>多与人交流，了解行情，每个人的生活都是一本书，每个人的路大都不同，首先要的是信息收集，没有信息就没有分析。<br><strong>多观察、多思考。</strong><br>有了信息，才能进行总结，「读史使人明智」，别人的经历可以总结出<strong>适合自己</strong>的经验，从经历到经验的转化，才体现出一个人的能力。即使<strong>很多事不亲身经历，是绝对不能理解其中滋味的</strong>，但总能思考到某些<strong>新的东西</strong>。<br>这就体现了两个特别重要的能力，一个是<strong>明辨是非</strong>，另一个是<strong>独立思考</strong>。<br>这样才能突破自己，超越自己，使自己发展不受阻塞。<br>与时俱进，不断进步。</p>\n<p>懂得这么多道理，为什么过不好这一生？<br>道理本身没错，只是绝大多数人没去做而已，或者说，<strong>是真的没有能力做到。</strong><br>按照是什么(发现问题)，为什么(总结原因教训)，怎么办(制定计划，以实现目标)的步骤，很容易就能有一个流程，至于剩下的，则如《劝学》所言：<br>「积土成山，风雨兴焉；积水成渊，蛟龙生焉；积善成德，而神明自得，圣心备焉。故不积蹞步，无以至千里；不积小流，无以成江海。骐骥一跃，不 能十步；驽马十驾，功在不舍。锲而舍之，朽木不折；锲而不舍，金石可镂。」<br>成功的影响因素有三个，我们只能把握其中的一个，<br>人和人的区分不仅仅在于<strong>爹妈给他的起点</strong>，还有<strong>对美好生活的执行力</strong>。<br>至于最后的结果，也许就真的没那么重要了。因为个人的奋斗，除了自身和家庭以外，还必须算上<strong>历史进程</strong>。<br>「尽人事，而不能至者，无悔矣。」<br><br></p>\n<p><strong>2019.08.13 读书</strong></p>\n<p>开启阅读计划，培养阅读习惯。<br>《人类简史》，<strong>“历史只告诉我们极少数的人在做些什么，而其他绝大多数人的生活就是不停地挑水耕田。”</strong><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/78.jpg!xsy\" width=\"480\"></p>\n<p>「君子曰，学不可以已。」<br>阅读，看起来多么美好的一件事，然而真正实现的，实在是难得。<br>高中就开始有过阅读计划，实际上，从那时候开始算起到现在，也没看过几 本书。<br>买书很多，爱书也是真的，真要翻开来去看，浮躁的心完全做不到。</p>\n<p>阅读不需要告诉全世界，看，我在阅读。<br>阅读是一个人的享受，书中自有颜如玉，“终身学习”不仅仅是一句口号。<br>我想是时候静下心来，好好去感受书中的世界了，人类发展到今天的文明成果，文字中蕴含着「传承」。<br>希望每年能够<strong>用心</strong>看完6～10本书吧。<br><br></p>\n<p><strong>2019.08.23 平凡</strong></p>\n<p>下雨没带伞，出门在外，不体验一把淋雨回去的经历，是不完整的。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/79.jpg!sy\" width=\"480\"></p>\n<blockquote>\n<p>看科幻动漫，我觉得长大后也能守护地球。<br>看名人传记，我觉得长大后也能当科学家。<br>稍微大一点，我觉得能开一家动画公司，做自己喜欢做的事。</p>\n</blockquote>\n<blockquote>\n<p>但经过小学、中学、大学一次次考试后，<br>才终于明白：我只是一个普通学生。<br>但经过很多次面试后，<br>才赫然发现：像我这样的一抓一大把。<br>但工作后，我也曾想脱颖而出，<br>才无奈认识到：我只是一个普通员工。</p>\n</blockquote>\n<blockquote>\n<p>到后来，我觉得我越来越普通。</p>\n</blockquote>\n<p>也许中国的教育过于理想化，学生都有着“修齐治平”之志，等到出了校门，才感受到社会和书本的落差之大，难免失望和自卑。</p>\n<p>也许人生有三个阶段，<br>承认父母平凡，<br>承认自己平凡，<br>承认孩子平凡。</p>\n<p>平凡，才是唯一的答案。</p>\n<p>即使有暖风拂面的惬意，却带来了焦虑和悲伤，被整个夏天的高温烘托得更加烦躁。</p>\n<p>但是，夏天就这样结束了。<br><br></p>\n<h2 id=\"九月\"><a href=\"#九月\" class=\"headerlink\" title=\"# 九月\"></a># 九月</h2><p><strong>2019.09.06 三国</strong></p>\n<p>回顾三国。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/80.jpg!xsy\" alt=\"\"></p>\n<p>🎵 英雄的黎明 - 横山菁儿 </p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/sgz.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/sgz.jpg!sy\" width=\"480\"></p>\n<p>「求田问舍，怕应羞见，刘郎才气。可惜流年，忧愁风雨，树犹如此。倩何人唤取，红巾翠袖，揾英雄泪。」<br>刘备除了姓刘，一无所有，白手起家，起起伏伏，历经磨难，百折不饶，终于称帝，令人向往，中道崩殂，为其遗憾。<br><strong>“髀里肉生，慨然流涕。”</strong>非经历不能懂刘玄德也。<br>多少年后，我也就是个统计数字罢了。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/81.jpg!xsy\" alt=\"\"><br><br></p>\n<p><strong>2019.09.11</strong></p>\n<blockquote>\n<p>抽刀断水水更流，<br>举杯销愁愁更愁。<br>人生在世不称意，<br>明朝散发弄扁舟。</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/82.jpg!sy\" alt=\"\"></p>\n<p>桂松上岸，请了一天假，并上中秋，共4天假期。和桂松开启<a href=\"https://blog.ykqmain.com/shandong/\" target=\"_blank\">山东之旅</a>。<br><br></p>\n<p><strong>2019.09.16</strong></p>\n<p>假期结束，中午到北京后，人山人海。<br>桂松再次来京，想要弥补长城的遗憾。<br><br></p>\n<p><strong>2019.09.17</strong></p>\n<p>跟桂松再次看电影，《罗小黑战记》。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/83.jpg!sy\" alt=\"\"></p>\n<p>动画世界，果然很温馨治愈，很舒服。<br><br></p>\n<p><strong>2019.09.20</strong></p>\n<p>某同事竟然比我先离职，约了一波，大碗香锅，聊聊秘闻趣事。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/84.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.09.21</strong></p>\n<p>上午和桂松、“懂事”约了一次长城，完成了一个愿望。</p>\n<p>中午一起吃了烤鱼。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/85.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/86.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/87.jpg!sy\" width=\"240\"><br></center>\n\n<p>下午和桂松去了水立方，北京最坑的“景点”。<br><br></p>\n<p><strong>2019.09.22</strong></p>\n<p>送桂松离京。</p>\n<p>这次离别到没有特别伤感，毕竟我也快要离开这个地方了，反而有一丝期待。<br><br></p>\n<p><strong>2019.09.23</strong></p>\n<p>拿到离职材料，开始走离职流程。</p>\n<p>每天酸菜鱼外卖，或者麻辣香锅。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/88.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.09.23</strong></p>\n<p>又又又一个人去看电影，国庆档《攀登者》。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/89.jpg!sy\" alt=\"\"></p>\n<p>剧情总体还行，但有的地方画蛇添足，假期的消遣。</p>\n<p>国庆节期间就不出门了。<br><br></p>\n<h2 id=\"十月\"><a href=\"#十月\" class=\"headerlink\" title=\"# 十月\"></a># 十月</h2><p><strong>2019.10.01</strong></p>\n<p>买了回家的火车票。</p>\n<p>撸个串，就是这么任性。（其实是那个外卖的小炒肉全是肥的，没吃饱）</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/90.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/91.jpg!sy\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>2019.10.07</strong></p>\n<p>国庆节真的躺了一个星期，数着日子过。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/92.jpg!sy\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/93.jpg!sy\" width=\"360\"><br></center>\n\n<p>狂风怒号，归心似箭。</p>\n<p>一场秋雨一场寒。</p>\n<p>以前躺在床上就能进入另一个想象的世界，可能是某部动画、影视作品的角色扮演，有兄弟、有佳人。可以变成蚂蚁去森林冒险，可以变成小鱼在海洋畅游。天马行空，非常惬意，可以说是非常有趣的娱乐方式之一了。<br><br></p>\n<p><strong>2019.10.10 下班</strong></p>\n<p>在北京上班的最后一天，<strong>五味杂陈</strong>。</p>\n<p>晚上吃了久违的那份小炒肉。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/94.jpg!sy\" width=\"480\"><br>还涨价了，19块。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/95.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.10.11</strong></p>\n<p>上午办了离职手续，</p>\n<p>回来路上看到书刊亭，买了一本《青年文摘》，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/96.jpg!sy\" width=\"480\"><br>在刚来北京的时候也买了一本，也算是一个呼应吧。</p>\n<p>下午叫了顺丰，快递单人床。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/97.jpg!sy\" width=\"480\"><br><br></p>\n<p><strong>2019.10.12</strong></p>\n<p>🎵 人生如棋 - 钟茵波</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/rsrq.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<blockquote>\n<p>朗朗晴空，日照当头。<br>静静深夜，月涌江流。</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/98.jpg!sy\" alt=\"\"></p>\n<p>收拾行李，准备离开。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/99.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/100.jpg!sy\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/101.jpg!sy\" width=\"240\"><br></center>\n\n<p><strong>奔波</strong>，这就是人生。<br><br></p>\n<p><strong>2019.10.13</strong></p>\n<p>早上醒来就收拾东西，该扔的都扔了，整理退租后出发。</p>\n<p>路上下着小雨，<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/102.jpg!sy\" width=\"480\"></p>\n<p>即使是晚上9点的车，还是迫不及待地赶去北京西站。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/103.jpg!sy\" width=\"480\"></p>\n<p>在肯德基逗留到晚上进站。<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/104.jpg!sy\" alt=\"\"></p>\n<p>制作了个视频纪念下在北京的最后一天。</p>\n<p>🎬 BeiPiao video</p>\n<video height=\"680\" width=\"auto\" controls=\"controls\" type=\"video/mp4\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/beipiao.mp4\"><br>    Your browser does not support the Video tag.<br></video>\n\n<p>在北京漂泊的人啊，乃至世间能称之为「人」的人，没有谁是容易的。</p>\n<p>无有例外。</p>\n<p>只有在外漂泊的人才懂，</p>\n<p>在外漂泊过的，<strong>都懂</strong>。</p>\n<p><br></p>\n<p><strong>2019.10.14 归途</strong></p>\n<blockquote>\n<p>江畔何人初见月？<br>江月何年初照人？<br>人生代代无穷已，<br>江月年年望相似。</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/105.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2019.10.15 开始</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/106.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/107.jpg!xsy\" alt=\"\"></p>\n<p>从今以后，就是另外一条路了。</p>\n<p>这是自己的选择。</p>\n<blockquote>\n<p>总有一天，你回过头来看看，<br>你就会发现，<br>你的每个经历、每次错误、每次失败，<br>都帮助你走向了——<br>你应该成为的那个人。</p>\n</blockquote>\n<p><br></p>\n<p>但愿，<strong>无怨</strong>、<strong>无悔</strong>、<strong>无憾</strong>。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/beipiao/108.jpg!sy\" alt=\"\"></p>\n<p><br></p>\n<p><strong>The End</strong></p>\n<p><br><br></p>\n","categories":["文章"],"tags":["回忆","人生","随笔","感想","北京","漂泊","生活","日记","记录"]},{"title":"山东之旅","url":"https://blog.ykqmain.com/shandong/","content":"<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/1.jpg!sy\" width=\"480\"></p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/2.jpg\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/3.jpg\" width=\"360\"><br></center>\n\n\n\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/4.jpg!sy\" alt=\"\"></p>\n<center><br><video height=\"auto\" width=\"720\" controls=\"controls\" type=\"video/mp4\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/5.m4v\"><br>    Your browser does not support the Video tag.<br></video><br></center>\n\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/6.jpg!sy\" width=\"480\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/7.jpg!sy\" width=\"480\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/8.jpg!sy\" width=\"480\"></p>\n<video height=\"640\" controls=\"controls\" type=\"video/mp4\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/9.m4v\"><br>    Your browser does not support the Video tag.<br></video>\n\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/10.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/11.jpg!sy\" width=\"480\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/12.jpg!sy\" width=\"480\"></p>\n<video height=\"640\" width=\"auto\" controls=\"controls\" type=\"video/mp4\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/13.m4v\"><br>    Your browser does not support the Video tag.<br></video>\n\n\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/14.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/15.jpg!sy\" width=\"480\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/shandong/16.jpg!sy\" width=\"480\"></p>\n<p>只说印象最深的一点，从一踏上那片土地开始，似乎一切都安排得明明白白。</p>\n<p>稍微抽象一下，也许人一生下来，已是<strong>命中注定</strong>。</p>\n<p><br><br></p>\n","categories":["旅行"],"tags":["回忆","旅行","山东","青岛","大海","曲阜","济南"]},{"title":"熙熙壤壤","url":"https://blog.ykqmain.com/liyi/","content":"<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liyi/TwitterSafety‎.png!sy\" alt=\"\"></p>\n<p><strong>「天下熙熙，皆为利来；天下壤壤，皆为利往。」</strong>（【汉】司马迁《史记·货殖列传》）</p>\n<p>从来就没什么言论自由，甚至真相也不重要，你能看到的、大多数都是、他们想让你看到的，背后大多是利益的驱使罢了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>“利益”并不是一个贬义词，它能促进社会的发展，也是唯物史观的有力支持。我们从小学开始，接受的正规历史教育都是<strong>唯物史观</strong>。但是令人尴尬的事实却是，没有多少人发自心底的相信唯物史观，包括我。</p>\n<p>我们都在期望一位<strong>「英雄」</strong>，一位改变时代的英雄，一位“圣君”经天纬地、国泰民安，一位“清官”为民请命、镇守四方，一位“侠客”打抱不平、伸张正义，一位“天才”科技兴国，改变世界……</p>\n<p>可书本告诉我们，<strong>“经济基础决定上层建筑”</strong>，还告诉我们<strong>“唯物史观认为历史绝不是英雄人物创造的”</strong>，但是书本中并不会给出足够的解释和论证，使得“唯物史观”变成镜花水月。</p>\n<p>但是太史公告诉我们了，也就是历史课本、一直有意无意的回避两个字，<strong>「利益」</strong>。</p>\n<p>唯物史观最核心的内容只有两个字，那就是“利益”。抛开“利益”二字，几乎就无法理解唯物史观。但是“利益”这两个字，在我们的教育中、文化中，大多是一个邪恶的、至少是庸俗的字眼，大多时候讲的是天下为公，秉公无私奉献。所以我们的历史课本在分析历史时，有意无意就要绕过利益这两个字。这样一来，所谓的经济基础决定上层建筑，人民群众创造历史，就变成了空中阁楼。因为没有“利益”作为纽带，经济基础与上层建筑，人民群众与英雄之间，就丧失了真正的联系。</p>\n<p>总的来说，国家、法律、哲学、政治、政治经济学、历史这些上层建筑，都是现实利益博弈的产物。哪个利益群体在现实博弈中占据了优势，代表他们利益的上层建筑就会占据统治地位。任何英雄人物，都是作为某个利益群体代言人存在的。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>国家由领土、人民（民族，居民）、文化和政府四个要素组成，是一定范围内的人群所形成的共同体形式。<strong>在我看来，只要国家这一形式还存在，爱国就是义不容辞的责任，</strong></p>\n<p>「我们从古以来，就有埋头苦干的人，有拼命硬干的人，有为民请命的人，有舍身求法的人，……虽是等于为帝王将相作家谱的所谓“正史”，也往往掩不住他们的光耀，这就是中国的脊梁。」（鲁迅《中国人失掉自信力了吗》）</p>\n<p>千百年来，中国人崇尚祖先，敬重精神，中国的神大多是由“人”抽象而来，信仰的是那骨子里的“精神”。<strong>国家还是那个国家，黄河还是那个黄河，长江也还是那个长江，</strong></p>\n<p>但是，某些东西并不是永恒的。</p>\n<p>「齐宣王曰：“汤放桀，武王伐纣，有诸？”<br>孟子对曰：“于《传》有之。”<br>曰：“臣弑君可乎？”<br>曰：“贼仁者谓之贼，贼义者谓之残。残贼之人，谓之一夫。闻诛一夫纣矣，未闻弑君也。”」<br>(《孟子·梁惠王下》) </p>\n<p>世界不是非黑即白的，大多数都是灰色。Twitter垃圾，没有充足的证据表明“微博”就比Twitter好。在我的世界里，我从来没见过比微博还厚颜无耻毫无节操和下线的互联网公司。因为到目前为止，能躺着赚钱，绝对不站着。然而我并不觉得民主就比集权好，我也不认为《资本论》不如《国富论》，才疏学浅也不懂什么主义，只是稍微看得懂<strong>「国泰民安」</strong>四个大字，这又是另一个话题了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>我们从小学的课本就开始教育，“香港同胞、宝岛台湾”，供水供电、送钱给资源，换来的大多都是“支那蝗蟲”之类的言语，在我心里汇聚一句“凭什么？！”改变一个人的成见很难，隔阂和误会放任不管只会越来越大，这是基础教育造成的，时间越长越无法挽回。</p>\n<p>“翻墙爱国”两者放在一起本身就是个讽刺，「智者建桥，愚者建墙」，然而很多人根本不懂什么是墙。话说回来，回归不回归于我等屁民何干，不过是“一等洋人二等官，三等少民四等汉”，中间再插入一个“港澳台”罢了。但是骨子里的<strong>「位卑未敢忘忧国」</strong>(【宋】陆游《病起书怀》) 让我「宁为百夫长，胜作一书生。」（【唐】杨炯《从军行》）。</p>\n<p>还是那句话，「不可为而为之」讲的是做事不问可不可能，但问应不应该。当嘉靖问海瑞他奏折里妄谈的那些尧舜禹汤、汉文汉武、唐太宗、宋仁宗都去了哪里时，<strong>即使课本告诉我们历史是“唯物的”，我仍是要说，</strong></p>\n<p><strong>「都在。在史册里，在人心里。」</strong></p>\n<p>当然，即使是「百夫长」，也让我难以望其项背，这又又是另一个话题了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p><strong>历史只告诉我们极少数的人在做些什么，而其他绝大多数人的生活就是不停地挑水耕田。</strong>作为一只无所作为的井底之蛙，我还是在此“妄议”一番，<em>政治做的就是分蛋糕，而科技才能把蛋糕做大，地球资源一定的情况下，资源采集效率和利用率是增产的关键。和平崛起的核心在于科技，而落到基础上则是教育。</em></p>\n<p>你看，谈了半天“利益”，我又绕回到了以“人”为本，离“唯物史观”渐行渐远，但是这又有什么关系呢，对于普通人来说，“唯物”毕竟不能当饭吃。</p>\n<p><strong>“我”</strong>仍然在期盼着“英雄”。</p>\n<p>然而，在公元1700年，全球有将近7亿人。到了1800年，只增加到9.5亿人。但到了1900年，人口增长将近一倍达到16亿。而到了2000年，更是已经翻了两番，达到60亿。在2014年，已经达到足足70亿。了解历史的都知道，这期间人类爆发三次重大的科技革命。</p>\n<p>未来的事，则不是我这凡人说得清、道得明了。多少年后，当我沦为一个统计数字时，我的名字应该叫<strong>「七十亿分之一」</strong>，无功无名，随风而逝，那时候我能想到的应该会有这样一句话，</p>\n<p><strong>「兴，百姓苦；亡，百姓苦。」</strong>（【元】张养浩 《山坡羊·潼关怀古》）</p>\n<p><br><br><br></p>\n","categories":["历史"],"tags":["历史","中国","文化","英雄","感叹","想法","利益"]},{"title":"Apache Kafka安装","url":"https://blog.ykqmain.com/kafka/","content":"<h3 id=\"1-验证Java安装\"><a href=\"#1-验证Java安装\" class=\"headerlink\" title=\"1 验证Java安装\"></a>1 验证Java安装</h3><p><code>java -version</code></p>\n<ol>\n<li>下载JDK</li>\n</ol>\n<p>如果没有下载Java，请通过访问以下链接并下载最新版本来下载最新版本的JDK。</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>\n<p><br></p>\n<ol start=\"2\">\n<li>提取文件</li>\n</ol>\n<p><code>cd /usr/local/java</code></p>\n<p><code>tar -zxvf</code></p>\n<p><br></p>\n<ol start=\"3\">\n<li>设置路径 <code>~/.bashrc</code></li>\n</ol>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> JAVA_HOME =/XXX</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">PATH</span>=<span class=\"variable\">$PATH</span>:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure>\n<p><code>source ~/.bashrc</code></p>\n<p><br></p>\n<ol start=\"4\">\n<li>Java替代(可选)</li>\n</ol>\n<p><code>update-alternatives --install /usr/bin/java java XXX/bin/java 100</code></p>\n<p><br></p>\n<ol start=\"5\">\n<li>验证java</li>\n</ol>\n<p><code>java -version</code></p>\n<p><br></p>\n<ol start=\"6\">\n<li>离线rpm包安装</li>\n</ol>\n<p><code>rpm -ivh *.rpm</code></p>\n<p><br></p>\n<h3 id=\"2-ZooKeeper安装\"><a href=\"#2-ZooKeeper安装\" class=\"headerlink\" title=\"2 ZooKeeper安装\"></a>2 ZooKeeper安装</h3><ol>\n<li>下载</li>\n</ol>\n<p><a href=\"http://zookeeper.apache.org/releases.html#download\" target=\"_blank\" rel=\"noopener\">http://zookeeper.apache.org/releases.html#download</a></p>\n<p><br></p>\n<ol start=\"2\">\n<li>提取tar文件</li>\n</ol>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /opt</span><br><span class=\"line\">tar -zxvf zookeeper<span class=\"number\">-3.4</span><span class=\"number\">.14</span>.tar.gz</span><br><span class=\"line\">cd zookeeper<span class=\"number\">-3.4</span><span class=\"number\">.14</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"3\">\n<li>创建配置文件</li>\n</ol>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /opt/zookeeper-<span class=\"number\">3.4</span>.<span class=\"number\">14</span>/conf</span><br><span class=\"line\">cp zoo_sample<span class=\"selector-class\">.cfg</span> zoo.cfg</span><br><span class=\"line\">chmod <span class=\"number\">664</span> zoo.cfg</span><br></pre></td></tr></table></figure>\n<p>配置<code>zoo.cfg</code></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># the directory where the snapshot is stored.</span></span><br><span class=\"line\"><span class=\"comment\"># do not use /tmp for storage, /tmp here is just </span></span><br><span class=\"line\"><span class=\"comment\"># example sakes.</span></span><br><span class=\"line\"><span class=\"attribute\">dataDir</span>=/var/logs/zookeeper</span><br><span class=\"line\"></span><br><span class=\"line\">server.<span class=\"attribute\">11</span>=10.130.124.171:2888:3888</span><br><span class=\"line\">server.<span class=\"attribute\">12</span>=10.130.124.172:2888:3888</span><br><span class=\"line\">server.<span class=\"attribute\">13</span>=10.130.124.173:2888:3888</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"4\">\n<li>创建myid文件</li>\n</ol>\n<p><code>echo 11 &gt; /var/logs/zookeeper/myid</code></p>\n<p><br></p>\n<ol start=\"5\">\n<li>启动ZooKeeper</li>\n</ol>\n<p><code>/opt/zookeeper-3.4.14/bin/zkServer.sh start</code></p>\n<p><br></p>\n<ol start=\"6\">\n<li>停止</li>\n</ol>\n<p><code>/opt/zookeeper-3.4.14/bin/zkServer.sh stop</code></p>\n<p><br></p>\n<h3 id=\"3-Apache-Kafka安装\"><a href=\"#3-Apache-Kafka安装\" class=\"headerlink\" title=\"3 Apache Kafka安装\"></a>3 Apache Kafka安装</h3><ol>\n<li>下载</li>\n</ol>\n<p><a href=\"https://kafka.apache.org/downloads\" target=\"_blank\" rel=\"noopener\">https://kafka.apache.org/downloads</a></p>\n<p><br></p>\n<ol start=\"2\">\n<li>解压tar文件</li>\n</ol>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /opt</span><br><span class=\"line\">$ tar -zxvf kafka_2<span class=\"number\">.12</span><span class=\"number\">-2.3</span><span class=\"number\">.0</span>.tgz</span><br><span class=\"line\">$ cd kafka_2<span class=\"number\">.12</span><span class=\"number\">-2.3</span><span class=\"number\">.0</span></span><br></pre></td></tr></table></figure>\n<p>配置<code>server.properties</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># The id of the broker. This must be set to a unique integer for each broker.</span><br><span class=\"line\">broker.id=1</span><br><span class=\"line\"></span><br><span class=\"line\">############################# Socket Server Settings #############################</span><br><span class=\"line\"></span><br><span class=\"line\"># The address the socket server listens on. It will get the value returned from </span><br><span class=\"line\"># java.net.InetAddress.getCanonicalHostName() if not configured.</span><br><span class=\"line\">#   FORMAT:</span><br><span class=\"line\">#     listeners = listener_name://host_name:port</span><br><span class=\"line\">#   EXAMPLE:</span><br><span class=\"line\">#     listeners = PLAINTEXT://your.host.name:9092</span><br><span class=\"line\">listeners=PLAINTEXT://:9092</span><br><span class=\"line\"></span><br><span class=\"line\"># Hostname and port the broker will advertise to producers and consumers. If not set, </span><br><span class=\"line\"># it uses the value for \"listeners\" if configured.  Otherwise, it will use the value</span><br><span class=\"line\"># returned from java.net.InetAddress.getCanonicalHostName().</span><br><span class=\"line\">advertised.listeners=PLAINTEXT://10.130.124.171:9092</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">############################# Log Basics #############################</span><br><span class=\"line\"></span><br><span class=\"line\"># A comma separated list of directories under which to store log files</span><br><span class=\"line\">log.dirs=/home/admin/logs/kafka</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># The minimum age of a log file to be eligible for deletion due to age</span><br><span class=\"line\">log.retention.hours=60</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">############################# Zookeeper #############################</span><br><span class=\"line\"></span><br><span class=\"line\"># Zookeeper connection string (see zookeeper docs for details).</span><br><span class=\"line\"># This is a comma separated host:port pairs, each corresponding to a zk</span><br><span class=\"line\"># server. e.g. \"127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002\".</span><br><span class=\"line\"># You can also append an optional chroot string to the urls to specify the</span><br><span class=\"line\"># root directory for all kafka znodes.</span><br><span class=\"line\">zookeeper.connect=10.130.124.171:2181,10.130.124.172:2181,10.130.124.173:2181</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"3\">\n<li>启动服务器</li>\n</ol>\n<p>首先启动ZooKeeper，然后启动kafka，注意相对路径</p>\n<p><code>/opt/zookeeper-3.4.14/bin/zkServer.sh start &amp;</code><br><code>nohup /opt/kafka_2.12-2.3.0/bin/kafka-server-start.sh /opt/kafka_2.12-2.3.0/config/server.properties &amp;</code></p>\n<p>服务器启动后，您会在屏幕上看到以下响应:</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ bin/kafka-server-start<span class=\"selector-class\">.sh</span> config/server.properties</span><br><span class=\"line\">[<span class=\"number\">2016</span>-<span class=\"number\">01</span>-<span class=\"number\">02</span> <span class=\"number\">15</span>:<span class=\"number\">37</span>:<span class=\"number\">30</span>,<span class=\"number\">410</span>] INFO KafkaConfig values:</span><br><span class=\"line\">request<span class=\"selector-class\">.timeout</span><span class=\"selector-class\">.ms</span> = <span class=\"number\">30000</span></span><br><span class=\"line\">log<span class=\"selector-class\">.roll</span><span class=\"selector-class\">.hours</span> = <span class=\"number\">168</span></span><br><span class=\"line\">inter<span class=\"selector-class\">.broker</span><span class=\"selector-class\">.protocol</span><span class=\"selector-class\">.version</span> = <span class=\"number\">0.9</span>.<span class=\"number\">0</span>.X</span><br><span class=\"line\">log<span class=\"selector-class\">.preallocate</span> = false</span><br><span class=\"line\">security<span class=\"selector-class\">.inter</span><span class=\"selector-class\">.broker</span><span class=\"selector-class\">.protocol</span> = PLAINTEXT</span><br><span class=\"line\">…………………………………………….</span><br><span class=\"line\">…………………………………………….</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"4\">\n<li>停止</li>\n</ol>\n<p><code>/opt/kafka_2.12-2.3.0/bin/kafka-server-stop.sh</code></p>\n<p><br></p>\n<h3 id=\"4-Kafka-基本操作\"><a href=\"#4-Kafka-基本操作\" class=\"headerlink\" title=\"4 Kafka 基本操作\"></a>4 Kafka 基本操作</h3><ol>\n<li><p>启动ZooKeeper</p>\n</li>\n<li><p>启动Kafka</p>\n</li>\n<li><p>键入命令 <code>jps</code></p>\n</li>\n</ol>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">821 </span>QuorumPeerMain</span><br><span class=\"line\"><span class=\"symbol\">928 </span>Kafka</span><br><span class=\"line\"><span class=\"symbol\">931 </span>Jps</span><br></pre></td></tr></table></figure>\n<p>现在你可以看到两个守护进程运行在终端上，QuorumPeerMain是ZooKeeper守护进程，另一个是Kafka守护进程。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<ul>\n<li>启动kafka<br><code>nohup /opt/kafka_2.12-2.3.0/bin/kafka-server-start.sh /opt/kafka_2.12-2.3.0/config/server.properties &amp;</code></li>\n</ul>\n<ul>\n<li>创建topic<br><code>/opt/kafka_2.12-2.3.0/bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 3 --partitions 1 --topic test0717</code></li>\n</ul>\n<ul>\n<li>查看topic列表<br><code>/opt/kafka_2.12-2.3.0/bin/kafka-topics.sh --list --zookeeper localhost:2181</code></li>\n</ul>\n<ul>\n<li>创建生产者<br><code>/opt/kafka_2.12-2.3.0/bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test0717</code></li>\n</ul>\n<ul>\n<li><p>创建消费者<br><del>旧命令 ./kafka-console-consumer.sh –zookeeper localhost:2181 –topic test0717 –from-beginning</del><br><code>/opt/kafka_2.12-2.3.0/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test0717 --from-beginning</code></p>\n</li>\n<li><p>topic详情<br><code>/opt/kafka_2.12-2.3.0/bin/kafka-topics.sh --describe --zookeeper localhost:2181 --topic test0717</code></p>\n</li>\n</ul>\n<p><br></p>\n<h3 id=\"5-logstash安装和配置\"><a href=\"#5-logstash安装和配置\" class=\"headerlink\" title=\"5 logstash安装和配置\"></a>5 logstash安装和配置</h3><ol>\n<li><p>logstash安装</p>\n<p><code>yum install logstash-6.2.3.rpm</code></p>\n<ul>\n<li>安装 x-pack</li>\n</ul>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd <span class=\"regexp\">/usr/</span>share<span class=\"regexp\">/logstash/</span>bin</span><br><span class=\"line\"></span><br><span class=\"line\">.<span class=\"regexp\">/logstash-plugin install file:/</span><span class=\"regexp\">//</span>root<span class=\"regexp\">/x-pack-6.2.3.zip</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br></p>\n<ol start=\"2\">\n<li><p>启动</p>\n<ul>\n<li><code>initctl start logstash</code></li>\n<li><p><code>initctl stop logstash</code></p>\n</li>\n<li><p><code>nohup /usr/share/logstash/bin/logstash agent -f /etc/logstash/conf.d/logstash.conf &amp;</code></p>\n</li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<ol start=\"3\">\n<li><p>logstash配置</p>\n<p><code>vim /etc/logstash/conf.d/logstash.conf</code></p>\n<figure class=\"highlight puppet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Sample Logstash configuration for creating a simple</span></span><br><span class=\"line\"><span class=\"comment\"># kafka -&gt; Logstash -&gt; Elasticsearch pipeline.</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">input</span> &#123;</span><br><span class=\"line\"><span class=\"comment\">#  beats &#123;</span></span><br><span class=\"line\"><span class=\"comment\">#    port =&gt; 5044</span></span><br><span class=\"line\"><span class=\"comment\">#  &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  kafka&#123;</span><br><span class=\"line\">    <span class=\"attr\">bootstrap_servers</span> =&gt; <span class=\"string\">\"kafka_IP:9092,kafka_IP:9092,kafka_IP:9092\"</span></span><br><span class=\"line\">    <span class=\"attr\">client_id</span> =&gt; <span class=\"string\">\"devLog-kafka\"</span></span><br><span class=\"line\">    <span class=\"attr\">auto_offset_reset</span> =&gt; <span class=\"string\">\"latest\"</span></span><br><span class=\"line\">    <span class=\"attr\">consumer_threads</span> =&gt; <span class=\"number\">6</span></span><br><span class=\"line\">    <span class=\"attr\">topics</span> =&gt; <span class=\"string\">\"test0717\"</span></span><br><span class=\"line\">    <span class=\"attr\">codec</span> =&gt; <span class=\"string\">\"json\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">output</span> &#123;</span><br><span class=\"line\">  elasticsearch &#123;</span><br><span class=\"line\">    <span class=\"attr\">hosts</span> =&gt; [<span class=\"string\">\"es_IP:9200\"</span>,<span class=\"string\">\"es_IP:9200\"</span>]</span><br><span class=\"line\">    <span class=\"attr\">index</span> =&gt; <span class=\"string\">\"logstash-%&#123;+YYYY.MM.dd&#125;\"</span></span><br><span class=\"line\">    <span class=\"comment\">#user =&gt; \"elastic\"</span></span><br><span class=\"line\">    <span class=\"comment\">#password =&gt; \"changeme\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>vim logstash.yml</code></p>\n<figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># This defaults to the number of the host's CPU cores.</span></span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\">pipeline.workers: <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># log.level: info</span></span><br><span class=\"line\">path.logs: /<span class=\"keyword\">var</span>/log/logstash</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># ------------ X-Pack Settings (not applicable for OSS build)--------------</span></span><br><span class=\"line\"><span class=\"meta\">#</span></span><br><span class=\"line\"><span class=\"meta\"># X-Pack Monitoring</span></span><br><span class=\"line\"><span class=\"meta\"># https://www.elastic.co/guide/en/logstash/current/monitoring-logstash.html</span></span><br><span class=\"line\">xpack.monitoring.enabled: <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"meta\">#xpack.monitoring.elasticsearch.username: logstash_system</span></span><br><span class=\"line\"><span class=\"meta\">#xpack.monitoring.elasticsearch.password: password</span></span><br><span class=\"line\">xpack.monitoring.elasticsearch.hosts: [<span class=\"string\">\"http://10.130.128.108:9200\"</span>,<span class=\"string\">\"http://10.130.128.107:9200\"</span>]</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br></p>\n<h3 id=\"6-开机自启\"><a href=\"#6-开机自启\" class=\"headerlink\" title=\"6 开机自启\"></a>6 开机自启</h3><ol>\n<li><p>zookeeper</p>\n<p><code>cd /etc/init.d/</code></p>\n<p><code>vim zookeeper</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#chkconfig:2345 20 90</span></span><br><span class=\"line\"><span class=\"comment\">#description:zookeeper</span></span><br><span class=\"line\"><span class=\"comment\">#processname:zookeeper</span></span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"variable\">$1</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">          start) </span><br><span class=\"line\">              /opt/zookeeper-3.4.14/bin/zkServer.sh start</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          stop)</span><br><span class=\"line\">              /opt/zookeeper-3.4.14/bin/zkServer.sh stop</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          status)</span><br><span class=\"line\">              /opt/zookeeper-3.4.14/bin/zkServer.sh status</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          restart)</span><br><span class=\"line\">              /opt/zookeeper-3.4.14/bin/zkServer.sh restart</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          *)</span><br><span class=\"line\">              <span class=\"built_in\">echo</span> <span class=\"string\">\"require start|stop|status|restart\"</span></span><br><span class=\"line\">              ;;</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li><p>权限<br><code>chmod 755 zookeeper</code></p>\n</li>\n<li><p>测试命令<br><code>service zookeeper status</code></p>\n</li>\n<li><p>添加到服务列表<br><code>chkconfig --add zookeeper</code></p>\n</li>\n<li><p>验证<br><code>chkconfig --list</code></p>\n</li>\n<li><p>设置为开机启动<br><code>chkconfig zookeeper on</code></p>\n</li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<ol start=\"2\">\n<li><p>kafka</p>\n<p><code>vim kafka</code></p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#chkconfig:2345 20 90</span></span><br><span class=\"line\"><span class=\"comment\">#description:kafka</span></span><br><span class=\"line\"><span class=\"comment\">#processname:kafka</span></span><br><span class=\"line\">case <span class=\"variable\">$1</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">          start) </span><br><span class=\"line\">              <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/bin/</span>kafka-server-start.sh -daemon <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/config/</span>server.properties</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          stop)</span><br><span class=\"line\">              <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/bin/</span>kafka-server-stop.sh</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          status)</span><br><span class=\"line\">              jps</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          restart)</span><br><span class=\"line\">              <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/bin/</span>kafka-server-stop.sh</span><br><span class=\"line\">              <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/bin/</span>kafka-server-start.sh -daemon <span class=\"regexp\">/opt/</span>kafka_2.<span class=\"number\">12</span>-<span class=\"number\">2.3</span>.<span class=\"number\">0</span><span class=\"regexp\">/config/</span>server.properties</span><br><span class=\"line\">              ;;</span><br><span class=\"line\">          *)</span><br><span class=\"line\">              echo <span class=\"string\">\"require start|stop|status|restart\"</span></span><br><span class=\"line\">              ;;</span><br><span class=\"line\">esac</span><br></pre></td></tr></table></figure>\n<ul>\n<li><strong>后续同上</strong></li>\n</ul>\n</li>\n</ol>\n<p><br><br><br></p>\n","categories":["计算机"],"tags":["Linux","Apache","Kafka","分布式","日志","ELK"]},{"title":"Debian从0到0.1","url":"https://blog.ykqmain.com/linux/","content":"<p>最近活动买了个阿里云玩玩，大一的时候折腾过Windows和Ubuntu桌面版双系统，后来换了Mac，接触的Linux服务器一直是CentOS，所以这次想尝试一下Debian练练手。</p>\n<p>拿到一个新的Linux机器，应该怎么玩？本文想从头记录Debian的折腾过程，</p>\n<p>生命在于折腾。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">本机：</span><br><span class=\"line\"><span class=\"selector-tag\">macOS</span> 10<span class=\"selector-class\">.14</span><span class=\"selector-class\">.4</span></span><br><span class=\"line\">终端<span class=\"selector-class\">.app</span></span><br><span class=\"line\"><span class=\"selector-tag\">Cyberduck</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">Windows</span> 10</span><br><span class=\"line\"><span class=\"selector-tag\">Xshell</span></span><br><span class=\"line\"><span class=\"selector-tag\">Xftp</span></span><br><span class=\"line\"></span><br><span class=\"line\">服务器：</span><br><span class=\"line\"><span class=\"selector-tag\">Debian</span> 9<span class=\"selector-class\">.8</span> <span class=\"selector-tag\">x64</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"登录\"><a href=\"#登录\" class=\"headerlink\" title=\"登录\"></a>登录</h2><p><code>ssh user@IP -p port</code></p>\n<p><br></p>\n<h2 id=\"版本和名字\"><a href=\"#版本和名字\" class=\"headerlink\" title=\"版本和名字\"></a>版本和名字</h2><ol>\n<li><p>查看Linux内核版本</p>\n<ul>\n<li><p><code>cat /proc/version</code></p>\n<ul>\n<li><code>Linux version 4.9.0-9-amd64 (debian-kernel@lists.debian.org) (gcc version 6.3.0 20170516 (Debian 6.3.0-18+deb9u1) ) #1 SMP Debian 4.9.168-1 (2019-04-12)</code></li>\n</ul>\n</li>\n<li><p><code>uname -a</code></p>\n<ul>\n<li><code>Linux Anna2 4.9.0-9-amd64 #1 SMP Debian 4.9.168-1 (2019-04-12) x86_64 GNU/Linux</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>查看Linux系统版本</p>\n<ul>\n<li><p><code>lsb_release -a</code></p>\n  <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"literal\">No</span> <span class=\"string\">LSB</span> <span class=\"string\">modules</span> <span class=\"string\">are</span> <span class=\"string\">available.</span></span><br><span class=\"line\"><span class=\"string\">Distributor</span> <span class=\"attr\">ID:</span>\t<span class=\"string\">Debian</span></span><br><span class=\"line\"><span class=\"attr\">Description:</span>\t<span class=\"string\">Debian</span> <span class=\"string\">GNU/Linux</span> <span class=\"number\">9.8</span> <span class=\"string\">(stretch)</span></span><br><span class=\"line\"><span class=\"attr\">Release:</span>\t<span class=\"number\">9.8</span></span><br><span class=\"line\"><span class=\"attr\">Codename:</span>\t<span class=\"string\">stretch</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><code>cat /etc/issue</code></p>\n</li>\n<li><code>cat /etc/redhat-release</code> (红帽系，RHEL、CentOS)</li>\n</ul>\n</li>\n<li><p>修改机器名</p>\n<ul>\n<li><p>查看</p>\n<ul>\n<li><code>hostnamectl</code></li>\n</ul>\n</li>\n<li><p>修改</p>\n<ul>\n<li><code>hostnamectl set-hostname Anna2</code></li>\n<li><code>vim /etc/hostname</code></li>\n<li><code>vim /etc/hosts</code></li>\n</ul>\n</li>\n<li><p>重启</p>\n<ul>\n<li><code>reboot</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"ssh免密登录\"><a href=\"#ssh免密登录\" class=\"headerlink\" title=\"ssh免密登录\"></a>ssh免密登录</h2><ol>\n<li><p>apt包管理 (.DEB)</p>\n<ul>\n<li>macOS有<code>brew</code>, CentOS有<code>yum</code>, Debian/Ubuntu有<code>apt-get</code></li>\n<li>一般来说，也许Red Hat系和Debian系的差别，也就是<code>yum</code>和<code>apt-get</code>的差别了。</li>\n<li>apt-get, apt, aptitude三者有区别，但是大体来说差别不大。我倾向于用<code>apt</code>，因为它输入最方便。</li>\n<li>常用命令：<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt search  搜索包</span><br><span class=\"line\">apt show  显示包的信息</span><br><span class=\"line\">apt install  安装</span><br><span class=\"line\">apt <span class=\"builtin-name\">remove</span>  移除</span><br><span class=\"line\">apt purge  移除软件和配置文件</span><br><span class=\"line\">apt update  更新源</span><br><span class=\"line\">apt<span class=\"built_in\"> upgrade </span> 升级所有可升级的软件包</span><br><span class=\"line\">apt list  列出包含条件的包（已安装，可升级等）</span><br><span class=\"line\">apt autoremove  自动删除不需要的包</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>准备工作</p>\n<ul>\n<li>更新源，<code>apt update</code></li>\n<li>升级软件，<code>apt upgrade</code></li>\n<li>安装build工具，<code>apt install build-essential</code> (CentOS有<code>yum groupinstall &quot;Development Tools&quot;</code>)</li>\n</ul>\n</li>\n<li><p>ssh</p>\n<ol>\n<li><p>生成<code>ssh keys</code>，请参考<a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\" target=\"_blank\" rel=\"noopener\">Generating a new SSH key</a> 或者 <a href=\"http://git-scm.com/book/zh/v2/服务器上的-Git-生成-SSH-公钥\" target=\"_blank\" rel=\"noopener\">Git-生成-SSH-公钥</a></p>\n</li>\n<li><p>上传公钥<code>id_rsa.pub</code>到服务器的<code>~/.ssh</code>目录</p>\n<ul>\n<li>可以用SFTP</li>\n<li>可以用lrzsz，<code>apt install lrzsz</code>，安装好之后，输入<code>rz</code>会弹出上传窗口。</li>\n</ul>\n</li>\n<li><p>写入<code>authorized_keys</code></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cat id_rsa<span class=\"selector-class\">.pub</span> &gt;&gt; authorized_keys</span><br><span class=\"line\">chmod <span class=\"number\">700</span> ~/.ssh</span><br><span class=\"line\">chmod <span class=\"number\">644</span> ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>修改ssh配置文件</p>\n<ul>\n<li><p><code>vim /etc/ssh/sshd_config</code></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">port</span>    <span class=\"comment\"># 修改为任意，我设置为1024。</span></span><br><span class=\"line\"><span class=\"string\">PermitRootLogin</span> <span class=\"literal\">yes</span>    <span class=\"comment\"># 开发机器，用root方便。配置其他管理员用户，权限命令需要sudo或者su切换用户。</span></span><br><span class=\"line\"><span class=\"string\">PubkeyAuthentication</span> <span class=\"literal\">yes</span></span><br><span class=\"line\"><span class=\"string\">AuthorizedKeysFile</span>  <span class=\"string\">.ssh/authorized_keys</span> <span class=\"string\">.ssh/authorized_keys2</span></span><br><span class=\"line\"><span class=\"string\">PasswordAuthentication</span> <span class=\"literal\">no</span>    <span class=\"comment\"># 禁止密码登陆</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>重启sshd服务，<code>systemctl restart sshd.service</code></p>\n</li>\n<li><p>阿里云还有坑，它自带一个<code>安全组规则</code>，ssh更改端口之后，必须在那里也开启<code>相应的入方向tcp端口</code>，我开启了用于ssh的1024端口，顺便配置了用于http的1126端口（因为A解析不备案也无法访问，所以就用<code>IP:port</code>直接访问了。）</p>\n</li>\n<li><p>重启机器后再测试能不能免密登录，<code>reboot</code></p>\n</li>\n</ol>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"配置终端\"><a href=\"#配置终端\" class=\"headerlink\" title=\"配置终端\"></a>配置终端</h2><p>ssh上去就是终端，整天跟它打交道，必须要趁手，</p>\n<ol>\n<li><p>安装几个工具</p>\n<ul>\n<li><p><code>apt install XXX</code></p>\n<ul>\n<li><code>p7zip</code></li>\n<li><code>git</code></li>\n<li><code>tree</code></li>\n<li><code>dos2unix</code></li>\n<li><code>pip3</code>, Debian9自带Python3.5，但是没有pip3，使用<code>apt install python3-pip</code>安装。</li>\n</ul>\n</li>\n<li><p>pip3</p>\n<ul>\n<li>Requests<br><br></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<ol start=\"2\">\n<li><p>安装oh-my-zsh (可选的，服务器很卡，bash也能用)</p>\n<ol>\n<li>安装zsh，<code>apt install zsh</code></li>\n<li>安装oh-my-zsh，<code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</code></li>\n<li>配置<code>.zshrc</code>，我把本地的配置文件传上去，稍作修改。</li>\n<li><p>因为这是配置好了的文件，要先把主题和插件准备好了之后再source。</p>\n<ul>\n<li><p>自定义preference主题，将本地的<code>preference.zsh-theme</code>上传到<code>~/.oh-my-zsh/custom/themes</code>，稍作修改。</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Copied and modified from the oh-my-zsh theme from clean</span></span><br><span class=\"line\"></span><br><span class=\"line\">if [ $UID -eq 0 ]; then NCOLOR=\"red\"; else NCOLOR=\"white\"; fi</span><br><span class=\"line\"><span class=\"comment\"># 如果UID等于0(root)，则为红色，否则为白色</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">local</span> ret_status=<span class=\"string\">\"%(?:%&#123;<span class=\"variable\">$fg</span>[green]%&#125;%B&gt;%b :%&#123;<span class=\"variable\">$fg</span>[red]%&#125;%B&gt;%b )\"</span></span><br><span class=\"line\"><span class=\"comment\"># 命令正确则为绿色，否则为红色</span></span><br><span class=\"line\"></span><br><span class=\"line\">PROMPT=<span class=\"string\">'%&#123;<span class=\"variable\">$fg</span>[<span class=\"variable\">$NCOLOR</span>]%&#125;%n%&#123;<span class=\"variable\">$reset_color</span>%&#125;@%&#123;<span class=\"variable\">$fg</span>[white]%&#125;%m%&#123;<span class=\"variable\">$reset_color</span>%&#125;:%&#123;<span class=\"variable\">$fg</span>[blue]%&#125;%B%c%b%&#123;<span class=\"variable\">$reset_color</span>%&#125;$(git_prompt_info) <span class=\"variable\">$&#123;ret_status&#125;</span>'</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 颜色</span></span><br><span class=\"line\"><span class=\"comment\"># black, red, green, yellow, blue, magenta, cyan, white</span></span><br><span class=\"line\"><span class=\"comment\"># 黑，红，绿，黄，蓝，洋红(紫)，青色，白色</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># --------------------- </span></span><br><span class=\"line\"><span class=\"comment\"># %n  你的用户名</span></span><br><span class=\"line\"><span class=\"comment\"># %M  计算机的主机名</span></span><br><span class=\"line\"><span class=\"comment\"># %m  计算机的主机名（在第一个句号之前截断）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># %d  你目前的工作目录</span></span><br><span class=\"line\"><span class=\"comment\"># %~  你目前的工作目录相对于～的相对路径</span></span><br><span class=\"line\"><span class=\"comment\"># %l  你当前的tty</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># %T  系统时间（时：分）</span></span><br><span class=\"line\"><span class=\"comment\"># %*  系统时间（时：分：秒）</span></span><br><span class=\"line\"><span class=\"comment\"># %D  系统日期（年-月-日）</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># %B - %b 开始到结束使用粗体打印</span></span><br><span class=\"line\"><span class=\"comment\"># %U - %u 开始到结束使用下划线打印</span></span><br><span class=\"line\"><span class=\"comment\"># --------------------- </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># git theming</span></span><br><span class=\"line\">ZSH_THEME_GIT_PROMPT_PREFIX=<span class=\"string\">\"%&#123;<span class=\"variable\">$fg_bold</span>[white]%&#125;(%&#123;<span class=\"variable\">$fg_bold</span>[yellow]%&#125;%B\"</span></span><br><span class=\"line\">ZSH_THEME_GIT_PROMPT_SUFFIX=<span class=\"string\">\"%b%&#123;<span class=\"variable\">$fg_bold</span>[white]%&#125;)%&#123;<span class=\"variable\">$reset_color</span>%&#125;\"</span></span><br><span class=\"line\">ZSH_THEME_GIT_PROMPT_CLEAN=<span class=\"string\">\"%&#123;<span class=\"variable\">$fg_bold</span>[green]%&#125; ✔\"</span></span><br><span class=\"line\">ZSH_THEME_GIT_PROMPT_DIRTY=<span class=\"string\">\"%&#123;<span class=\"variable\">$fg_bold</span>[red]%&#125; ✗\"</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>下载相关插件</p>\n<ul>\n<li><a href=\"https://github.com/zsh-users/zsh-syntax-highlighting\" target=\"_blank\" rel=\"noopener\">zsh-syntax-highlighting</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/zsh-users/zsh-autosuggestions\" target=\"_blank\" rel=\"noopener\">zsh-autosuggestions</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/zsh-users/zsh-completions\" target=\"_blank\" rel=\"noopener\">zsh-completions</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-completions ~/.oh-my-zsh/custom/plugins/zsh-completions</code></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/zsh-users/zsh-history-substring-search\" target=\"_blank\" rel=\"noopener\">zsh-history-substring-search</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-history-substring-search ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-history-substring-search</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><code>source .zshrc</code>，oh-my-zsh就配置好了。<br><br></p>\n</li>\n</ol>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>配置Vim</p>\n<p> oh-my-zsh是平台，Vim就是双手。</p>\n<ul>\n<li><p>开启终端鼠标复制</p>\n<ul>\n<li><code>vim /etc/vim/vimrc</code> (<code>vim /usr/share/vim/vim80/defaults.vim</code> 70行)</li>\n<li><code>set mouse=c</code></li>\n</ul>\n</li>\n<li><p>上传本地<code>.vimrc</code>到服务器，稍作修改</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\" Configuration file for vim</span><br><span class=\"line\"><span class=\"keyword\">set</span> modelines=<span class=\"number\">0</span>\t\t<span class=\"string\">\" CVE-2007-2438</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">\"</span> Normally we <span class=\"keyword\">use</span> vim-extensions. <span class=\"keyword\">If</span> you want <span class=\"literal\">true</span> vi-<span class=\"keyword\">compatibility</span></span><br><span class=\"line\"><span class=\"string\">\" remove change the following statements</span></span><br><span class=\"line\"><span class=\"string\">set nocompatible\t\"</span> <span class=\"keyword\">Use</span> Vim <span class=\"keyword\">defaults</span> instead <span class=\"keyword\">of</span> <span class=\"number\">100</span>% vi <span class=\"keyword\">compatibility</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> backspace=<span class=\"number\">2</span>\t\t<span class=\"string\">\" more powerful backspacing</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">\"</span> Don<span class=\"string\">'t write backup file if vim is being called by \"crontab -e\"</span></span><br><span class=\"line\"><span class=\"string\">au BufWrite /private/tmp/crontab.* set nowritebackup nobackup</span></span><br><span class=\"line\"><span class=\"string\">\" Don'</span>t write <span class=\"keyword\">backup</span> <span class=\"keyword\">file</span> <span class=\"keyword\">if</span> vim <span class=\"keyword\">is</span> being called <span class=\"keyword\">by</span> <span class=\"string\">\"chpass\"</span></span><br><span class=\"line\">au BufWrite /<span class=\"keyword\">private</span>/etc/pw.* <span class=\"keyword\">set</span> nowritebackup nobackup</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">set</span> fileencodings=utf<span class=\"number\">-8</span>,gb18030</span><br><span class=\"line\"><span class=\"keyword\">set</span> termencoding=utf<span class=\"number\">-8</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> <span class=\"keyword\">encoding</span>=utf<span class=\"number\">-8</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">set</span> <span class=\"built_in\">number</span></span><br><span class=\"line\">syntax <span class=\"keyword\">on</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">set</span> tabstop=<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> expandtab</span><br><span class=\"line\"><span class=\"keyword\">set</span> softtabstop=<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> shiftwidth=<span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"keyword\">set</span> smartindent</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Vim常用操作</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">esc    从编辑模式切换到命令模式</span><br><span class=\"line\"></span><br><span class=\"line\">a      切换到编辑模式，在光标后插入</span><br><span class=\"line\">o      切换到编辑模式，在光标下一行插入</span><br><span class=\"line\"></span><br><span class=\"line\">v      可视模式</span><br><span class=\"line\">r      取代模式</span><br><span class=\"line\"> </span><br><span class=\"line\">命令模式下：</span><br><span class=\"line\">Ctrl+b 向上翻页</span><br><span class=\"line\">Ctrl+d 向下翻页</span><br><span class=\"line\">/      光标之后搜索</span><br><span class=\"line\">?      光标之前搜索</span><br><span class=\"line\"></span><br><span class=\"line\">n&lt;space&gt; 光标向右移动n个字符</span><br><span class=\"line\">n&lt;Enter&gt; 光标向下移动n行</span><br><span class=\"line\"><span class=\"number\">0</span>      光标移到行首</span><br><span class=\"line\"><span class=\"variable\">$ </span>     光标移到行尾</span><br><span class=\"line\"></span><br><span class=\"line\">G      跳至文件末尾</span><br><span class=\"line\">ggdG   清空内容，光标移动到首字符，删除到尾部</span><br><span class=\"line\"></span><br><span class=\"line\">u      撤销操作</span><br><span class=\"line\">Ctrl+r 重做上一个动作</span><br><span class=\"line\"></span><br><span class=\"line\">d      剪切</span><br><span class=\"line\">dd     删除光标那一行字符</span><br><span class=\"line\">dw     删除当前光标所在位置到单词尾字符</span><br><span class=\"line\">d<span class=\"number\">0</span>     删除光标到行首的字符</span><br><span class=\"line\">d<span class=\"variable\">$ </span>    删除光标到行尾的字符</span><br><span class=\"line\">y      复制</span><br><span class=\"line\">y2     复制单词</span><br><span class=\"line\">p      粘贴（将已复制的数据在光标下一行粘贴）</span><br><span class=\"line\">x      删除当前光标所在处的字符（向后删除一个字符）</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">:wq</span>    保存退出</span><br><span class=\"line\"><span class=\"symbol\">:q</span>     退出</span><br><span class=\"line\"><span class=\"symbol\">:q!</span>    强制退出</span><br><span class=\"line\"><span class=\"symbol\">:w</span> [filename] 将编辑的数据另存为</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"配置防火墙\"><a href=\"#配置防火墙\" class=\"headerlink\" title=\"配置防火墙\"></a>配置防火墙</h2><p>CentOS7已经默认使用Firewalld了，Firewalld的防火墙本质上是建立在原生的iptable防火墙之上的抽象层，再加上Firewalld默认关闭所有端口，需要哪个开哪个，以及命令也比较灵活，所以在Debian上我也想用Firewalld。</p>\n<ol>\n<li><p>安装</p>\n<ul>\n<li><code>apt install firewalld</code></li>\n<li><code>firewall-cmd --version</code> 查看版本</li>\n</ul>\n</li>\n<li><p>启动</p>\n<ul>\n<li><code>systemctl start firewalld</code> 启动</li>\n<li><code>systemctl enable firewalld</code> 开机启动</li>\n<li><code>firewall-cmd --state</code> 运行状态</li>\n<li><code>systemctl status firewalld</code> 查看FirewallD守护进程的状态</li>\n</ul>\n</li>\n<li><p>使用</p>\n<p> Firewalld的配置可通过三种方式：</p>\n <figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-<span class=\"keyword\">cmd</span><span class=\"bash\">    <span class=\"comment\"># 命令行的用户接口，常用</span></span></span><br><span class=\"line\"><span class=\"bash\">/etc/firewalld/    <span class=\"comment\"># 目录下的xml文件，编辑xml文件实现firewall的配置</span></span></span><br><span class=\"line\"><span class=\"bash\">firewall-config    <span class=\"comment\"># 图形界面接口，终端上无法使用</span></span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>服务和端口</p>\n<p> 默认支持的服务的配置文件位于<code>/usr/lib/firewalld/services</code>，用户创建的服务文件在<code>/etc/firewalld/services</code>中。</p>\n<ul>\n<li><code>firewall-cmd --list-all</code> 列出配置的所有防火墙规则</li>\n<li><code>firewall-cmd --get-services</code> 查看启用的所有服务的列表</li>\n<li><code>firewall-cmd --add-service=http --permanent</code> 启用http服务</li>\n<li><code>firewall-cmd --add-port=1024/tcp --permanent</code> 启用tcp端口1024</li>\n<li><code>firewall-cmd --add-port=5000-5200/udp --permanent</code> 启用udp端口一个地址段</li>\n<li><code>firewall-cmd --reload</code> 重新加载 FirewallD 配置</li>\n<li>禁用服务或端口，将add改为<code>remove</code></li>\n</ul>\n</li>\n<li><p>区域管理</p>\n<p> “区域”是针对给定位置或场景（例如家庭、公共、受信任等）可能具有的各种信任级别的预构建规则集。不同的区域允许不同的网络服务和入站流量类型，而拒绝其他任何流量。 首次启用 FirewallD 后，public 将是默认区域。</p>\n<ul>\n<li><code>firewall-cmd --get-default-zone</code> 默认区域</li>\n<li><code>firewall-cmd --set-default-zone=internal</code> 修改默认区域</li>\n<li><code>firewall-cmd --zone=public --list-all</code> 得到特定区域的所有配置</li>\n<li><code>firewall-cmd --list-all-zones</code> 得到所有区域的配置</li>\n<li><code>firewall-cmd --zone=public --add-port=12345/tcp --permanent</code> 启用特定区域的端口</li>\n</ul>\n</li>\n</ol>\n<p>与阿里云安全组规则对应，我开启了<code>22/tcp 1024/tcp 1126/tcp</code>四个端口，每次配置之后，运行<code>firewall-cmd --reload</code> 重新加载FirewallD使其生效。</p>\n<p><br></p>\n<h2 id=\"Systemd\"><a href=\"#Systemd\" class=\"headerlink\" title=\"Systemd\"></a>Systemd</h2><p>不知道从何时开始，发现Systemd真的很方便用于系统服务管理。</p>\n<ol>\n<li><p>systemctl</p>\n<p> <code>systemctl</code>是Systemd的主命令，用于管理系统。</p>\n<ol>\n<li><p>检查</p>\n<ul>\n<li><code>systemctl --version</code></li>\n<li><code>whereis systemd</code> 安装位置</li>\n<li><code>whereis systemctl</code></li>\n</ul>\n</li>\n<li><p>使用</p>\n<ul>\n<li><code>systemctl list-unit-files</code> 列出所有可用单元</li>\n<li><code>systemctl list-units</code> 列出所有运行中单元</li>\n<li><p><code>systemctl --failed</code> 列出所有失败单元</p>\n</li>\n<li><p><code>systemctl list-unit-files --type=service</code> 列出所有服务（包括启用的和禁用的）  </p>\n</li>\n<li><code>systemctl is-active nginx.service</code> 查看服务是否运行</li>\n<li><code>systemctl is-enabled nginx</code> 查看服务是否设置为开机启动（不带后缀默认就是<code>.service</code>单元，其他的单元比如<code>.mount .sockets .device .target</code>都必须指定类型）</li>\n<li><code>systemctl status firewalld.service</code> 检查某个单元或服务状态</li>\n</ul>\n</li>\n<li><p>管理</p>\n<ul>\n<li><code>systemctl status httpd.service</code> 检查状态</li>\n<li><code>systemctl start httpd.service</code> 启动</li>\n<li><code>systemctl reload httpd.service</code> 重载</li>\n<li><code>systemctl restart httpd.service</code> 重启</li>\n<li><code>systemctl stop httpd.service</code> 停止</li>\n<li><code>systemctl show httpd</code> 检查某个服务的所有配置细节</li>\n<li><code>systemctl kill httpd</code> 杀死服务</li>\n</ul>\n</li>\n<li><p>开机自启</p>\n<ul>\n<li><code>systemctl is-active httpd.service</code> 激活服务</li>\n<li><code>systemctl enable httpd.service</code> 开机自启</li>\n<li><code>systemctl disable httpd.service</code> 禁用</li>\n</ul>\n</li>\n<li><p>管理套接口<br> 与服务类似。</p>\n<ul>\n<li><code>systemctl list-unit-files --type=socket</code> 列出所有可用系统套接口</li>\n<li><code>systemctl status cups.socket</code></li>\n<li><code>systemctl start cups.socket</code></li>\n<li><code>systemctl reload cups.socket</code></li>\n<li><code>systemctl restart cups.socket</code></li>\n<li><code>systemctl stop cups.socket</code><br><br></li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p><code>hostnamectl</code> 查看当前主机的信息，最开始用过。</p>\n</li>\n<li><p><code>localectl</code> 查看本地化设置</p>\n</li>\n<li><p><code>timedatectl</code> 查看当前时区设置</p>\n</li>\n<li><p><code>loginctl</code> 查看当前登录的用户</p>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"LNMP环境\"><a href=\"#LNMP环境\" class=\"headerlink\" title=\"LNMP环境\"></a>LNMP环境</h2><p>LNMP代表的就是，<code>Linux+Nginx+MySQL/MariaDB+PHP/Python/Perl</code>这种网站服务器架构。</p>\n<ol>\n<li><p>Nginx安装</p>\n<ol>\n<li><p>安装</p>\n<ul>\n<li><code>apt install nginx</code></li>\n</ul>\n</li>\n<li><p>启动</p>\n<ul>\n<li><code>whereis nginx</code> 查看位置</li>\n<li><code>/etc/nginx/nginx.conf</code> 配置文件</li>\n<li><code>/etc/nginx/sites-enabled/</code>，修改<code>default</code>文件中的端口为<code>1126</code>。</li>\n<li><code>systemctl start nginx</code> 启动nginx</li>\n<li><code>systemctl enable nginx</code> 开机自启</li>\n<li><code>systemctl status nginx</code> 查看状态</li>\n<li><code>systemctl restart nginx</code> 重启Nginx</li>\n</ul>\n</li>\n<li><p>检查<br> 在浏览器输入<code>IP:port</code>访问网址，有<code>Welcome to nginx!</code>则成功。<br> 网站根目录，<code>/var/www/html</code><br><br></p>\n</li>\n</ol>\n</li>\n<li><p>MySQL安装</p>\n<ol>\n<li><p>安装</p>\n<ul>\n<li><code>apt install mysql-server</code></li>\n<li><code>apt install mysql-client</code></li>\n</ul>\n</li>\n<li><p>检查</p>\n<ul>\n<li><code>mysql --version</code> 发现安装的实际是MariaDB，早已听闻开源界和Oracle的爱恨情仇。由于两者的兼容性，我也不想更换了，正好可以尝试一下MariaDB。(如果想非MySQL不可，可以<a href=\"https://dev.mysql.com/downloads/repo/apt/\" target=\"_blank\" rel=\"noopener\">离线安装</a>)</li>\n</ul>\n</li>\n<li><p>登录</p>\n<ul>\n<li><code>mysql -u root -p</code></li>\n</ul>\n</li>\n<li><p><code>/etc/mysql/my.cnf</code></p>\n <figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[client]</span></span><br><span class=\"line\"><span class=\"attr\">default-character-set</span>=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysql]</span></span><br><span class=\"line\"><span class=\"attr\">default-character-set</span>=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysqld]</span></span><br><span class=\"line\"><span class=\"attr\">character-set-server</span>=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">bind-address</span> = <span class=\"number\">0.0</span>.<span class=\"number\">0.0</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>远程登录（开启端口）</p>\n<ul>\n<li><code>grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;密码&#39;;</code></li>\n<li><code>flush privileges;</code><br><br></li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p>其他</p>\n<p> 后端不太想用PHP，Debian自带Python3和perl。</p>\n<p> <strong>至此，一个基础的Linux环境就弄好了。由此来看，也许Red Hat系和Debian系真的就是<code>yum</code>和<code>apt-get</code>的差别了。可以暂告一段落，再看后面怎么折腾。</strong></p>\n<p> <strong>注：</strong> perl运行准备</p>\n<ul>\n<li><code>echo &quot;export LC_ALL=C&quot; &gt;&gt; /root/.bashrc</code></li>\n<li><code>source /root/.bashrc</code></li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"搭建GitLab\"><a href=\"#搭建GitLab\" class=\"headerlink\" title=\"搭建GitLab\"></a>搭建GitLab</h2><p><br><br></p>\n","categories":["计算机"],"tags":["Linux","Debian","服务器","Apache","Nginx","MySQL","MariaDB","Python","Java","Git","Django"]},{"title":"动画世界","url":"https://blog.ykqmain.com/donghua/","content":"<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/donghua/1.jpg!xsy\" alt=\"\"></p>\n<p>很多时候，有着对动画世界的无限向往，看完一部动画，除了感叹一句“太美好了！”之外，还能给内心的一时愉悦，就像进入了一个新的时空，体验一段不一样的人生。总要回味良久，或悲伤不能自拔，或热血自我代入。搜集着各种美图壁纸，去各个论坛讨论一番，买两个周边，最喜爱的行为莫过于换个“头像”了。</p>\n<p>动画里的人物，似乎不用为了衣食住行而担忧，有良辰、有美景，还有最好的伙伴、以及那个不离不弃的她，美好得令人心碎。</p>\n<p><strong>即使有今生的遗憾，却还有来世的希望。</strong></p>\n<p>而我等小人物却为衣食住行奔波一生，渺小且孤独的存在着，淹没在历史的长河中。也许唯一能做的只是在失落之时、仰望星空之余，还可以感叹一句，「天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。」</p>\n<p>思维小小的驻足之后，还得抓紧时间回到生活，为了一点蝇头小利、残羹冷炙争个头破血流。</p>\n<p>还特么的无可奈何。</p>\n<p>现在是不会再花心思到处搜集图片了，一个个论坛也基本沦陷，没有立足之处。之前知名大厂Autodesk的SketchBook完全免费了，联想到了同为Autodesk的3ds Max，初中买了一本它的教程，那个价格对当时的我来说，无疑是天价，但我当时并不心疼，因为它承载了我的梦想。 但是现在的我很心痛，因为我对不起它。</p>\n<p>能为梦想而坚持，不为社会左右，真是幸福美满且令人羡慕的人生啊。</p>\n<p><strong>万物皆有所待，我仍找不到属于自己的世界。</strong></p>\n<p>与初心相背，为自己的无能找个借口，躺在这一方“桃花源”，独善其身，无功无名，碌碌而终。</p>\n<p>也许碌碌无为并没有什么不好，有多大的能力做多大的事，身体健康，家庭和睦，关心且只关心那些在意的人和事。「会桃花之芳园，序天伦之乐事。」</p>\n<p>也许<strong>人生不是为了做出多么杰出的贡献，而是感受到生活的快乐。</strong>思考人生的意义，会发现一切都变得毫无意义。</p>\n<p>努力而无憾，在需要的时候，能够来一份「精神食粮」，足矣。</p>\n<p>只是从前的那些美好时光，以及亲密无间的小伙伴们，再也不会有了。</p>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","动画","随笔","感想"]},{"title":"Flask实践","url":"https://blog.ykqmain.com/flask/","content":"<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">开发环境</span><br><span class=\"line\"><span class=\"selector-tag\">Python</span> 3<span class=\"selector-class\">.7</span><span class=\"selector-class\">.2</span></span><br><span class=\"line\"><span class=\"selector-tag\">Flask</span> 1<span class=\"selector-class\">.0</span><span class=\"selector-class\">.2</span></span><br><span class=\"line\"></span><br><span class=\"line\">本机</span><br><span class=\"line\"><span class=\"selector-tag\">macOS</span> 10<span class=\"selector-class\">.14</span><span class=\"selector-class\">.3</span></span><br><span class=\"line\"></span><br><span class=\"line\">远程</span><br><span class=\"line\"><span class=\"selector-tag\">Linux</span> <span class=\"selector-tag\">version</span> 4<span class=\"selector-class\">.14</span><span class=\"selector-class\">.77-81</span><span class=\"selector-class\">.59</span><span class=\"selector-class\">.amzn2</span><span class=\"selector-class\">.x86_64</span></span><br><span class=\"line\"></span><br><span class=\"line\">其他软件</span><br><span class=\"line\"><span class=\"selector-tag\">Atom</span> <span class=\"selector-tag\">Editor</span> 1<span class=\"selector-class\">.34</span></span><br><span class=\"line\"><span class=\"selector-tag\">Postman</span> 6<span class=\"selector-class\">.7</span><span class=\"selector-class\">.2</span></span><br></pre></td></tr></table></figure>\n<p>学完了Python，就开始Flask实践。</p>\n<p><br></p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><ol>\n<li><p>虚拟环境</p>\n<p> 在虚拟环境安装私有包，保持全局的干净整洁。</p>\n<p> <code>新建一个文件夹</code></p>\n<p> 创建虚拟环境：</p>\n<p> <code>python3 -m venv hello</code><br><br></p>\n</li>\n<li><p>激活虚拟环境</p>\n<p> <code>source hello/bin/activate</code></p>\n<p> 激活虚拟环境后会修改命令提示符，加入环境名<code>(venv) $</code>，在虚拟环境中使用<code>python3</code>命令，调用的是虚拟环境中的解释器。<br><br></p>\n</li>\n<li><p>安装Python包</p>\n<p> 使用pip命令安装Python包，<code>pip3 install XXX</code></p>\n<p> 使用<code>pip3 freeze</code>查看安装了哪些包，生成<code>requirements.txt</code>文件，<code>pip3 freeze &gt;requirements.txt</code></p>\n<p> 安装所有需求包，<code>pip3 install -r requirements.txt</code></p>\n<p> 安装Flask，<code>pip3 install flask</code></p>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"基本结构\"><a href=\"#基本结构\" class=\"headerlink\" title=\"基本结构\"></a>基本结构</h2><ol>\n<li><p>初始化</p>\n <figure class=\"highlight capnproto\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\">app = Flask(__name__)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br></p>\n<ol start=\"2\">\n<li><p>路由和视图</p>\n<p> 处理URL和函数之间关系的程序称为路由，在Flask中定义路由的最简便方式，是使用应用实例提供的<code>app.route</code>装饰器。</p>\n <figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@app.route(<span class=\"string\">'/'</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello World!'</span></span><br></pre></td></tr></table></figure>\n<p> <code>app.add_url_rule()</code>方法，接受3个参数，URL、端点名、视图函数。</p>\n <figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello World!'</span></span><br><span class=\"line\"></span><br><span class=\"line\">app.add_url_rule(<span class=\"string\">'/'</span>, <span class=\"string\">'index'</span>, index)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br></p>\n<ol start=\"3\">\n<li>一个完整的应用</li>\n</ol>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># hello.py</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/user/&lt;name&gt;')</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">user</span><span class=\"params\">(name)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello, &#123;&#125;!'</span>.format(name)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run(debug=<span class=\"keyword\">True</span>)</span><br></pre></td></tr></table></figure>\n<p>在虚拟环境的终端中，输入<code>python3 hello.py</code>启动Flask。</p>\n<p><br></p>\n<h2 id=\"GET和POST\"><a href=\"#GET和POST\" class=\"headerlink\" title=\"GET和POST\"></a>GET和POST</h2><p>使用浏览器(Safari 12)和Postman(6.7.2)来测试各种GET和POST。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask, request, jsonify</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/', methods=['get'])    # 一个简单的get请求</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">hello_world</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello World!'</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_number</span><span class=\"params\">(s)</span>:</span>    <span class=\"comment\"># 判断字符串是否为数字的函数</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        float(s)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">except</span> ValueError:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">import</span> unicodedata</span><br><span class=\"line\">        unicodedata.numeric(s)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">except</span> (TypeError, ValueError):</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/api', methods=['get'])    # 通过get请求判断\"http://127.0.0.1:5000/api?number=X\"中X是奇数还是偶数</span></span><br><span class=\"line\"><span class=\"comment\"># 使用浏览器访问网址</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">api</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    s = request.args.get(<span class=\"string\">'number'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> is_number(s):    <span class=\"comment\"># 判断是否是数字</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> float(s) % <span class=\"number\">2</span> == <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是偶数，如果不加float会报错，not all arguments converted during string formatting</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"偶数\"</span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> float(s) % <span class=\"number\">2</span> != <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是奇数</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"奇数\"</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"数据错误\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/', methods=['post'])    # 通过post请求和json数据判断number是奇数还是偶数</span></span><br><span class=\"line\"><span class=\"comment\"># 利用Postman发送post请求</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">response</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    data = request.get_json()</span><br><span class=\"line\">    <span class=\"comment\"># 从请求的包体里取出数据并格式化为dict格式</span></span><br><span class=\"line\">    print(data)</span><br><span class=\"line\"></span><br><span class=\"line\">    s = data.get(<span class=\"string\">'number'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> is_number(s):    <span class=\"comment\"># 判断是否是数字</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> s % <span class=\"number\">2</span> == <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是偶数</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"偶数\"</span>&#125;)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> s % <span class=\"number\">2</span> != <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是奇数</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"奇数\"</span>&#125;)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"数据错误\"</span>&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run(debug=<span class=\"keyword\">True</span>)</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>用类视图改写上面的函数视图：<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask, request, jsonify</span><br><span class=\"line\"><span class=\"keyword\">from</span> flask.views <span class=\"keyword\">import</span> MethodView</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">is_number</span><span class=\"params\">(s)</span>:</span>    <span class=\"comment\"># 判断字符串是否为数字</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        float(s)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">except</span> ValueError:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">import</span> unicodedata</span><br><span class=\"line\">        unicodedata.numeric(s)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">except</span> (TypeError, ValueError):</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserView</span><span class=\"params\">(MethodView)</span>:</span></span><br><span class=\"line\">    methods = [<span class=\"string\">'GET'</span>, <span class=\"string\">'POST'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dispatch_request</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> request.method == <span class=\"string\">'GET'</span>:    <span class=\"comment\"># 当客户端通过get方法进行访问的时候</span></span><br><span class=\"line\">            s = request.args.get(<span class=\"string\">'number'</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_number(s):    <span class=\"comment\"># 判断是否是数字</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> float(s) % <span class=\"number\">2</span> == <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是偶数，如果不加float会报错，not all arguments converted during string formatting</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"string\">\"偶数\"</span></span><br><span class=\"line\">                <span class=\"keyword\">elif</span> float(s) % <span class=\"number\">2</span> != <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是奇数</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"string\">\"奇数\"</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"数据错误\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> request.method == <span class=\"string\">'POST'</span>:    <span class=\"comment\"># 当客户端通过post方法进行访问的时候</span></span><br><span class=\"line\">            data = request.get_json()</span><br><span class=\"line\">            print(data)</span><br><span class=\"line\">            print(type(data))</span><br><span class=\"line\"></span><br><span class=\"line\">            s = data.get(<span class=\"string\">'number'</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_number(s):    <span class=\"comment\"># 判断是否是数字</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> s % <span class=\"number\">2</span> == <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是偶数</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"偶数\"</span>&#125;)</span><br><span class=\"line\">                <span class=\"keyword\">elif</span> s % <span class=\"number\">2</span> != <span class=\"number\">0</span>:    <span class=\"comment\"># 判断是否是奇数</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"奇数\"</span>&#125;)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> jsonify(&#123;<span class=\"string\">\"msg\"</span>: <span class=\"string\">\"数据错误\"</span>&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">user_view = UserView.as_view(<span class=\"string\">'user'</span>)</span><br><span class=\"line\"><span class=\"comment\"># 将GET /user 请求绑定到UserView.get()方法上</span></span><br><span class=\"line\">app.add_url_rule(<span class=\"string\">'/user'</span>, view_func=user_view, methods=[<span class=\"string\">'GET'</span>, ])</span><br><span class=\"line\"><span class=\"comment\"># 将POST /user 请求绑定到UserView.post()方法上</span></span><br><span class=\"line\">app.add_url_rule(<span class=\"string\">'/user'</span>, view_func=user_view, methods=[<span class=\"string\">'POST'</span>, ])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.run(debug=<span class=\"keyword\">True</span>)</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h2 id=\"Flask的数据库基础操作\"><a href=\"#Flask的数据库基础操作\" class=\"headerlink\" title=\"Flask的数据库基础操作\"></a>Flask的数据库基础操作</h2><p>使用flask-sqlalchemy操作mysql实现增删改查。</p>\n<p>安装Python包：<br><figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip3 <span class=\"keyword\">install</span> flask-sqlalchemy</span><br><span class=\"line\">pip3 <span class=\"keyword\">install</span> PyMySQL</span><br></pre></td></tr></table></figure></p>\n<p>具体代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 注意使用的不同请求</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask, request, jsonify</span><br><span class=\"line\"><span class=\"keyword\">from</span> flask_sqlalchemy <span class=\"keyword\">import</span> SQLAlchemy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\">app.config[<span class=\"string\">'SQLALCHEMY_DATABASE_URI'</span>] = <span class=\"string\">'mysql+pymysql://root:密码@localhost:3306/test?charset=utf8'</span></span><br><span class=\"line\">app.config[<span class=\"string\">'SQLALCHEMY_TRACK_MODIFICATIONS'</span>] = <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">mydb = SQLAlchemy(app)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 模型</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Movie</span><span class=\"params\">(mydb.Model)</span>:</span>    <span class=\"comment\"># 创建一个表</span></span><br><span class=\"line\">    __tablename__ = <span class=\"string\">'movies'</span></span><br><span class=\"line\">    id = mydb.Column(mydb.Integer, primary_key=<span class=\"keyword\">True</span>)</span><br><span class=\"line\">    name = mydb.Column(mydb.String(<span class=\"number\">100</span>), unique=<span class=\"keyword\">True</span>)</span><br><span class=\"line\">    date = mydb.Column(mydb.Integer)</span><br><span class=\"line\">    star = mydb.Column(mydb.Float, nullable=<span class=\"keyword\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__repr__</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">'&lt;Name %r&gt;'</span> % self.name</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 获取列表</span></span><br><span class=\"line\"><span class=\"meta\">@app.route('/users', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMovies</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    data = Movie.query.all()</span><br><span class=\"line\">    datas = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> movies <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">        datas.append(&#123;<span class=\"string\">'id'</span>: movies.id, <span class=\"string\">'name'</span>: movies.name, <span class=\"string\">'date'</span>: movies.date, <span class=\"string\">'star'</span>: movies.star&#125;)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(data=datas)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 添加数据</span></span><br><span class=\"line\"><span class=\"meta\">@app.route('/user', methods=['POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addMovie</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    adict = request.get_json()</span><br><span class=\"line\">    name = adict.get(<span class=\"string\">'name'</span>)</span><br><span class=\"line\">    date = adict.get(<span class=\"string\">'date'</span>)</span><br><span class=\"line\">    star = adict.get(<span class=\"string\">'star'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    print(name, date, star)</span><br><span class=\"line\"></span><br><span class=\"line\">    movies = Movie(name=name, date=date, star=star)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        mydb.session.add(movies)</span><br><span class=\"line\">        mydb.session.commit()</span><br><span class=\"line\">    <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">        print(e)</span><br><span class=\"line\">        mydb.session.rollback()</span><br><span class=\"line\">        mydb.session.flush()</span><br><span class=\"line\">    userId = movies.id</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (movies.id <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>):</span><br><span class=\"line\">        result = &#123;<span class=\"string\">'msg'</span>: <span class=\"string\">'添加失败'</span>&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> jsonify(data=result)</span><br><span class=\"line\"></span><br><span class=\"line\">    data = Movie.query.filter_by(id=userId).first()</span><br><span class=\"line\">    result = &#123;<span class=\"string\">'id'</span>: movies.id, <span class=\"string\">'name'</span>: movies.name, <span class=\"string\">'date'</span>: movies.date, <span class=\"string\">'star'</span>: movies.star&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(data=result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 获取单条数据</span></span><br><span class=\"line\"><span class=\"meta\">@app.route('/user/&lt;int:userId&gt;', methods=['GET'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getMovie</span><span class=\"params\">(userId)</span>:</span></span><br><span class=\"line\">    movies = Movie.query.filter_by(id=userId).first()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (movies <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>):</span><br><span class=\"line\">        result = &#123;<span class=\"string\">'msg'</span>: <span class=\"string\">'None'</span>&#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        result = &#123;<span class=\"string\">'id'</span>: movies.id, <span class=\"string\">'name'</span>: movies.name, <span class=\"string\">'date'</span>: movies.date, <span class=\"string\">'star'</span>: movies.star&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(data=result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 修改数据</span></span><br><span class=\"line\"><span class=\"meta\">@app.route('/user/&lt;int:userId&gt;', methods=['PATCH'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">updateMovie</span><span class=\"params\">(userId)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    adict = request.get_json()</span><br><span class=\"line\">    name = adict.get(<span class=\"string\">'name'</span>)</span><br><span class=\"line\">    date = adict.get(<span class=\"string\">'date'</span>)</span><br><span class=\"line\">    star = adict.get(<span class=\"string\">'star'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        movies = Movie.query.filter_by(id=userId).first()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (movies <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>):</span><br><span class=\"line\">            result = &#123;<span class=\"string\">'msg'</span>: <span class=\"string\">'找不到要修改的记录'</span>&#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(data=result)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            movies.name = name</span><br><span class=\"line\">            movies.date = date</span><br><span class=\"line\">            movies.star = star</span><br><span class=\"line\">            mydb.session.commit()</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        mydb.session.rollback()</span><br><span class=\"line\">        mydb.session.flush()</span><br><span class=\"line\">    userId = movies.id</span><br><span class=\"line\">    data = Movie.query.filter_by(id=userId).first()</span><br><span class=\"line\">    result = &#123;<span class=\"string\">'id'</span>: movies.id, <span class=\"string\">'name'</span>: movies.name, <span class=\"string\">'date'</span>: movies.date, <span class=\"string\">'star'</span>: movies.star&#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> jsonify(data=result)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># # 删除数据</span></span><br><span class=\"line\"><span class=\"comment\"># @app.route('/user/&lt;int:userId&gt;', methods=['DELETE'])</span></span><br><span class=\"line\"><span class=\"comment\"># def deleteMovie(userId):</span></span><br><span class=\"line\"><span class=\"comment\">#     Movie.query.filter_by(id=userId).delete()</span></span><br><span class=\"line\"><span class=\"comment\">#     mydb.session.commit()</span></span><br><span class=\"line\"><span class=\"comment\">#     return getMovies()</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除数据</span></span><br><span class=\"line\"><span class=\"meta\">@app.route('/user/delete', methods=['POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteMovie</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    adict = request.get_json()</span><br><span class=\"line\">    id = adict.get(<span class=\"string\">'id'</span>)</span><br><span class=\"line\">    Movie.query.filter_by(id=id).delete()</span><br><span class=\"line\">    mydb.session.commit()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> getMovies()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    <span class=\"comment\"># mydb.drop_all()</span></span><br><span class=\"line\">    <span class=\"comment\"># mydb.create_all()</span></span><br><span class=\"line\">    app.run(debug=<span class=\"keyword\">True</span>)</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h2 id=\"Flask连接企业微信的自建应用\"><a href=\"#Flask连接企业微信的自建应用\" class=\"headerlink\" title=\"Flask连接企业微信的自建应用\"></a>Flask连接企业微信的自建应用</h2><ol>\n<li>发送消息给自建应用</li>\n</ol>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@app.route(<span class=\"string\">'/wx'</span>, methods=[<span class=\"string\">'post'</span>])</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">sendMsg</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">    data = &#123;</span><br><span class=\"line\">        <span class=\"string\">\"touser\"</span>: (<span class=\"string\">'|'</span>).join(<span class=\"keyword\">self</span>.userid.split(<span class=\"string\">','</span>)),</span><br><span class=\"line\">        <span class=\"string\">\"toparty\"</span>: (<span class=\"string\">'|'</span>).join(<span class=\"keyword\">self</span>.partid.split(<span class=\"string\">','</span>)),</span><br><span class=\"line\">        <span class=\"comment\"># \"toparty\":int(self.partid),</span></span><br><span class=\"line\">        <span class=\"string\">\"msgtype\"</span>: <span class=\"string\">\"text\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"agentid\"</span>: <span class=\"keyword\">self</span>.agent_id,</span><br><span class=\"line\">        <span class=\"string\">\"text\"</span>: &#123;</span><br><span class=\"line\">            <span class=\"string\">\"content\"</span>: request.get_json().get(<span class=\"string\">\"content\"</span>)</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">\"safe\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    print(data.get(<span class=\"string\">'text'</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">    requests.post(<span class=\"keyword\">self</span>.send_msg_url.format(<span class=\"keyword\">self</span>.access_token), json=data)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'success'</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"2\">\n<li>接收应用的消息，并回复相同的内容</li>\n</ol>\n<p>首先进行回调配置，改写腾讯官方的<code>WXBizMsgCrypt.py</code>工具，导入。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将原版本改写成Python3版</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\"># -*- encoding:utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"\"\" 对企业微信发送给企业后台的消息加解密示例代码.</span></span><br><span class=\"line\"><span class=\"string\">@copyright: Copyright (c) 1998-2014 Tencent Inc.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"comment\"># ------------------------------------------------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"><span class=\"keyword\">import</span> string</span><br><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> struct</span><br><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Cipher <span class=\"keyword\">import</span> AES</span><br><span class=\"line\"><span class=\"keyword\">import</span> xml.etree.cElementTree <span class=\"keyword\">as</span> ET</span><br><span class=\"line\"><span class=\"keyword\">import</span> socket</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> ierror</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># import sys</span></span><br><span class=\"line\"><span class=\"comment\"># reload(sys)</span></span><br><span class=\"line\"><span class=\"comment\"># sys.setdefaultencoding('utf-8')</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># import importlib</span></span><br><span class=\"line\"><span class=\"comment\"># importlib.reload(sys)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">\"\"\"</span></span><br><span class=\"line\"><span class=\"string\">关于Crypto.Cipher模块，ImportError: No module named 'Crypto'解决方案</span></span><br><span class=\"line\"><span class=\"string\">请到官方网站 https://www.dlitz.net/software/pycrypto/ 下载pycrypto。</span></span><br><span class=\"line\"><span class=\"string\">下载后，按照README中的“Installation”小节的提示进行pycrypto安装。</span></span><br><span class=\"line\"><span class=\"string\">\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FormatException</span><span class=\"params\">(Exception)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">throw_exception</span><span class=\"params\">(message, exception_class=FormatException)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"my define raise exception function\"\"\"</span></span><br><span class=\"line\">    <span class=\"keyword\">raise</span> exception_class(message)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SHA1</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"计算企业微信的消息签名接口\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSHA1</span><span class=\"params\">(self, token, timestamp, nonce, encrypt)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"用SHA1算法生成安全签名</span></span><br><span class=\"line\"><span class=\"string\">        @param token:  票据</span></span><br><span class=\"line\"><span class=\"string\">        @param timestamp: 时间戳</span></span><br><span class=\"line\"><span class=\"string\">        @param encrypt: 密文</span></span><br><span class=\"line\"><span class=\"string\">        @param nonce: 随机字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 安全签名</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">        sortlist = [token, timestamp, nonce, encrypt]</span><br><span class=\"line\">        sortlist.sort()</span><br><span class=\"line\">        sha = hashlib.sha1()</span><br><span class=\"line\">        sha.update(<span class=\"string\">\"\"</span>.join(sortlist).encode(<span class=\"string\">\"utf-8\"</span>))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_OK, sha.hexdigest()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># try:</span></span><br><span class=\"line\">        <span class=\"comment\">#     sortlist = [token, timestamp, nonce, encrypt]</span></span><br><span class=\"line\">        <span class=\"comment\">#     sortlist.sort()</span></span><br><span class=\"line\">        <span class=\"comment\">#     sha = hashlib.sha1()</span></span><br><span class=\"line\">        <span class=\"comment\">#     sha.update(\"\".join(sortlist))</span></span><br><span class=\"line\">        <span class=\"comment\">#     return ierror.WXBizMsgCrypt_OK, sha.hexdigest()</span></span><br><span class=\"line\">        <span class=\"comment\"># except Exception as e:</span></span><br><span class=\"line\">        <span class=\"comment\">#     print(e)</span></span><br><span class=\"line\">        <span class=\"comment\">#     return ierror.WXBizMsgCrypt_ComputeSignature_Error, None</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JsonParse</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"提供提取消息格式中的密文及生成回复消息格式的接口\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># json消息模板</span></span><br><span class=\"line\">    AES_TEXT_RESPONSE_TEMPLATE = <span class=\"string\">'''&#123;</span></span><br><span class=\"line\"><span class=\"string\">\"Encrypt\": \"%(msg_encrypt)s\",</span></span><br><span class=\"line\"><span class=\"string\">\"MsgSignature\": \"%(msg_signaturet)s\",</span></span><br><span class=\"line\"><span class=\"string\">\"TimeStamp\": %(timestamp)s,</span></span><br><span class=\"line\"><span class=\"string\">\"Nonce\": \"%(nonce)s\"</span></span><br><span class=\"line\"><span class=\"string\">&#125;'''</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">extract</span><span class=\"params\">(self, jsontext)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"提取出json数据包中的加密消息</span></span><br><span class=\"line\"><span class=\"string\">        @param jsontext: 待提取的json字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 提取出的加密消息字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            json_dict = json.loads(jsontext)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_OK, json_dict[<span class=\"string\">'Encrypt'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            print(e)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_ParseXml_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generate</span><span class=\"params\">(self, encrypt, signature, timestamp, nonce)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"生成json消息</span></span><br><span class=\"line\"><span class=\"string\">        @param encrypt: 加密后的消息密文</span></span><br><span class=\"line\"><span class=\"string\">        @param signature: 安全签名</span></span><br><span class=\"line\"><span class=\"string\">        @param timestamp: 时间戳</span></span><br><span class=\"line\"><span class=\"string\">        @param nonce: 随机字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 生成的json字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        resp_dict = &#123;</span><br><span class=\"line\">            <span class=\"string\">'msg_encrypt'</span>: encrypt,</span><br><span class=\"line\">            <span class=\"string\">'msg_signaturet'</span>: signature,</span><br><span class=\"line\">            <span class=\"string\">'timestamp'</span>: timestamp,</span><br><span class=\"line\">            <span class=\"string\">'nonce'</span>: nonce,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        resp_json = self.AES_TEXT_RESPONSE_TEMPLATE % resp_dict</span><br><span class=\"line\">        <span class=\"keyword\">return</span> resp_json</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XMLParse</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"提供提取消息格式中的密文及生成回复消息格式的接口\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># xml消息模板</span></span><br><span class=\"line\">    AES_TEXT_RESPONSE_TEMPLATE = <span class=\"string\">\"\"\"&lt;xml&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;Encrypt&gt;&lt;![CDATA[%(msg_encrypt)s]]&gt;&lt;/Encrypt&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;MsgSignature&gt;&lt;![CDATA[%(msg_signaturet)s]]&gt;&lt;/MsgSignature&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;TimeStamp&gt;%(timestamp)s&lt;/TimeStamp&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;Nonce&gt;&lt;![CDATA[%(nonce)s]]&gt;&lt;/Nonce&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/xml&gt;\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">extract</span><span class=\"params\">(self, xmltext)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"提取出xml数据包中的加密消息</span></span><br><span class=\"line\"><span class=\"string\">        @param xmltext: 待提取的xml字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 提取出的加密消息字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            xml_tree = ET.fromstring(xmltext)</span><br><span class=\"line\">            encrypt = xml_tree.find(<span class=\"string\">\"Encrypt\"</span>)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_OK, encrypt.text</span><br><span class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            print(e)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_ParseXml_Error, <span class=\"keyword\">None</span>, <span class=\"keyword\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">generate</span><span class=\"params\">(self, encrypt, signature, timestamp, nonce)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"生成xml消息</span></span><br><span class=\"line\"><span class=\"string\">        @param encrypt: 加密后的消息密文</span></span><br><span class=\"line\"><span class=\"string\">        @param signature: 安全签名</span></span><br><span class=\"line\"><span class=\"string\">        @param timestamp: 时间戳</span></span><br><span class=\"line\"><span class=\"string\">        @param nonce: 随机字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 生成的xml字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        resp_dict = &#123;</span><br><span class=\"line\">            <span class=\"string\">'msg_encrypt'</span>: encrypt,</span><br><span class=\"line\">            <span class=\"string\">'msg_signaturet'</span>: signature,</span><br><span class=\"line\">            <span class=\"string\">'timestamp'</span>: timestamp,</span><br><span class=\"line\">            <span class=\"string\">'nonce'</span>: nonce,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        resp_xml = self.AES_TEXT_RESPONSE_TEMPLATE % resp_dict</span><br><span class=\"line\">        <span class=\"keyword\">return</span> resp_xml</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PKCS7Encoder</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"提供基于PKCS7算法的加解密接口\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    block_size = <span class=\"number\">32</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">encode</span><span class=\"params\">(self, text)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" 对需要加密的明文进行填充补位</span></span><br><span class=\"line\"><span class=\"string\">        @param text: 需要进行填充补位操作的明文</span></span><br><span class=\"line\"><span class=\"string\">        @return: 补齐明文字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        text_length = len(text)</span><br><span class=\"line\">        <span class=\"comment\"># 计算需要填充的位数</span></span><br><span class=\"line\">        amount_to_pad = self.block_size - (text_length % self.block_size)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> amount_to_pad == <span class=\"number\">0</span>:</span><br><span class=\"line\">            amount_to_pad = self.block_size</span><br><span class=\"line\">        <span class=\"comment\"># 获得补位所用的字符</span></span><br><span class=\"line\">        pad = chr(amount_to_pad)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> text + pad * amount_to_pad</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decode</span><span class=\"params\">(self, decrypted)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"删除解密后明文的补位字符</span></span><br><span class=\"line\"><span class=\"string\">        @param decrypted: 解密后的明文</span></span><br><span class=\"line\"><span class=\"string\">        @return: 删除补位字符后的明文</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># pad = ord(decrypted[-1])</span></span><br><span class=\"line\">        pad = decrypted[<span class=\"number\">-1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> pad &lt; <span class=\"number\">1</span> <span class=\"keyword\">or</span> pad &gt; <span class=\"number\">32</span>:</span><br><span class=\"line\">            pad = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> decrypted[:-pad]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Prpcrypt</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"提供接收和推送给企业微信消息的加解密接口\"\"\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, key)</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># self.key = base64.b64decode(key+\"=\")</span></span><br><span class=\"line\">        self.key = key</span><br><span class=\"line\">        <span class=\"comment\"># 设置加解密模式为AES的CBC模式</span></span><br><span class=\"line\">        self.mode = AES.MODE_CBC</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">encrypt</span><span class=\"params\">(self, text, receiveid)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"对明文进行加密</span></span><br><span class=\"line\"><span class=\"string\">        @param text: 需要加密的明文</span></span><br><span class=\"line\"><span class=\"string\">        @return: 加密得到的字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"comment\"># 16位随机字符串添加到明文开头</span></span><br><span class=\"line\">        text = self.get_random_str() + struct.pack(<span class=\"string\">\"I\"</span>, socket.htonl(len(text))) + text + receiveid</span><br><span class=\"line\">        <span class=\"comment\"># 使用自定义的填充方式对明文进行补位填充</span></span><br><span class=\"line\">        pkcs7 = PKCS7Encoder()</span><br><span class=\"line\">        text = pkcs7.encode(text)</span><br><span class=\"line\">        <span class=\"comment\"># 加密</span></span><br><span class=\"line\">        cryptor = AES.new(self.key, self.mode, self.key[:<span class=\"number\">16</span>])</span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            ciphertext = cryptor.encrypt(text)</span><br><span class=\"line\">            <span class=\"comment\"># 使用BASE64对加密后的字符串进行编码</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_OK, base64.b64encode(ciphertext)</span><br><span class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            print(e)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_EncryptAES_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">decrypt</span><span class=\"params\">(self, text, receiveid)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\"对解密后的明文进行补位删除</span></span><br><span class=\"line\"><span class=\"string\">        @param text: 密文</span></span><br><span class=\"line\"><span class=\"string\">        @return: 删除填充补位后的明文</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            cryptor = AES.new(self.key, self.mode, self.key[:<span class=\"number\">16</span>])</span><br><span class=\"line\">            <span class=\"comment\"># 使用BASE64对密文进行解码，然后AES-CBC解密</span></span><br><span class=\"line\">            plain_text = cryptor.decrypt(base64.b64decode(text))</span><br><span class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            print(e)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_DecryptAES_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            <span class=\"comment\"># pad = ord(plain_text[-1])</span></span><br><span class=\"line\">            pad = plain_text[<span class=\"number\">-1</span>]</span><br><span class=\"line\">            <span class=\"comment\"># 去掉补位字符串</span></span><br><span class=\"line\">            <span class=\"comment\"># pkcs7 = PKCS7Encoder()</span></span><br><span class=\"line\">            <span class=\"comment\"># plain_text = pkcs7.encode(plain_text)</span></span><br><span class=\"line\">            <span class=\"comment\"># 去除16位随机字符串</span></span><br><span class=\"line\">            content = plain_text[<span class=\"number\">16</span>:-pad]</span><br><span class=\"line\">            json_len = socket.ntohl(struct.unpack(<span class=\"string\">\"I\"</span>, content[: <span class=\"number\">4</span>])[<span class=\"number\">0</span>])</span><br><span class=\"line\">            json_content = content[<span class=\"number\">4</span>: json_len+<span class=\"number\">4</span>]</span><br><span class=\"line\">            from_receiveid = content[json_len+<span class=\"number\">4</span>:].decode(<span class=\"string\">\"utf8\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">            print(e)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_IllegalBuffer, <span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> from_receiveid != receiveid:</span><br><span class=\"line\">            print(<span class=\"string\">\"receiveid not match\"</span>)</span><br><span class=\"line\">            print(from_receiveid)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_ValidateCorpid_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>, json_content</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get_random_str</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"string\">\"\"\" 随机生成16位字符串</span></span><br><span class=\"line\"><span class=\"string\">        @return: 16位字符串</span></span><br><span class=\"line\"><span class=\"string\">        \"\"\"</span></span><br><span class=\"line\">        rule = string.letters + string.digits</span><br><span class=\"line\">        str = random.sample(rule, <span class=\"number\">16</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>.join(str)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WXBizMsgCrypt</span><span class=\"params\">(object)</span>:</span></span><br><span class=\"line\">    <span class=\"comment\"># 构造函数</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self,sToken,sEncodingAESKey,sReceiveId)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            self.key = base64.b64decode(sEncodingAESKey+<span class=\"string\">\"=\"</span>)</span><br><span class=\"line\">            <span class=\"keyword\">assert</span> len(self.key) == <span class=\"number\">32</span></span><br><span class=\"line\">        <span class=\"keyword\">except</span>:</span><br><span class=\"line\">            throw_exception(<span class=\"string\">\"[error]: EncodingAESKey unvalid !\"</span>, FormatException)</span><br><span class=\"line\">            <span class=\"comment\"># return ierror.WXBizMsgCrypt_IllegalAesKey,None</span></span><br><span class=\"line\">        self.m_sToken = sToken</span><br><span class=\"line\">        self.m_sReceiveId = sReceiveId</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 验证URL</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sMsgSignature: 签名串，对应URL参数的msg_signature</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sTimeStamp: 时间戳，对应URL参数的timestamp</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sNonce: 随机串，对应URL参数的nonce</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sEchoStr: 随机串，对应URL参数的echostr</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sReplyEchoStr: 解密之后的echostr，当return返回0时有效</span></span><br><span class=\"line\">        <span class=\"comment\"># @return：成功0，失败返回对应的错误码</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">VerifyURL</span><span class=\"params\">(self, sMsgSignature, sTimeStamp, sNonce, sEchoStr)</span>:</span></span><br><span class=\"line\">        sha1 = SHA1()</span><br><span class=\"line\">        ret,signature = sha1.getSHA1(self.m_sToken, sTimeStamp, sNonce, sEchoStr)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ret, <span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> signature == sMsgSignature:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_ValidateSignature_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\">        pc = Prpcrypt(self.key)</span><br><span class=\"line\">        ret,sReplyEchoStr = pc.decrypt(sEchoStr,self.m_sReceiveId)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret,sReplyEchoStr</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">EncryptMsg</span><span class=\"params\">(self, sReplyMsg, sNonce, timestamp=None)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># 将企业回复用户的消息加密打包</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sReplyMsg: 企业号待回复用户的消息，xml格式的字符串</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sTimeStamp: 时间戳，可以自己生成，也可以用URL参数的timestamp,如为None则自动用当前时间</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sNonce: 随机串，可以自己生成，也可以用URL参数的nonce</span></span><br><span class=\"line\">        <span class=\"comment\"># sEncryptMsg: 加密后的可以直接回复用户的密文，包括msg_signature, timestamp, nonce, encrypt的xml格式的字符串,</span></span><br><span class=\"line\">        <span class=\"comment\"># return：成功0，sEncryptMsg,失败返回对应的错误码None</span></span><br><span class=\"line\">        pc = Prpcrypt(self.key)</span><br><span class=\"line\">        ret,encrypt = pc.encrypt(sReplyMsg, self.m_sReceiveId)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ret,<span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> timestamp <span class=\"keyword\">is</span> <span class=\"keyword\">None</span>:</span><br><span class=\"line\">            timestamp = str(int(time.time()))</span><br><span class=\"line\">        <span class=\"comment\"># 生成安全签名</span></span><br><span class=\"line\">        sha1 = SHA1()</span><br><span class=\"line\">        ret,signature = sha1.getSHA1(self.m_sToken, timestamp, sNonce, encrypt)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ret,<span class=\"keyword\">None</span></span><br><span class=\"line\">        xmlParse = XMLParse()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret,xmlParse.generate(encrypt, signature, timestamp, sNonce)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">DecryptMsg</span><span class=\"params\">(self, sPostData, sMsgSignature, sTimeStamp, sNonce)</span>:</span></span><br><span class=\"line\">        <span class=\"comment\"># 检验消息的真实性，并且获取解密后的明文</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sMsgSignature: 签名串，对应URL参数的msg_signature</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sTimeStamp: 时间戳，对应URL参数的timestamp</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sNonce: 随机串，对应URL参数的nonce</span></span><br><span class=\"line\">        <span class=\"comment\"># @param sPostData: 密文，对应POST请求的数据</span></span><br><span class=\"line\">        <span class=\"comment\">#  xml_content: 解密后的原文，当return返回0时有效</span></span><br><span class=\"line\">        <span class=\"comment\"># @return: 成功0，失败返回对应的错误码</span></span><br><span class=\"line\">        <span class=\"comment\"># 验证安全签名</span></span><br><span class=\"line\">        xmlParse = XMLParse()</span><br><span class=\"line\">        ret, encrypt = xmlParse.extract(sPostData)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ret, <span class=\"keyword\">None</span></span><br><span class=\"line\">        sha1 = SHA1()</span><br><span class=\"line\">        ret,signature = sha1.getSHA1(self.m_sToken, sTimeStamp, sNonce, encrypt)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ret, <span class=\"keyword\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> signature == sMsgSignature:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> ierror.WXBizMsgCrypt_ValidateSignature_Error, <span class=\"keyword\">None</span></span><br><span class=\"line\">        pc = Prpcrypt(self.key)</span><br><span class=\"line\">        ret, xml_content = pc.decrypt(encrypt,self.m_sReceiveId)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ret, xml_content</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from flask import Flask, request</span><br><span class=\"line\">import requests</span><br><span class=\"line\">import sys</span><br><span class=\"line\">import json</span><br><span class=\"line\">from configparser import ConfigParser</span><br><span class=\"line\">from WXBizMsgCrypt import WXBizMsgCrypt</span><br><span class=\"line\">import xml.etree.cElementTree as ET</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WeChatMsg</span>():</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(<span class=\"keyword\">self</span>, host=<span class=\"string\">'0.0.0.0'</span>, port=<span class=\"number\">8000</span>)</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">        config = ConfigParser()</span><br><span class=\"line\">        config.read(<span class=\"string\">'config.py'</span>, encoding=<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 定义服务器监听地址和端口</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.host = host</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.port = port</span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sCorpID = config[<span class=\"string\">'common'</span>][<span class=\"string\">'corpid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.agent_secret = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'secret'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.agent_id = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'agentid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.userid = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'userid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.partid = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'partid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.get_access_token_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'get_access_token_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.send_msg_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'send_msg_url'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 转发接收消息的应用信息配置</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sToken = config[<span class=\"string\">'recmsg'</span>][<span class=\"string\">'Token'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sEncodingAESKey = config[<span class=\"string\">'recmsg'</span>][<span class=\"string\">'EncodingAESKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 获取access_token</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.access_token = json.loads(requests.get(<span class=\"keyword\">self</span>.get_access_token_url.format(<span class=\"keyword\">self</span>.sCorpID,<span class=\"keyword\">self</span>.agent_secret)).content)[<span class=\"string\">'access_token'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">_send_text_msg</span><span class=\"params\">(<span class=\"keyword\">self</span>, content, userid)</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">        data = &#123;</span><br><span class=\"line\">            <span class=\"string\">\"touser\"</span>: userid,</span><br><span class=\"line\">            <span class=\"string\">\"toparty\"</span>: (<span class=\"string\">'|'</span>).join(<span class=\"keyword\">self</span>.partid.split(<span class=\"string\">','</span>)),</span><br><span class=\"line\">            <span class=\"comment\"># \"toparty\":int(self.partid),</span></span><br><span class=\"line\">            <span class=\"string\">\"msgtype\"</span>: <span class=\"string\">\"text\"</span>,</span><br><span class=\"line\">            <span class=\"string\">\"agentid\"</span>: <span class=\"keyword\">self</span>.agent_id,</span><br><span class=\"line\">            <span class=\"string\">\"text\"</span>: &#123;</span><br><span class=\"line\">                <span class=\"string\">\"content\"</span>: content</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            <span class=\"string\">\"safe\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        response = requests.post(<span class=\"keyword\">self</span>.send_msg_url.format(<span class=\"keyword\">self</span>.access_token), json.dumps(data))</span><br><span class=\"line\">        print(response.text)</span><br><span class=\"line\">        result_msg = json.loads(response.content)[<span class=\"string\">'errmsg'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result_msg</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">server_run</span><span class=\"params\">(<span class=\"keyword\">self</span>)</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">        app = Flask(__name_<span class=\"number\">_</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/'</span>, methods=[<span class=\"string\">'GET'</span>, <span class=\"string\">'POST'</span>])</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            wxcpt = WXBizMsgCrypt(<span class=\"keyword\">self</span>.sToken, <span class=\"keyword\">self</span>.sEncodingAESKey, <span class=\"keyword\">self</span>.sCorpID)</span><br><span class=\"line\">            <span class=\"comment\"># 获取url验证时微信发送的相关参数</span></span><br><span class=\"line\">            sVerifyMsgSig = request.args.get(<span class=\"string\">'msg_signature'</span>)</span><br><span class=\"line\">            sVerifyTimeStamp = request.args.get(<span class=\"string\">'timestamp'</span>)</span><br><span class=\"line\">            sVerifyNonce = request.args.get(<span class=\"string\">'nonce'</span>)</span><br><span class=\"line\">            sVerifyEchoStr = request.args.get(<span class=\"string\">'echostr'</span>)</span><br><span class=\"line\">            print(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\"># 验证url</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> request.method == <span class=\"string\">'GET'</span><span class=\"symbol\">:</span></span><br><span class=\"line\">                ret, sEchoStr = wxcpt.VerifyURL(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class=\"line\">                print(type(ret))</span><br><span class=\"line\">                print(type(sEchoStr))</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (ret != <span class=\"number\">0</span>)<span class=\"symbol\">:</span></span><br><span class=\"line\">                    print(<span class=\"string\">\"ERR: VerifyURL ret:\"</span> + str(ret))</span><br><span class=\"line\">                    sys.exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> sEchoStr</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\"># 接收客户端消息</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> request.method == <span class=\"string\">'POST'</span><span class=\"symbol\">:</span></span><br><span class=\"line\">                sReqMsgSig = sVerifyMsgSig</span><br><span class=\"line\">                sReqTimeStamp = sVerifyTimeStamp</span><br><span class=\"line\">                sReqNonce = sVerifyNonce</span><br><span class=\"line\">                sReqData = request.data</span><br><span class=\"line\">                print(<span class=\"string\">'sReqData='</span>, sReqData, <span class=\"string\">'\\n'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">                ret, sMsg = wxcpt.DecryptMsg(sReqData, sReqMsgSig, sReqTimeStamp, sReqNonce)</span><br><span class=\"line\">                print(ret, sMsg, <span class=\"string\">'\\n'</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (ret != <span class=\"number\">0</span>)<span class=\"symbol\">:</span></span><br><span class=\"line\">                    print(<span class=\"string\">\"ERR: DecryptMsg ret: \"</span> + str(ret))</span><br><span class=\"line\">                    sys.exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">                <span class=\"comment\"># 解析发送的内容并打印</span></span><br><span class=\"line\"></span><br><span class=\"line\">                print(type(sMsg))</span><br><span class=\"line\">                string = str(sMsg,<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">                print(string)</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># 转成字符串索引分片</span></span><br><span class=\"line\">                <span class=\"comment\"># i = string.index('&lt;Content&gt;')</span></span><br><span class=\"line\">                <span class=\"comment\"># j = string.index(r'&lt;/Content&gt;')</span></span><br><span class=\"line\">                <span class=\"comment\"># print(i, j)</span></span><br><span class=\"line\">                <span class=\"comment\"># print(\"收到消息：\", string[i+18:j-3])</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># 解析XML</span></span><br><span class=\"line\">                root = ET.fromstring(string)    <span class=\"comment\"># 调用fromstring(), 直接返回解析树的根元素</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> child <span class=\"keyword\">in</span> <span class=\"symbol\">root:</span></span><br><span class=\"line\">                    <span class=\"comment\"># 第二层节点的标签名称和属性</span></span><br><span class=\"line\">                    print(child.tag,<span class=\"string\">\":\"</span>, child.text)</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># 索引获取</span></span><br><span class=\"line\">                <span class=\"comment\"># print(root.tag, \":\", root.attrib)</span></span><br><span class=\"line\">                <span class=\"comment\"># print('收到消息：', root[4].text)</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># 直接查找</span></span><br><span class=\"line\">                content = root.find(<span class=\"string\">\"Content\"</span>).text</span><br><span class=\"line\">                print(<span class=\"string\">'\\n收到消息：'</span>, content)</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># xml_tree = ET.fromstring(sMsg)</span></span><br><span class=\"line\">                <span class=\"comment\"># print('xml_tree is ', xml_tree)</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\"># 自动回复相同消息给客户端</span></span><br><span class=\"line\">                access_token = json.loads(requests.get(<span class=\"keyword\">self</span>.get_access_token_url.format(<span class=\"keyword\">self</span>.sCorpID, <span class=\"keyword\">self</span>.agent_secret)).content)[<span class=\"string\">'access_token'</span>]</span><br><span class=\"line\">                print(access_token)</span><br><span class=\"line\"></span><br><span class=\"line\">                userid = root.find(<span class=\"string\">\"FromUserName\"</span>).text</span><br><span class=\"line\">                print(userid)</span><br><span class=\"line\">                result = <span class=\"keyword\">self</span>._send_text_msg(content, userid)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name_<span class=\"number\">_</span> == <span class=\"string\">'__main__'</span><span class=\"symbol\">:</span></span><br><span class=\"line\">    wechatserver = WeChatMsg()</span><br><span class=\"line\">    wechatserver.server_run()</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ol start=\"3\">\n<li>对通讯录进行增删改查</li>\n</ol>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from flask import Flask, request, jsonify</span><br><span class=\"line\">import requests</span><br><span class=\"line\">import sys</span><br><span class=\"line\">import json</span><br><span class=\"line\">from configparser import ConfigParser</span><br><span class=\"line\">from WXBizMsgCrypt import WXBizMsgCrypt</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WeChattxl</span>():</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(<span class=\"keyword\">self</span>, host=<span class=\"string\">'0.0.0.0'</span>, port=<span class=\"number\">8000</span>)</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">        config = ConfigParser()</span><br><span class=\"line\">        config.read(<span class=\"string\">'config.py'</span>, encoding=<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">        <span class=\"comment\"># 定义服务器监听地址和端口</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.host = host</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.port = port</span><br><span class=\"line\">        <span class=\"comment\">#</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sCorpID = config[<span class=\"string\">'common'</span>][<span class=\"string\">'corpid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.partid = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'partid'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.txlsecret = config[<span class=\"string\">'appconfig'</span>][<span class=\"string\">'txlsecret'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.get_access_token_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'get_access_token_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.user_simplelist_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'user_simplelist_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.user_list_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'user_list_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.get_user_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'get_user_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.create_user_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'create_user_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.update_user_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'update_user_url'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.delete_user_url = config[<span class=\"string\">'urlconfig'</span>][<span class=\"string\">'delete_user_url'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 应用信息配置</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sToken = config[<span class=\"string\">'recmsg'</span>][<span class=\"string\">'Token'</span>]</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sEncodingAESKey = config[<span class=\"string\">'recmsg'</span>][<span class=\"string\">'EncodingAESKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 获取access_token</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.access_token = json.loads(requests.get(<span class=\"keyword\">self</span>.get_access_token_url.format(<span class=\"keyword\">self</span>.sCorpID,<span class=\"keyword\">self</span>.txlsecret)).content)[<span class=\"string\">'access_token'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">server_run</span><span class=\"params\">(<span class=\"keyword\">self</span>)</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">        app = Flask(__name_<span class=\"number\">_</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/'</span>, methods=[<span class=\"string\">'GET'</span>, <span class=\"string\">'POST'</span>])</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            wxcpt = WXBizMsgCrypt(<span class=\"keyword\">self</span>.sToken, <span class=\"keyword\">self</span>.sEncodingAESKey, <span class=\"keyword\">self</span>.sCorpID)</span><br><span class=\"line\">            <span class=\"comment\"># 获取url验证时微信发送的相关参数</span></span><br><span class=\"line\">            sVerifyMsgSig = request.args.get(<span class=\"string\">'msg_signature'</span>)</span><br><span class=\"line\">            sVerifyTimeStamp = request.args.get(<span class=\"string\">'timestamp'</span>)</span><br><span class=\"line\">            sVerifyNonce = request.args.get(<span class=\"string\">'nonce'</span>)</span><br><span class=\"line\">            sVerifyEchoStr = request.args.get(<span class=\"string\">'echostr'</span>)</span><br><span class=\"line\">            print(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\"># 验证url</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> request.method == <span class=\"string\">'GET'</span><span class=\"symbol\">:</span></span><br><span class=\"line\">                ret, sEchoStr = wxcpt.VerifyURL(sVerifyMsgSig, sVerifyTimeStamp, sVerifyNonce, sVerifyEchoStr)</span><br><span class=\"line\">                print(type(ret))</span><br><span class=\"line\">                print(type(sEchoStr))</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (ret != <span class=\"number\">0</span>)<span class=\"symbol\">:</span></span><br><span class=\"line\">                    print(<span class=\"string\">\"ERR: VerifyURL ret:\"</span> + str(ret))</span><br><span class=\"line\">                    sys.exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> sEchoStr</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\"># if request.method == 'POST':</span></span><br><span class=\"line\">                <span class=\"comment\"># return 'success'</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">''</span><span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">        获取成员列表  127.0.0.1:8000/user  get</span></span><br><span class=\"line\"><span class=\"string\">        成员详细信息  /users  get</span></span><br><span class=\"line\"><span class=\"string\">        创建成员     /create post</span></span><br><span class=\"line\"><span class=\"string\">        &#123;</span></span><br><span class=\"line\"><span class=\"string\">            \"userid\": userid,  #必填</span></span><br><span class=\"line\"><span class=\"string\">            \"name\": name,  #必填</span></span><br><span class=\"line\"><span class=\"string\">            \"mobile\": mobile,  #选填，使用默认值</span></span><br><span class=\"line\"><span class=\"string\">            \"email\": email,  #选填，使用默认值</span></span><br><span class=\"line\"><span class=\"string\">            \"position\": position,  #选填，使用默认值</span></span><br><span class=\"line\"><span class=\"string\">            \"department\": self.partid  #不填</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">        读取成员  /get?id=[userid]  get</span></span><br><span class=\"line\"><span class=\"string\">        更新成员  /update  post</span></span><br><span class=\"line\"><span class=\"string\">        &#123;</span></span><br><span class=\"line\"><span class=\"string\">            \"userid\": userid,  #必填</span></span><br><span class=\"line\"><span class=\"string\">            \"name\": name,  #选填</span></span><br><span class=\"line\"><span class=\"string\">            \"mobile\": mobile,  #选填</span></span><br><span class=\"line\"><span class=\"string\">            \"email\": email,  #选填</span></span><br><span class=\"line\"><span class=\"string\">            \"position\": position,  #选填</span></span><br><span class=\"line\"><span class=\"string\">            \"department\": self.partid  #不填</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">        删除成员  /delete?id=[userid]  get</span></span><br><span class=\"line\"><span class=\"string\">        '</span><span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/user'</span>, methods=[<span class=\"string\">'get'</span>])    <span class=\"comment\"># 获取成员列表</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">user</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            url = <span class=\"keyword\">self</span>.user_simplelist_url.format(<span class=\"keyword\">self</span>.access_token, <span class=\"keyword\">self</span>.partid)</span><br><span class=\"line\">            r = requests.get(url)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(data=r.json())</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/users'</span>, methods=[<span class=\"string\">'get'</span>])    <span class=\"comment\"># 获取成员详细信息</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">users</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            url = <span class=\"keyword\">self</span>.user_list_url.format(<span class=\"keyword\">self</span>.access_token, <span class=\"keyword\">self</span>.partid)</span><br><span class=\"line\">            r = requests.get(url)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(data=r.json())</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/create'</span>, methods=[<span class=\"string\">'post'</span>])    <span class=\"comment\"># 创建成员</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">create</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            data = request.get_json()</span><br><span class=\"line\">            print(data)</span><br><span class=\"line\"></span><br><span class=\"line\">            userid = data.get(<span class=\"string\">'userid'</span>)    <span class=\"comment\"># 必须，方便数据的录入，使用两位数字</span></span><br><span class=\"line\">            name = data.get(<span class=\"string\">'name'</span>)    <span class=\"comment\"># 必须</span></span><br><span class=\"line\"></span><br><span class=\"line\">            mobile = data.get(<span class=\"string\">'mobile'</span>)    <span class=\"comment\"># 可选</span></span><br><span class=\"line\">            email = data.get(<span class=\"string\">'email'</span>)    <span class=\"comment\"># 可选</span></span><br><span class=\"line\">            position = data.get(<span class=\"string\">'position'</span>)    <span class=\"comment\"># 可选</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> mobile is <span class=\"symbol\">None:</span></span><br><span class=\"line\">                mobile = <span class=\"string\">'185000000'</span>+userid    <span class=\"comment\"># 方便录入，用userid直接拼接成手机号</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> email is <span class=\"symbol\">None:</span></span><br><span class=\"line\">                email = userid+<span class=\"string\">'@ianna.com'</span>    <span class=\"comment\"># 方便录入，邮箱也用userid拼接而成</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> position is <span class=\"symbol\">None:</span></span><br><span class=\"line\">                position = <span class=\"string\">'Worker'</span></span><br><span class=\"line\"></span><br><span class=\"line\">            print(mobile, email, position)</span><br><span class=\"line\"></span><br><span class=\"line\">            data = &#123;</span><br><span class=\"line\">                <span class=\"string\">\"userid\"</span>: userid,</span><br><span class=\"line\">                <span class=\"string\">\"name\"</span>: name,</span><br><span class=\"line\">                <span class=\"string\">\"mobile\"</span>: mobile,</span><br><span class=\"line\">                <span class=\"string\">\"email\"</span>: email,</span><br><span class=\"line\">                <span class=\"string\">\"position\"</span>: position,</span><br><span class=\"line\">                <span class=\"string\">\"department\"</span>: <span class=\"keyword\">self</span>.partid</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            print(data)</span><br><span class=\"line\"></span><br><span class=\"line\">            r = requests.post(<span class=\"keyword\">self</span>.create_user_url.format(<span class=\"keyword\">self</span>.access_token), json.dumps(data))</span><br><span class=\"line\">            print(r.text)</span><br><span class=\"line\">            result_msg = json.loads(r.content)[<span class=\"string\">'errmsg'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result_msg</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/get'</span>, methods=[<span class=\"string\">'get'</span>])    <span class=\"comment\"># 读取成员</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">get</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            userid = request.args.get(<span class=\"string\">'id'</span>)</span><br><span class=\"line\">            url = <span class=\"keyword\">self</span>.get_user_url.format(<span class=\"keyword\">self</span>.access_token, userid)</span><br><span class=\"line\">            r = requests.get(url)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> jsonify(data=r.json())</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/update'</span>, methods=[<span class=\"string\">'post'</span>])    <span class=\"comment\"># 更新成员</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">update</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            <span class=\"string\">''</span><span class=\"string\">'</span></span><br><span class=\"line\"><span class=\"string\">            data = &#123;</span></span><br><span class=\"line\"><span class=\"string\">                \"userid\": userid,</span></span><br><span class=\"line\"><span class=\"string\">                \"name\": name,</span></span><br><span class=\"line\"><span class=\"string\">                \"mobile\": mobile,</span></span><br><span class=\"line\"><span class=\"string\">                \"email\": email,</span></span><br><span class=\"line\"><span class=\"string\">                \"position\": position,</span></span><br><span class=\"line\"><span class=\"string\">                \"department\": self.partid</span></span><br><span class=\"line\"><span class=\"string\">            &#125;</span></span><br><span class=\"line\"><span class=\"string\">            '</span><span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">            data = request.get_json()</span><br><span class=\"line\">            data.update(&#123;<span class=\"string\">\"department\"</span>: <span class=\"keyword\">self</span>.partid&#125;)</span><br><span class=\"line\">            print(data)</span><br><span class=\"line\"></span><br><span class=\"line\">            r = requests.post(<span class=\"keyword\">self</span>.update_user_url.format(<span class=\"keyword\">self</span>.access_token), json.dumps(data))</span><br><span class=\"line\">            print(r.text)</span><br><span class=\"line\">            result_msg = json.loads(r.content)[<span class=\"string\">'errmsg'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result_msg</span><br><span class=\"line\"></span><br><span class=\"line\">        @app.route(<span class=\"string\">'/delete'</span>, methods=[<span class=\"string\">'get'</span>])    <span class=\"comment\"># 删除成员</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">delete</span><span class=\"params\">()</span></span><span class=\"symbol\">:</span></span><br><span class=\"line\">            userid = request.args.get(<span class=\"string\">'id'</span>)</span><br><span class=\"line\">            url = <span class=\"keyword\">self</span>.delete_user_url.format(<span class=\"keyword\">self</span>.access_token, userid)</span><br><span class=\"line\">            r = requests.get(url)</span><br><span class=\"line\">            result_msg = json.loads(r.content)[<span class=\"string\">'errmsg'</span>]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result_msg</span><br><span class=\"line\"></span><br><span class=\"line\">        app.run(host=<span class=\"keyword\">self</span>.host, port=<span class=\"keyword\">self</span>.port, debug=True)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name_<span class=\"number\">_</span> == <span class=\"string\">'__main__'</span><span class=\"symbol\">:</span></span><br><span class=\"line\">    wechatserver = WeChattxl()</span><br><span class=\"line\">    wechatserver.server_run()</span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n","categories":["网络"],"tags":["Linux","Python","Flask","Web","http","企业微信"]},{"title":"人生如梦","url":"https://blog.ykqmain.com/lishi/","content":"<p>写下这个题目后，有太多话想要倾诉，却不知从何时何处开始，一时失言，脑中空白。</p>\n<p>引用一句诗词来开篇，</p>\n<blockquote>\n<p>大江东去，浪淘尽，千古风流人物。</p>\n</blockquote>\n<p><br></p>\n<p>人生的记录这个东西，是需要一定的契机、激情以及充足的时间的，既能让自己身心稍微愉悦，也能对自己的过去有个记录。不得不提文字的力量是非常强大的，也是人类最伟大的发明之一，它能超越时空，让两个不同时空的人，见字如面，犹如高山流水遇知音，相互交流。</p>\n<p>到现在才谈及这个话题，倒是令我自己有点惊讶，毕竟要问我最感兴趣的方面，「中国古代史」是唯一的答案，没有之一。</p>\n<p>具体来说，就是从 <strong>西周到南宋</strong> (前1046～1279年) 的这一段时间，“兴趣之最”当属 <strong>春秋战国</strong> (前770年～前221年)、<strong>三国时期</strong> (广义的，184年～280年) 以及 <strong>唐朝</strong> (618年～907年)。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>简单地记录一下，我与中国古代史的一些历程。</p>\n<p>对历史兴趣的萌芽，自然是记不清的，小时候不仅仅是爱看动画、漫画，电视剧。还有很多父亲在寒假时期，饭后、睡前跟我讲得那些民间故事，比如三国演义、西游记、封神演义，以及一些说不出朝代的寓言、童话、志怪故事等桥段，百听不厌。</p>\n<p>真正对历史兴趣的形成，可以很确定地说是，<strong>初中七年级</strong>。而打开我历史大门的则是，<strong>汉武帝</strong>。是这个历史人物，让我废寝忘食地畅游在历史的长河中，就像打开了一个山洞中的宝藏之门，展现在我眼前的是数不尽的无价之宝。</p>\n<p>从“汉武帝罢黜百家，独尊儒术”，我的目光被儒家牵引，追溯到<strong>春秋战国</strong>，想去了解<strong>真实的</strong>儒家。一个长达500年的社会巨变时期，其中的政治、军事、思想、文化等极其繁荣，在文章这里就不展开了。要说春秋战国最吸引我的，还是它的思想和文学，也就是 <strong>「诸子百家」和 “历史、诗文”</strong>，文学方面，比如《春秋左传》、《诗经》、《楚辞》(西汉刘向编)，以及思想性和文学性皆备的诸子散文；思想方面，无疑是奠定了中华文化的「诸子百家」，关于诸子百家的一些想法，我在之前的 <a href=\"http://blog.ykqmain.com/zhuzi/\" target=\"\\_blank\">观「诸子」有感</a> 中有些许记录。</p>\n<p>而对于<strong>唐朝</strong>的向往，则是那一统盛世的<strong>开放和才情</strong>。唐朝的文学成就是不需要做过多解释的，那一篇篇诗文经典从古至今，引起了无数人的共鸣，陪伴他们消极失意，也陪他们潇洒旷达。对古代历史有兴趣的，古代文学也绕不过的。在以后的时间里，我肯定会记录下来我与诗文的那些故事，这又是一个庞大而又耗时的工程，不知几时再来一个“契机”。</p>\n<p>总的来说，我喜欢的，<strong>是春秋战国的思想哲学，是唐朝的诗词歌赋。对于三国，情感是复杂、且随年龄变化的。</strong></p>\n<p>这篇文章的主要话题，还是那个无数人都谈过、都讲过的、都懂得一点的「三国」。我并不是大师，没什么有价值的学术见解。我更不是<strong>某一个人</strong>的粉丝，捧这个，踩那个，我崇敬那个时代的每一位英雄志士，感概他们所谱写的悲壮史诗。我想写的，仅仅是<strong>我心中的三国</strong>罢了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<blockquote>\n<p>青史一页会记得，你们都是强者。</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/zgyy.png!xsy\" alt=\"\"></p>\n<p>🎵 一捧江山在掌握 - 张佳</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/js.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>最近因为一个契机，稍稍回忆了一下三国。我对于三国的认知，也不外乎那些常见的“书影音游”，以及网上的只言片语、残篇断句罢了。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/sgz1.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/sgz2.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/sgz3.jpg\" width=\"240\"><br></center>\n\n<p>太多太多英雄，<strong>孤独地</strong> 追求自己的理想，最后大多难以抵挡历史的潮流。（这股潮流可以称之为「士族」）</p>\n<p>孤独的曹操，三国时期第一人，在「周公吐哺，天下归心。」中抱憾离去，也带走了只属于他的曹魏。去世之后，他的儿子曹丕在称帝的交易中彻底葬送属于曹操的“理想”。</p>\n<p>孤独的刘备，除了姓刘之外白手起家的英雄，一无所有，起起伏伏，历经磨难，百折不挠，终于称帝，令人向往，中道崩殂，为其遗憾。“小时候喜欢刘关张，因为是主角。大一点喜欢吕布赵云马超，因为游戏形象。成熟了之后喜欢曹操诸葛亮，因为知道了能力重要性。现在反而重新敬佩起来了刘关张，<strong>因为经历</strong>。”<br>刘备去投刘表的时候已经45岁了。45岁还一事无成，因髀肉复生而惭愧，不甘于人后的倔强，谁又能体会到呢？刘备在见到诸葛亮时47岁，到底是什么在支撑一位<strong>老人</strong>如此不折不挠，想要成就一番事业呢？当孔明六出祁山，屡败屡战，上方谷吐血昏厥、五丈原秋风落泪时，在想什么呢？可能只是三十年前，一个四十多岁的男人走进他的草庐，流泪说着，先生不出，奈苍生何。在看动画版时，印象最深刻的是，夷陵之战的那把大火葬送了「蜀汉」的巅峰，刘备暮雨击鼓时回忆桃园结义的场景，在音乐的刺激下，眼泪止不住的流。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/tyjy.jpg!xsy\" alt=\"\"></p>\n<p>孤独的孙权，一个无依无靠的外来者，未成年时内忧外困的接过父兄的基业，必须依靠本地势力交换权力，他也许在意的只是吴国姓不姓孙。对本地士族的不信任，导致晚年名誉尽毁，冷落张昭、逼死陆逊，又因为“借荆州”的事件对去世的鲁肃三分微词。如果周瑜没有早逝，是否善终还不得而知，青年孙权和老年孙权可以说是两个人。</p>\n<p>荀彧也肯定是孤独的，曹魏当之无愧的二号人物，孤独得在理想破灭时，毅然选择了以死明志。荀彧的死是一个迷，但是丝毫不影响我们理解他在死之前内心的痛苦和煎熬。颖川荀氏，名士风骨。大汉忠臣，王佐之才。</p>\n<p>最孤独的，可能还是诸葛亮吧。公元220年，曹操去世，曹丕称帝，真正的三国才正式开始。说夷陵之战的失败，导致了三足鼎立，倒不如说是220年一大批人才凋零，促成了三国鼎立，曹操，关羽，程昱，吕蒙，甘宁，法正，蒋钦等，都是同一年去世的。</p>\n<p>诸葛亮接过了「季汉」的重担，展现了他天才的政治才能，去完成他「明知不可为而为之」的“兴复汉室，还于旧都”。这不是他的愚忠，「明知不可为而为之。」讲的是<strong>做事不问可不可能，但问应不应该。</strong></p>\n<p>即使是诸葛亮，也无法阻挡历史潮流，逆天改命。利用常年北伐，使国家长期处于战争状态，转移内部几股政治势力的矛盾，政治上依法治国，以身作则，但也减少不了战争的巨额费用，最后的效果也只是续命而已，但终究没有愧对大汉二十四代先帝，没有愧对刘备的三顾之恩，最重要的是，没有愧对自己的理想和坚守。</p>\n<p>其实蜀汉的灭亡，在夷陵之战失败时就已经决定了。说夷陵之战之前是蜀汉的巅峰一点都不为过。古代冷兵器时代的战争，拼的是土地粮食和人口。北方土地肥沃，人口众多，当时的中国南方大多是蛮荒之地。中国历史上经历了两次大量人口南迁，直到南宋，南方的经济才超过北方，所以从理论上来说，只有在南宋之后的时间，中国可以由南向北统一，事实上大明王朝就是由南向北统一，即使就是这样，还被北方的朱棣篡位。</p>\n<p>多猜一点，如果三国时期能够向北统一，只可能是两种情况，<br>其一，是关羽北伐威震华夏之时，孙吴不是偷袭荆州，而是共同北伐，灭掉曹魏。即使是这样，胜负仍未可知。<br>其二，则只能是曹魏祸起萧墙，自身崩溃了。亮哥在《隆中对》(节选自《三国志·蜀书五·诸葛亮传》)也提到了「天下有变」，可以说是战略眼光独到了。<br>再多说一点，夷陵之战后，假如曹丕或曹叡没有早死，曹魏统一天下，只是时间问题，没有司马氏什么事了。</p>\n<p><strong>历史没有如果。</strong></p>\n<p>可以想象诸葛丞相在这样一个情势下，鞠躬尽瘁死而后已，最后活活累死，病逝五丈原，是多么的独孤，「出师一表真名世，千载谁堪伯仲间」，难怪心系苍生、胸怀国事的杜甫是诸葛亮的迷弟。</p>\n<p>「看人间，有几番迷离。躲不过，凄风冷雨。」</p>\n<p>听歌的时候想到诸葛亮初出茅庐时，嘱咐童子打理田地，功成归来耕种，瞬间眼中含泪，<strong>潸然泪下。</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/sgml.jpg!xsy\" alt=\"\"></p>\n<p>《三国演义》实际上是人们心之所往的集中体现，而罗贯中则是集大成者。</p>\n<p>比如说没有貂蝉，也要塑造一个“貂蝉”。‬</p>\n<p>‪貂蝉可以说是由群众创造的，是舍身为国的大义，是乱世的牺牲品，是可怜的女英雄。‬</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/dc.jpg\" alt=\"\"></p>\n<p>🎵 貂蝉已随清风去 - 万山红</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/dc.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<blockquote>\n<p>辜负了锦绣年华，‬<br>‪错过了豆蔻青春。‬<br>‪为报答司徒大义深恩，‬<br>‪拼舍这如花似玉身。‬<br>‪从今后再不见尔的身影，‬<br>‪也再不闻尔的声音。‬<br>貂蝉已随着那清风去，<br>化作了一片白云。</p>\n</blockquote>\n<blockquote>\n<p>——《貂蝉已随清风去》</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/dc2.jpg!sy\" alt=\"\"></p>\n<p>悲剧英雄也，令人惋惜不已。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p><strong>然而悲剧的不仅仅是英雄，更多的是平凡的人。</strong></p>\n<blockquote>\n<p>白骨露于野，千里无鸡鸣。</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/jfml.jpg!sy\" alt=\"\"></p>\n<p>我在之前的文章中写过，</p>\n<blockquote>\n<p>对于一个人来说最高的荣誉，无疑是“名垂青史，流芳百世”。</p>\n</blockquote>\n<p>但是青史上留名的又有几人呢？大多数人不过是碌碌终身的凡人罢了，99%的人活得很悲哀。</p>\n<blockquote>\n<p>“时岁大饥，人相食。”<br>“天下饥荒，人民相食。”<br>“人民机困，二年间，相啖食略尽。”<br>“五官将知忠尝啖人，因从驾出行，令俳取冢间髑髅系著忠马鞍以为欢笑。”<br>…………</p>\n</blockquote>\n<p>还有比这些更让人痛心的么？</p>\n<p>沉迷于英雄豪情，慷慨悲歌的我们，在三国时期绝大部分人都是那“遗于野”的白骨。</p>\n<p>这里又不得不引出那个千古难题：<strong>人生的意义到底是什么？或者说人生在世到底是为什么而活？</strong></p>\n<p><strong>结合自己的经历不禁感叹。</strong></p>\n<p>太阳底下没有新鲜事。</p>\n<p>「天下熙熙皆为利来，天下攘攘皆为利往。」</p>\n<p>在浩瀚的宇宙和伟大的自然面前，社会的那些残羹冷炙显得如此渺小，但对于个人来说，又是无可奈何。</p>\n<p>对于一个普通人来说，生活的那些琐事，相比于生死离别来说，又显得不值一提。</p>\n<p>死亡是意识的消逝，是物质的解体，是他人的怀恋， 是自我的放逐，是自然的规律，是生态的循环。死亡总有一天会到来，在生命的尽头，你将彻底不再是你，就算有所剩余，其实和你也没有任何关系了。</p>\n<p>当然，确实有超越生死的东西，那就是另一个话题了。</p>\n<p>活着就会有一个个烦恼接踵而至，有人的地方就会有利益，嘴上说得冠冕堂皇，背地里却干了无数见不得人的勾当。</p>\n<p>离开没有自由的地方，然后发现无处可去。仿佛世界上没有一处容身之所，桃花源只在梦中。</p>\n<p>渺小和无力，让目前的我还无法回答「人生的意义到底是什么？」</p>\n<p><strong>万物皆有所待，我仍找不到属于自己的世界。</strong></p>\n<p><br></p>\n<p><strong>时代需要英雄。</strong></p>\n<p>也可以说《三国演义》满足了中国人的一场美梦，圣君梦的刘备，清官梦的诸葛亮，侠客梦的关羽张飞。</p>\n<p>由自己的经历，以及各种史料、小说笔记，很容易去想象在那样一个时代，底层人民过得是什么样的生活。即使是在现代社会，一个荒谬的“太平盛世”，因言获罪，自古以来。生活中的“个人”显得无可奈何，无处言说。我们急需要一位“刘备”，一位“诸葛亮”，退而求其次，有“关羽张飞”也是欢喜的。而这些也不过是在梦中罢了，是生活、使得三国更添悲凉。曹操是孤独的，诸葛亮是孤独的，很明显，<strong>我也是</strong>，每个平凡的人都是。</p>\n<p><strong>孤独中还透露着无助。</strong></p>\n<p>三国无疑是悲剧，但这个一出出悲剧中，还蕴含着<strong>情义</strong>的光。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<blockquote>\n<p>豪情相依，生死相伴<br>天涯无处，不念桃园<br>三人成众，何惧患难<br>诚心能纵沧桑变幻</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/ty.jpg\" alt=\"\"></p>\n<p>🎵 四季 - 曾黎</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/sj.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>说到情义，没有人不向往“桃园结义”，越是向往的东西，就越是求之不得，可惜“桃园”是公认的空前绝后。</p>\n<p>如果不是桃园结义的情义，刘备暮雨击鼓的悲凉也不会让曾经少年的我至今难忘，直击内心，感同身受，悲痛不已。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/myjg.png!sy\" alt=\"\"></p>\n<p>越长大，就越能感到这个金钱社会的利益关系链，无情无义，唯利是图，甚至不惜侵犯别人的权利，昧着良心去做利己之事。人人自危，自己的正当权益都得不到保障，变得只能明哲保身度日。苦中作乐，从头到脚的失望；强颜欢笑，由内而外的心寒。这个局面不是一天造成的，也不是一个人造成的，还是一双双无形的利益之手，一次次偏离选择出来的结果，可惜的是没有英雄能够力挽狂澜。</p>\n<p>在这种对比之下，就更是欣赏三国的<strong>情义和血性</strong>，更是感叹三国的<strong>悲凉和痛心</strong>，更是向往三国的<strong>英雄和美梦</strong>。</p>\n<blockquote>\n<p>曹孟德瞝酒临江横槊赋诗，正欲澄清宇内一匡天下，火烧赤壁了；<br>周公瑾谈笑之间烟卷赤壁，正欲西进巴蜀两分天下，遇疾暴亡了；<br>关云长水淹七军威震华夏，正欲挥师北伐兴复汉室，白衣渡江了；<br>诸葛亮六出祁山火烧司马，正欲克复中原还于旧都，天降大雨了；<br>…………<br>还有“秉忠贞之志，守谦退之节”的荀彧；<br>还有“”大丈夫生于乱世，当带三尺剑，立不世之功”的太史慈；<br>还有“臣等正欲死战，陛下何故先降?”的姜维。<br>…………</p>\n</blockquote>\n<p><strong>梦是要醒的。</strong></p>\n<p>「弹指间，九九归一。」</p>\n<p>三国归晋，这一切，最后都输给岁月。</p>\n<p>任你雄心壮志，任你英雄盖世，任你计谋百出，到头来都是一场空。这就是悲剧，只能看，无能为力。</p>\n<p><br></p>\n<p>一段三国，就像是一场梦。那些运筹帷握、浴血奋战、倾心托付、蹈死不顾，意义又何在呢?</p>\n<p>人生亦如是。</p>\n<p>人力渺小，事多徒劳，天地茫茫，万事皆空。</p>\n<p><strong>「人生如梦，一尊还酹江月。」</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lishi/hanzhong.jpg!xsy\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["历史"],"tags":["历史","文学","中国","古代史","思想","文化","英雄","春秋战国","三国","汉唐","感叹"]},{"title":"观「诸子」有感","url":"https://blog.ykqmain.com/zhuzi/","content":"<p>在之前的文章里插了一嘴，</p>\n<blockquote>\n<p>轴心时代的那些先贤们。德国思想家卡尔·雅斯贝尔斯在《历史的起源与目标》一书中第一次把公元前500年前后同时出现在中国、西方和印度等地区的人类文化突破现象称之为“轴心时代”。中国有儒道墨法为主的诸子百家，西方有希腊三贤，苏格拉底，柏拉图，亚里士多德。</p>\n</blockquote>\n<blockquote>\n<p>西方的哲学不太了解，诸子百家过于庞大，在这里不能展开，我也没有那个能力和知识。只说在礼崩乐坏的春秋战国时代，四家对当时社会各抒己见、辩论激烈，孔子说退到周（周监于二代，郁郁乎文哉，吾从周——《论语 八佾》）；墨子说周不行，得退到大禹；孟子再往后退一步，回尧舜；道家说还不行，最好退到太古，无为而无不为；只有法家，与时俱进，顺应时代潮流，用他们的鲜血，将中国送入了新的封建时代。时代的变迁都是鲜血流出来的，“法家”代表一般不得善终。</p>\n</blockquote>\n<blockquote>\n<p>虽然说中华五千年有吹嘘的成分，但是不得不承认中国历史悠久，在我看来，炎黄神话，夏质朴且飘渺，商始有文字但重鬼神，直到周（前1046年）才有文化，这个文化在诸子百家奠基，成熟于汉武帝时董仲舒罢黜百家独尊儒术，所以也叫汉文化。</p>\n</blockquote>\n<blockquote>\n<p>多说一点的是，由于儒家文化对中国人的植根深入，一旦出现了“什么”事，就批孔，到了又有政治需求了，又尊孔。我觉得这对孔子本人极其不公，且不说董仲舒的儒家和程朱理学（继承古代儒学融汇释老的新儒学）与先秦儒家（孔孟荀）天壤地别，光是对这样一位伟大的思想家如此对待，已经是无法形容的愚昧了。况且每个人都有时代的局限性，伟大如亚里士多德也不能摆脱奴隶制的时代局限，作为一个现代人，对某一种思想文化“取其精华，去其糟粕”应该是最基本的思考辨别能力。诸子百家就是一个无尽的宝藏，可惜现代人都不怎么待见，其实他们一本书也不曾翻过，不可能懂得其中的智慧，以及先贤们的孤独。</p>\n</blockquote>\n<blockquote>\n<p>不争也罢。</p>\n</blockquote>\n<p>最近又浏览了《孟子》和《庄子》，我本来是没有能力对「诸子百家」有什么见解的，但还是<strong>忍不住</strong>表达一二，就当是一种宣泄吧。至于是对什么的宣泄，则不重要了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>我始终认为，对于一个人来说最高的荣誉，无疑是“名垂青史，流芳百世”。这即是所谓的“长生不老”之术。</p>\n<p>早在高中时期我就说过，</p>\n<blockquote>\n<p>我深知前人内心的孤独与苦闷，然而我的内心，也只有由后人去体会了。</p>\n</blockquote>\n<blockquote>\n<p>“所以隐忍苟活，幽于粪土之中而不辞者，恨私心有所不尽，鄙陋没世，而文采不表于后世也。” (司马迁《报任安书》)</p>\n</blockquote>\n<blockquote>\n<p>唯愿留下一部传世之作，让它在未来的某一天被后人欣赏，然后再梦游来天上与孤独的我谈心吧，也不枉此生了。</p>\n</blockquote>\n<p>现在看来，我当然没有太史公的悲惨遭遇，也没有太史公的「历史」使命，更没有太史公的才华横溢。</p>\n<p><strong>对我来说，「传世之作」早已化为了虚无，「风骚」之作亦无能为力，姑且只有零零散散的语句倒是可以留得下来，也算是一丝存在过了的痕迹，作为曾经活在这个世界上的证据。“愿成「一言」，流表后世。” 我也心满意足了。</strong></p>\n<blockquote>\n<p>我有这个地方、也只有这个地方，能够尽情挥洒了。前几天看到一个帖子说，写博客总是觉得之前的写的不完美，喜欢删除。我之前也是那种心态，导致删除了太多宝贵的记忆。无论喜悲，回忆总是极其珍贵的人生“财富”，也许那时候的想法还挺幼稚，甚至未来再看的时候有些尴尬、有些“羞耻”，但它们确实是我人生中真实的一部分，属于我，组成了一个真实的我。以后的博客，我会尽量保存。</p>\n</blockquote>\n<p>写这篇文章，正好也能对我的人生某一方面做一个回忆，以及对二十余岁的我做一个小结。这年头，即使科技如此发达，我们看到的，都是他们想让我们看到的。当朝历史的粉饰，以及对前朝的抹黑，造就了即使真相只有一个，但是往往藏积太深，窥探不得。可以料想得到的是，在未来再看这篇文章稚气遍地，但也不能阻止我，留下一个<strong>属于此时此刻真实的我</strong>。</p>\n<p>本篇的主题是「诸子百家」，当看到这「诸子」这个词时，不得不提对我影响最深的孟子，</p>\n<p>《孟子》，善于辩论，气势磅礴。思想性文学性是先秦诸子散文的两大特征，无疑是一个大宝库。</p>\n<p>随便摘录几句就爱不释手，反复吟诵。</p>\n<p>比如「知言、浩然」两大法宝，大多耳熟能详，不必展开。</p>\n<p>又如「民为贵，社稷次之，君为轻。」以及，「齐宣王曰：“汤放桀，武王伐纣，有诸？”孟子对曰：“于《传》有之。”曰：“臣弑君可乎？”曰：“贼仁者谓之贼，贼义者谓之残。残贼之人，谓之一夫。闻诛一夫纣矣，未闻弑君也。”」 (《孟子·梁惠王下》) 在目前环境下，不能展开，也不便多说。</p>\n<p>再比如孟子的三乐，父母兄弟健在；<strong>仰不愧于天，俯不怍于人</strong>；得英才而教育。</p>\n<p>对我影响最深的还是，「得志与民由之，不得志独行其道。穷则独善其身，达则兼济天下。」</p>\n<p>虽然我最崇拜的人就是孟子，但是我自己本身是一个消极悲观，且“无为”的人，不是因为我本就如此，而是我的能力不足，社会压力、家庭压力、房价压力导致我只能为了衣食住行奔波一生。“独善其身”已经是极限了。毕竟在好人吃亏，遵纪守法都不能保全自己的时代，独善也显得弥足珍贵。</p>\n<p>前不久看完孟子之后，后来正好也翻阅了庄子，「至人无己，神人无功，圣人无名。」儒道释可以说是中国人的三大支柱，也许几乎每个人都是从积极入世，到失望，再到消极出世的吧。</p>\n<p>即使在3000年的历史文化长河中，能数得出名字也没有几个。「天高地迥，觉宇宙之无穷，」放眼宇宙，则更是渺小得毫无痕迹，在浩瀚的宇宙和伟大的自然面前，社会的那些残羹冷炙显得如此不值一提，但对于个人来说，又是无可奈何。</p>\n<p>即使《孟子》对我影响最大，但耳边萦绕而来的，仍然是那句<strong>「学而时习之，不亦说乎？」</strong> …………</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<h2 id=\"初瞰儒家\"><a href=\"#初瞰儒家\" class=\"headerlink\" title=\"初瞰儒家\"></a>初瞰儒家</h2><p><br><br><br><br></p>\n<p><strong>未完待续</strong></p>\n<p><br><br></p>\n","categories":["历史"],"tags":["中国","思想","感想","诸子百家","哲学","孔孟荀","老庄"]},{"title":"蓝弧动画——十万年轮回","url":"https://blog.ykqmain.com/lanhu/","content":"<p>莫名其妙就高产了，从来没有在这么短时间连写两篇文章，就像我之前写过的「现在‘快餐时代’，Twitter、微博的兴起，几句话，几张图记录生活显得方便快捷，长篇大论显得极其艰难，很难有心思坐下来，长篇大论地写博客。」何况上次写“虹猫蓝兔”，回忆、构思，构建文章结构、逻辑顺序，找美图、音乐、排版，熬到了凌晨1点半，光是回忆，就花了足够的时间，对于一个强迫症来说，每一篇写在博客上文章，必是倾尽全力使其趋于完美，累成狗，但是确实在完成的时候，心情是愉悦的，起码我又在世界上添加了几个微不足道的字，留下了属于我自己的足迹。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>对于现实的不满，大多有两种缓解办法，<strong>一是做梦，二是怀古。</strong> 陶渊明辞官，有「归去来兮，田园将芜胡不归」；李白饮酒，有「人生得意须尽欢，莫使金樽空对月」；苏轼泛舟，有「寄蜉蝣于天地，渺沧海之一粟。哀吾生之须臾，羡长江之无穷」。</p>\n<p><em><strong>没有人愿意真的回到过去，对过去的怀念，都是对现在的不满，亦或是是对现实的逃避。</strong></em> 只有面对现实，直视问题，才能有未来。然而这一系列“问题”，是在伤人太深，情不自禁的追忆往日，不得不暂时逃避一会，回到那个美好的记忆里。</p>\n<p>以前的乐趣很多，动画是其中的一大支柱，这里面包含了无数的喜怒哀乐，组成了一个自动屏蔽了伤心回忆的美好虚拟世界。即使是动画也有很多种类，按国家分类有国产，日本，美国和其他，其中国产动画和日本动画无疑是对90后影响最大的。最近对国产动画沉迷其中，前两天回忆了宏梦卡通的 <a href=\"http://blog.ykqmain.com/honglan/\" target=\"\\_blank\">虹猫蓝兔系列</a>，还有许多国产动画也非常精彩。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>打开了QQ音乐随便听，一直人工智障的推荐算法不得我心，可能我这两天一直循环虹猫蓝兔，他终于给我推荐了一个首令我发呆沉思的一首歌。</p>\n<p>🎵 诺言 - 陈洁丽</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/ny.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>世界上美好的东西有限，音乐便是其中之一。人，生来不懂音乐，真的很亏。然而对我而言，可预见到的，他将是我人生的遗憾之一。每一首歌，每一部动画、电影，都伴随着过去人和事的回忆，就像之前我写过的，</p>\n<blockquote>\n<p>期待你的歌声，是为了永恒的铭记。<br>多少年后，因为太多对世界的无奈和不屑，我会忘记一切、除了歌声储存的一切，<br>即使经过岁月的洗礼显得“并不太美好”。</p>\n</blockquote>\n<p>这首歌则是把我拉入了那一段记忆里。他背后承载的是我记忆里两部画风相近，同一家公司制作的两部动画——蓝弧动画的《洛洛历险记》(2009)和《超兽武装》(2011)。这两部动画，都是机甲科幻冒险的高智商动画片。</p>\n<p>《洛洛历险记》有重制版《武战道》</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/ll.jpg!xsy\" width=\"480\"></p>\n<p><br></p>\n<p>《超兽武装》有两部《仁者无敌》和《勇者无惧》。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/c1.jpg\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/c2.jpg\" width=\"360\"><br></center>\n\n<p><br></p>\n<p><strong>先说《洛洛历险记》(2009)，</strong></p>\n<p>洛洛是游戏高手，从现实世界进入到一个“机战王”的虚拟世界里面，机车族和猛兽族是两个对立阵营。设定里，机车族有6个“部族”，猛兽族有3个“部族”，2个机车族合体可以打败一个猛兽族，而且2个合体的机车有区别，能打败的对象也是唯一的。也就是说，其中有一定的“一一对应”的关系。这个设定也导致了，本剧里面最精细的一个谋略。人物的刻画，让小时候的我对猛虎王有一种“曹操”的感觉。</p>\n<p>值得一提的是，动画不是两个阵营的无脑对打，里面有团结机车族的冒险历程，有忠心耿耿且惺惺相惜的反派金铁兽，也有一个黄雀在后的蓝毒兽，与虹猫蓝兔里面的马三娘以及超兽武装里面的鬼王有异曲同工之妙。动画，不应该是低幼的代名词，很多人看到能变形的机甲就讽刺抄袭变形金刚，动画的核心与影视一样，仍然是剧本，是剧情。</p>\n<p>而且蓝弧动画的台词很多都具有一定的哲理性，这在超兽武装里面更是表现得淋漓尽致。</p>\n<p><br></p>\n<p><strong>再说《超兽武装仁者无敌》(2011)，《超兽武装勇者无惧》(2011)，</strong></p>\n<p>🎵 尘曦 - 陈洁丽</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/cx.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n\n<p>《超兽武装》是蓝弧动画，以及奥飞动漫共同出品的，[奥飞就是那个战龙四驱，雷速登闪电冲线，巴啦啦小魔仙，电击小子，铠甲勇士，火力少年王……的那个公司]，这里先不提奥飞，只讲《超兽武装》。</p>\n<p>由于年代久远，我忘了完整的剧情，我只记得基本的轮廓以及当年看这部剧的感觉。中学看的，每天吃完饭看一集就去上晚自习，如果说虹猫蓝兔是第一国产武侠动画，那么超兽武装就是第一国产哲理动画。如果不完整看完两部动画，是无法理解动画表达的东西的。</p>\n<p>主角穿越于不同的平行宇宙冒险，每一个平行宇宙都有一个动人而发人深思的故事。世界设定里面仍然是两大阵营，雪皇和冥王。</p>\n<center class=\"half\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/xh.jpg\" width=\"360\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/lanhu/mw.jpg\" width=\"360\"><br></center>\n\n<p><br></p>\n<p>初看动画，会因为各种表象、外表、名字不自觉地把雪皇认为是正方，冥王是反方。然而大多数富有哲理的台词，都是冥王说出来的。在最后决战的时候，雪皇和冥王僵持不定，第三方鬼王站出来打破了平衡，剧情出现了非常强烈的反转。最后顿悟，这个世界里没有所谓的反派，立场不同，存在着一种<strong>平衡和轮回</strong>的哲学。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>以前看的电视，一般都不太完整，每当看完一部动画的时候，由于自身表达能力不足，文字功力欠缺，总像是憋在脑子里面的气，出不去，但是心里明白。</p>\n<p>我始终认为优秀的动画作品，是短小而精悍的，比如以上提到的动画，以及日本的《死亡笔记》、《未闻花名》、《四月是你的谎言》等等。也有反例，节奏拖拉，因赚钱而败坏口碑等等，具体作品就不多说了。商业化，无可厚非，但是我对其已经没了情怀（当然情怀不值钱）</p>\n<p><strong>但是情怀是信仰，多少钱也不换；情怀是由时间塑造且不可逆的，多少钱都换不来。</strong></p>\n<p>对我而言，以前看了一部动画，如果能达到角色扮演的地步，留在心底久久不能释怀，直到现在还记忆深刻且不反感的，那么他就是情怀了。</p>\n<p><br></p>\n<p>“当你仰望星空,以为那些闪耀的星光都是亘古之前的残迹，非也，那是你的双眼洞穿了光阴，宇宙的岁月像画卷一样平展在天宇之上。”</p>\n<p>我们的信息以光速在宇宙各处遍历，我们从来不曾死去，我们的此在占有时间，当我们的信息被彼在观测到时，我们就是存在的。</p>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","动画","感想","国产","经典","励志","蓝狐"]},{"title":"虹猫蓝兔——致童年，望归来","url":"https://blog.ykqmain.com/honglan/","content":"<p>好久没有看动画了, 现在的大多数动画，画质倒是能感动哭，却完全没有能提得起兴趣的剧情。由此甚是想念以前老的动画，以及那个时候看动画的感觉。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>日常逛了下B站，看到了<a href=\"https://www.bilibili.com/bangumi/media/md5373/\" target=\"_blank\" rel=\"noopener\">《虹猫仗剑走天涯》</a>，随手点进去回忆了一下结局。</p>\n<p>🎵 幸福 - 袁接伟</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/xingfu.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/2.jpg!xsy\" alt=\"\"></p>\n<p>看哭了，又想起了初中的那个暑假，以及小鹿姐姐。少儿频道早上会重播前一天晚上的动画，一般是过早回来守着看，几乎一集不落，以至于现在我还能记得许多剧情，这在网络不发达的年代是很难得的。</p>\n<p>曾经因为洗澡错过了CCTV6的《瑶玲啊瑶玲》最后一集，失落了很久，最后不知道怎么才走出来的。</p>\n<p>不得不感叹，<strong>以前的电视真好看。</strong></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>之后又情不自禁地点开了<a href=\"https://www.bilibili.com/bangumi/media/md5375\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔勇者归来》</a>，直到现在，我才得知，当年的宏梦卡通已经被收购，而勇者归来也没有了后话，原定104集，目前只有52集。</p>\n<p>🎵 勇者归来 - 薛振华</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/yongzheguilai.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/4.png!sy\" alt=\"\"></p>\n<p>看到别人的评论了解到，</p>\n<blockquote>\n<p>《虹猫蓝兔勇者归来》是“虹猫蓝兔系列”最后一部正统武侠续作，未填完的坑，当年第一版海报时，曾打出虹猫蓝兔武侠收宫作的标题，后来怕粉丝伤心这版海报就一直在官方的电脑里，宏梦卡通鼎盛时是有上千人员工的，后来整个公司就二十几个人了，当年很多事情发生的很突然，勇者归来的后续就搁置了，因为宏梦没钱了没人了，被收购前一直在制作跳跳外传，当时就差后期配音和剪辑了，也就是新公司现在在宣传的七侠传外传，画风辣眼睛，因为当时宏梦已经没钱做原来的画风，无奈做了Flash，后来宏梦卡通被长城动漫收购，虹猫版权也卖给了别的公司，曾经的宏梦卡通就这样没落了。<br>——via 浮生梦行  在 《勇者归来》下的热评</p>\n</blockquote>\n<p>看到这时，辗转反侧，难以入眠。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>接着花了小半天跳着补完了最经典的<a href=\"https://www.bilibili.com/bangumi/media/md5366\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔七侠传》</a>，<strong>温故知新，引人入胜，笑中带泪，热血沸腾，依依不舍，真是舍不得看完。</strong></p>\n<p>🎵 人生不过是一百年 - 袁接伟</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/rensheng.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/1.jpg!xsy\" alt=\"\"></p>\n<p>剧情一开始就让我对“张家界”这个风景秀丽的地方的感觉非常亲切，感叹玉蟾宫宫主蓝兔的美丽善良以及坚强，不是圣母，也绝非花瓶，毫无疑问堪称人生第一代“女神”；感叹一身正气潇洒大气的混世魔王大奔；感叹莎丽在被如此对待之后仍能站起来苦练左手剑法的坚强勇敢；感叹卧底魔教十年隐忍最后才公布身份的护法跳跳。当然还有悬壶济世的团队奶妈逗逗，顾家爱妻的达达，以及不用过多描述的虹猫。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/lz.png\" alt=\"\"></p>\n<p>为紫兔掩护受伤的虹猫而自曝触动，为莎丽的遭受心痛不已，在蓝兔为莎丽在百草谷滴血碧血真情七叶花感动得头皮发麻，在老牛为一生兄弟大奔牺牲时眼含泪光，在六嫂为保护奔雷剑的钥匙水火棍跳下火缸时悲戚。这与“仗剑走天涯”中的大郎、白煞，以及“光明剑”中的雪晶夫人、黑风一样，有“套路”之嫌，却并不反感。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl00.png\" alt=\"\"></p>\n<p>这部剧的反派，也都是有血有肉的饱满人物，义薄云天的牛旋风，为了一辈子的兄弟大奔挡箭，令无数人动容；心狠手辣的马三娘，也有自己的苦衷，观众恨得越深，矛盾越激烈，说明塑造得越好。痴情的黑小虎，也许在他爱上蓝兔，被蓝兔拒绝的时候，就有了赴死的决心了，在与黑心虎的争执之后，既觉得没有父亲的关心，也得不到蓝兔的爱，最后含恨死在了地雷阵上。而一直忠心耿耿，好色喜功的猪无戒，所作所为令人咬牙切齿，在最后被黑小虎杀死的时候，也有一丝怜悯之心，他只是一颗棋子。对最后对黑心虎而言，其实对黑小虎百般关爱，但平时却没有表露出来，最后失去了他，活着也显得毫无寄托，不再追寻麒麟，而是一心报仇，正面接下了不可能抵挡的七剑合璧……</p>\n<p>如此种种，数不胜数，七剑合璧之后的回味良久，很久没有这种感觉了，不仅仅是剧情带来的紧张节奏和情感共鸣，还有回忆带来的阵阵感动，久久不能回神……</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl.png\" alt=\"\"></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>最后还是稍微补了几集<a href=\"https://www.bilibili.com/bangumi/media/md5374\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔光明剑》</a>，这一部印象最浅，当时是初中，看电视的机会都不多，也就没有追剧的时间。</p>\n<p>🎵 光明之巅 - 关芯</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/guangmingzhidian.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/3.jpg!xsy\" alt=\"\"></p>\n<p>至此就基本捋清了“虹猫蓝兔正传”的顺序，</p>\n<p><a href=\"https://www.bilibili.com/bangumi/media/md5366\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔七侠传》</a> (2006) (108集)</p>\n<p><a href=\"https://www.bilibili.com/bangumi/media/md5373/\" target=\"_blank\" rel=\"noopener\">《虹猫仗剑走天涯》</a> (2008) (108集)</p>\n<p><a href=\"https://www.bilibili.com/bangumi/media/md5374\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔光明剑》</a> (2009) (79集)</p>\n<p><a href=\"https://www.bilibili.com/bangumi/media/md5375\" target=\"_blank\" rel=\"noopener\">《虹猫蓝兔勇者归来》</a> (2010) (52集) [待续]</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>本来只是想稍微写一点做个纪念而已，没想到写着写着就写了这么多，也许真的是真情流露才会滔滔不绝。</p>\n<p>🎵 心中想的还是他 - 禹丁洁</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/xinzhong.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p>写到这里，该总结的时候，却有一种无语凝噎的感觉，这真的是一个会看哭的动画，也许很多人认为他低幼而贬低，也许有人因为各种“杠”而不屑，甚至还有人认为他暴力情色血腥而举报。<strong>对我来说，他们带给我的感动，绝对不仅仅是因为童年带来的“情怀”而感动。好的作品，历久弥新，再看仍能被吸引，也能跟随人物的喜怒哀乐而转移情绪，久久不能自拔，就像真的是身边的朋友一样。</strong>这年头，真正的朋友来之不易，我定当倍加珍惜。</p>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl2.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl3.jpg\" width=\"240\"><br></center><br><center class=\"third\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl4.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl5.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl6.jpg\" width=\"240\"><br></center><br><center class=\"third\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl7.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl8.jpg\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl9.jpg\" width=\"240\"><br></center>\n\n<p>人生总有不如意，在身体还好的时候，就会想着多赚钱，在身体不好的时候，就想着只要身体健康就够了。人生不过是一百年，也许人生的意义不是做出多么大的贡献，而是感受生活的快乐。而这部作品，毫无疑问为生活多添了几分乐趣，还有感动。</p>\n<p>最后，在B站打赏了5元，以表谢意。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/bz.png!xsy\" alt=\"\"></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>除了珍惜已有了，请允许我再奢求多一点，</p>\n<p><strong>勇者归来，何时归来？</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/fenghuang.png!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/guilai.png!sy\" alt=\"\"></p>\n<p>对于自己热爱的事物，总是抑制不住用某种方式纪念他。</p>\n<p>其实对于虹猫蓝兔的分析，网上有太多太多，这里也只是我自己刚刚的一点感悟，只做个纪念罢了。本来想做个视频来纪念一下，想起来曾经被Pr支配的恐惧，我再也没有剪切过视频了。。。。。。</p>\n<p><strong>就写到这里吧，留个念想。</strong></p>\n<p><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl01.png\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/honglan/hl02.png\" alt=\"\"></p>\n<p><br></p>\n<p><strong>希望明天会更好。</strong></p>\n<p><br></p>\n<p>//参考：</p>\n<ul>\n<li>已知画师：泽礼zer(微博)，今天木子摸鱼了吗(微博)</li>\n<li>图片来源于网络</li>\n</ul>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","童年","动画","感想","国产","冒险","武侠"]},{"title":"毕业随想","url":"https://blog.ykqmain.com/graduate/","content":"<p>今年没有更新博客，不是懒，而是没有心态。即使现在更新了这篇文章，也是一些乱七八糟的胡言乱语。</p>\n<p>我有这个地方、也只有这个地方，能够尽情挥洒了。前几天看到一个帖子说，写博客总是觉得之前的写的不完美，喜欢删除。我之前也是那种心态，导致删除了太多宝贵的记忆。无论喜悲，回忆总是极其珍贵的人生“财富”，也许那时候的想法还挺幼稚，甚至未来再看的时候有些尴尬、有些“羞耻”，但它们确实是我人生中真实的一部分，属于我，组成了一个真实的我。以后的博客，我会尽量保存。</p>\n<p>现在“快餐时代”，Twitter、Instagram、微博的兴起，几句话，几张图记录生活显得方便快捷，长篇大论显得极其艰难，很难有心思坐下来，长篇大论地写博客。好在毕业季最后的日子，显得清闲，坐在图书馆，花了几天时间写成这篇文章，因为这个时刻不得不记录下来。</p>\n<p>是时候回忆一下大学的生活，作一个总结了。</p>\n<blockquote>\n<p>只是在我心中还有一方净土，即使在别人眼里寸草不生，却一尘不染。</p>\n</blockquote>\n<p><br></p>\n<p>🎵 云烟成雨 - 房东的猫</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/graduate/yunyanchengyu.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>说实话，熟能生巧，勤能补拙，写作也是。好长时间不去写，一些技巧、套路都不会用了，甚至都不知道如何写开头。好在这是我的博客，不用像试卷上的作文那样，为了分数而偏离本心。我已经不会写文章了。</p>\n<p>那就随心所欲，逻辑不重要，重要的是感情和记录，<strong>想到哪，写到哪。</strong></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<blockquote>\n<p>人类的悲欢并不相通，我只是觉得他们吵闹。</p>\n</blockquote>\n<p>在这个大学最后的日子里，我没有太多悲欢离合的情绪，甚至有些小小的欢喜，只因为<strong>终于</strong>快要离开了。<strong>没有特别值得留恋的人和事，也没有特别戳心痛苦不堪的回忆，</strong>我对学校基本没有什么怨言，甚至还有些怀念那些曾经帮助过我的辅导员，真的非常谢谢她们（特别是“娜姐”，在此表达我最衷心的感谢）。除了那个糟心的寝室，我在此不想多提。</p>\n<p>我对“大学应该如何度过？”这个问题的回答可以概括为：</p>\n<p><strong>努力而无憾，足矣。</strong></p>\n<p>这个道理谁都懂，只是不是自己的经历，不会有太深刻的感受。从时间轴对比以上回答来回忆我的大学生活，只是时间久远，加上没有额外的文字图片辅助，回忆可能会有遗漏或者偏差。当然也可以说，既然能忘掉的，说明不重要，那我就忽略那些遗漏的东西，放弃回忆的完整性，力求能够保证回忆的真实性。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>抱着我的第一代 <em>Anna</em>——Lenovo笔记本来到学校，伴随着高考失败，心态爆炸。然后辗转到图书馆做了一学期管理员，心稍微静了下来。</p>\n<p>刚来学校的时候，除了图书馆，还加入了学校动漫社，在10月份的时候去了一次漫展。那时候还在用Windows，所以游戏是不可避免的，LOL，星际争霸2，最终幻想14是目前还能回忆起来的Win游戏。除此之外，手机也是安卓，那时候用安卓安装了模拟器，完整通关了《口袋妖怪 叶绿》，这是我小时候最羡慕的游戏，我也许是个恋旧的人。</p>\n<p>到了下学期，手机已经坏了2个，本来想尝试小米，奈何总是无货，一气之下打开了Apple的官网，从此打开了新世界的大门。得到了人生第一部iPhone——iPhone6，我给她取名 <em>Nana</em>，与我的电脑相呼应，她们是我最好的朋友😄。</p>\n<p>我在这学期中途退出了图书馆的工作，原因很大一部分是因为那个“部长”的态度，不多表述。</p>\n<p>我还看了大量的动画，在看完《四月是你的谎言》之后，我就很少看新出的动画了，可能是被伤了，久久不能治愈吧。</p>\n<p>暑假去了父母那里，在北京。北京的生活是丰富多彩的，那个房间的微风，我至今记忆犹新，是我妈为我特地准备的一个房间。之后游遍了北京城，以及郊区的长城，还碰到了两个同学。在转两次了Apple Store之后，便对Mac恋恋不忘，父母最后还是在8月给我买了MacBook Pro，真的非常谢谢他们。我把这台笔记本仍然取名 <em>Anna</em>，很显然她是第二代Anna了，原来的Lenovo笔记本留给我爸办公了。</p>\n<p>暑假在北京的时期，除了出去游玩之外，我在我的Win上用mpc-hc播放器，又看了大量的动画，这是我印象中我最后一次看大量动画的记忆了。除了动画，我开始学习C++。</p>\n<p><br></p>\n<p>时间转眼到了大二，有让人极其糟心的事出现了，这个事一直伴随到毕业，就是前文提过的寝室问题。我的寝室在一楼，住了四年。亚热带季风气候，夏季高温多雨，冬季寒冷干燥。</p>\n<ul>\n<li>一天到晚，见不到太阳光。</li>\n<li>夏天的早上起来，被子用手摸都能感受到的湿度。</li>\n<li>每次暑假来，桌子柜子全部发霉了，每次来学校都意味着洗一个星期的衣服床单被套。</li>\n</ul>\n<p>除了恶劣的自然环境，室友自然也是不如意，比如出门从来不带钥匙总需要一个人专门开门，打游戏开外音，晚上打呼噜……多余的细节我也不便多说。在大二开始，麻烦多次辅导员，换了三次寝室，折腾了四次，才稳定下来。所以我必须在此感谢我的辅导员“娜姐”🙏。</p>\n<p>在学习上，接着暑假的C++学习，之后又开始自学Python。</p>\n<p>iOS可以折腾捣鼓一个学期，OS X一个全新的系统，毫无疑问是非常有吸引力的，之前的类Unix只接触过Ubuntu。</p>\n<p>再之后接触了域名，服务器，VPS，以及墙外的世界，开始了Twitter之旅。在11月份的时候开始搭建本博客，折腾直至寒假。</p>\n<p>在寒假期间，我和她又有了新的接触。</p>\n<p>之后持续折腾着博客和OS X，Python的学习之后是Java。</p>\n<p>发现在Ubuntu上的游戏<a href=\"http://www.wesnoth.org\" target=\"_blank\" rel=\"noopener\">韦诺之战</a>是跨平台的，于是在Mac怀旧了一下，同时也重温了一遍《网球王子真人版》(中国)，以及《网球王子》动画。</p>\n<p>之所以想到去重温网球王子，除了坑爹的体育课选了三学期网球之外，还是与她有关。网球和散步的浪漫，以及电影遗憾，和没有理由的无奈，混着夏天的风，显得甜蜜。</p>\n<p><br></p>\n<p>大三一来，毫无疑问又是一个星期的洗和晒。🙂</p>\n<p>11月份，在枫叶红了之际，经历了无数波折之后，终于跟她在一起了❤️。在《你的名字》弥补那些遗憾。</p>\n<p>在一起之后的日子并不全是美好的，有欢笑，也有争吵。</p>\n<p><br></p>\n<p>再之后的回忆，关于考研自习室的一点感受。</p>\n<p>看到自习室的时候，不禁想起倒数第二排，靠窗的那些日子，如果在动画中，那可能是一个会开挂的男主角，然而在现实中却是不折不扣的一个悲惨 的人，或者说是悲惨的「一个」人。</p>\n<p>那些背后的努力，有些心里的感情，别人是不会懂的，也许他们会无条件的给你安慰和支持，但那也不过是出于朋友们的善意。</p>\n<p>但是，当自己准备好的时候，不说身边的冷嘲热讽，就她妈的连一个位置都没有。</p>\n<p>那时候窗边温暖的春风和今天新鲜的阳光如此相似，以至于让人觉得，我和我的影子从未改变，茕茕孑立于浮世，它可能是最美好的阳光，是一我唯一的依靠。</p>\n<p>小人物的生活，琐碎的事情，无尽的烦恼，说不出的人生。</p>\n<p>有时候你的努力别人不会看见，只有你自己，才能看到你自己。</p>\n<p>「君子见机，达人知命。」</p>\n<p>反正自己本来就是一个人，其他的让他随风而去吧。还好图书馆又在那里，不离不弃。</p>\n<blockquote>\n<p>寄蜉蝣于天地，渺沧海之一粟。<br>哀吾身之须臾，羡长江之无穷。<br>挟飞仙以遨游，抱明月而长终。<br>知不可乎骤得，托遗响于悲风。<br>——苏轼《前赤壁赋》</p>\n</blockquote>\n<p><br></p>\n<p>从阴暗的寝室走出来，外面是明媚的阳光，甚至还有点刺眼。</p>\n<p>缓缓地挪动步子，少有的环视四周。阳光透过树的缝隙，伴随着夏天的风，给人有慵懒的感觉。</p>\n<p>即使是每天独来独往的穿梭于几个点，最近也耳濡目染发生在身边的毕业照活动，这说明留给我的大学时间不多了。</p>\n<p><br></p>\n<p>就像我之前说的，</p>\n<blockquote>\n<p>小学是一个班的小学，<br>初中是一群人的初中，<br>高中是几个人的高中，<br>…………<br>我想，大学应该是<strong>一个人的大学</strong>。</p>\n</blockquote>\n<blockquote>\n<p>谁走进我的生命，由命运决定，<br>谁停留在我的生命中，由我自己决定。</p>\n</blockquote>\n<p><br></p>\n<p><strong>我的大学生活就这样，结束了。</strong></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>🎵 紫苑 - makegumi</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/graduate/ziyuan.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>三年前，抱着对面码的爱，废寝忘食剪辑了这个视频，那个时候的心态，真是纯粹。</p>\n<p><a href=\"https://www.bilibili.com/video/av2316078\" target=\"\\_blank\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/graduate/mianma.jpg\" alt=\"未闻花名\"> </a><br>(点击图片跳转Bilibili)</p>\n<p>偌大的世界，竟然找不到一丝归属感。除了Bilibili还有情怀，剩下的，全是孤独。不是争锋相对的撕逼，就是利益驱使的各种莫名行为。</p>\n<p>天下熙熙皆为利来，天下壤壤皆为利往。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>🎵 四季 - 曾黎</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/graduate/siji.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>「好长啊，这一轮四季。」</p>\n<p>七年前的冬天，晚自习之后，我经常哼着这支曲子骑自行车回家，寒风中夹杂着一丝丝悲凉，还有对英雄们的向往。</p>\n<p>「看人间，有几番迷离。躲不过凄风冷雨。」</p>\n<p>结合三国的背景，唱的令人心碎，叫人太悲伤。</p>\n<p>「弹指间，九九归一。」</p>\n<p>感叹诸葛丞相星落秋风五丈原，“只盼来日登蜀道，再续出师表。”</p>\n<p>作为人的最高荣誉，无疑是名垂青史，流芳百世。</p>\n<p>「青史一页会记得，你们都是英雄。」</p>\n<p>而我等小人物却为衣食住行奔波一生，渺小且孤独的存在着，淹没在历史的长河中。也许唯一能做的只是在失落之时，仰望星空之余，还可以感叹一句，</p>\n<p><strong>天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。</strong></p>\n<p>感恩前人们留下的无数经典，诸子百家，经史子集，诗词歌赋，即使相隔千年，见字如面。</p>\n<p><br></p>\n<p><strong><em>人生如梦，一尊还酹江月。</em></strong></p>\n<p><br><br></p>\n","categories":["文章"],"tags":["回忆","随笔","感想","毕业"]},{"title":"宁杭之旅","url":"https://blog.ykqmain.com/ninghang/","content":"<p>抱着多见见世面的目的，结束了南京一天多的旅行。</p>\n<p>简单小记所见所闻。</p>\n<p>从南京南站下车到夫子庙地铁站，地铁人很多，但是有位子坐，而在武汉是很难有站的空间。乘坐多次南京的地铁和一次公交，都有位子。<br>￼<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/1.jpeg!sy\" alt=\"\"><br>￼<br>一出站，看到南京的第一眼以后，就发生了一件极其恶心的事，并且这件事伴随了整个旅行过程。一个女生直接递过来一束玫瑰花，说两句甜言蜜语，我和妹子听到她的言语，都认为是“赠送”，拿了之后说了句谢谢，迫不及待地走了几步，想要尽快一睹秦淮河的景色。她跟过来继续解释着，我这才明白，这不是赠送，而是“推销”。问了多少钱，本想尽快解决，做个纪念也没什么，她说着10块一朵，我掏出10块后准备走人。她再次解释道10块一朵，我看着手里的一束花，三朵组成。我在一分钟内从心里的感激温暖转为诧异甚至是愤怒，并不仅仅是推销这么简单，我可以负责任的描述为“坑一个算一个”。我当然不会要，但是我的10块钱已经给她了，最后她抽出一朵给我，可以说给我留下了一个“很值得纪念的”印象。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/2.jpeg!sy\" alt=\"\"></p>\n<p>事情并没有那么简单，在后来的几次逛街中，我看到了无数个大妈级，小女孩级的女性，手里拿着几束花，徘徊于夫子庙景区附近及其地铁站，坑一个算一个。更恶心的事发生在刚才，在经历了第一次的坑之后，我和妹子见到拿花的绕道走，没想到竟然在绕过一个大妈之后，她对我妹子说了一句“钱掉了”，她不知道的是，我妹子口袋里没有一分钱。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/3.jpeg!sy\" alt=\"\"></p>\n<p>￼<br>我想任何一个城市都有乞丐，而且他们多出没于景区，地铁站。我在北京地铁上都能看到乞丐在列车上行乞。我在南京的第一个地铁站，有乞丐在自动售票机那里等着，乞讨别人买票之后多余的零钱，而且还真的有很多人顺手扔进那个碗里的，看来好心的人真的很多，或者说是不懂得拒绝的人很多。除了乞丐，我还见识到了另一种人群，看相的大妈。在玄武湖，每走一段路，就会有大妈级的问我需不需要看相，绕道都躲不开。这令我继续游玩玄武湖的兴致全无。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/4.jpeg!sy\" alt=\"\"></p>\n<p>而这并不算最烦的，我在去南京大学的道路上，有很长的一段路要走，走在非机动车道上，本来不宽的路上就停了车，每隔一分钟还有一辆摩托车从我身后开过，惊心动魄，可以说这是我在南京走过的最危险的一段长路，心里充满了怒火。骂了一路。<br>￼<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/5.jpeg!sy\" alt=\"\"></p>\n<p>毫不意外的是，南京大学很悠久，也很大，大到找不到食堂，本想搞顿地道小吃，罢了。</p>\n<p>走的累了想去鼓楼公园歇会，在维修中。查了一下南京长江大桥，也是维修。本想去阅江楼景区，跟总统府一样是收费的。作为一个穷逼，也罢了……<br>￼<br>转而向最后一个目的地，作为南京之旅的结束。“南京大屠杀纪念馆”是沉重的，而且馆内空气很闷，不再此赘述。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/6.jpeg!sy\" width=\"480\"></p>\n<p>南京安保措施完善，保安人数众多，吃饭不贵（经同学提醒不能在景区吃饭），交通便利不拥挤，充满了民国风，到处都在修。闯红灯常有发生（可能全国都这样），雾霾严重，空气质量不好。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/7.jpeg!sy\" width=\"480\"><br>￼<br>总得来说，南京给我大多数的感觉，相比武汉，并没有什么新颖的地方。也许其中差了一个Apple Store吧。<br>￼<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/8.jpeg!sy\" width=\"480\"></p>\n<p>个人见解，难免片面。我想以后可能不会再来了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p><strong>Update: 2019-11</strong></p>\n<p>拖延症犯了，年代久远地回忆杭州的情形，基本上都忘了，只有一个感性的回忆，用一个词形容杭州，那就是<strong>「舒服」</strong>。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/9.jpg!sy\" alt=\"\"></p>\n<p>印象最深刻的，就是“车让人”，很多路口没有红绿灯，汽车都能让行人先过马路，第一次见如此情景，简直无法用震惊来形容，太向往了。</p>\n<p>西湖不算大，但是有深厚的文化底蕴，虽然是冬天，但是微风不冷，阳光很暖。人很多，但也有秩序，是散步闲谈的好地方。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/10.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/11.jpg!sy\" alt=\"\"></p>\n<p>两天基本都在西湖边上转，浙江博物馆，浙大，小吃街尝试了东坡肉，除此之外，好像没有什么特别的深印象了，即使有，一时半会也想不起来。也许仅仅是在西湖边上看了看，难免有所片面，只能说整体的印象是美好的。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/12.jpg!sy\" width=\"480\"></p>\n<p>虽然我居住和旅行过的城市不多，但到目前为止，我觉得杭州是最优秀的一个。</p>\n<p>除了家乡，其他的城市旅行过就不会再去，杭州是目前唯一一个例外。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ninghang/13.jpg!sy\" width=\"480\"></p>\n<p><br><br><br></p>\n","categories":["旅行"],"tags":["回忆","江苏","南京","浙江","杭州","西湖","旅行"]},{"title":"基于Hadoop的简单云盘","url":"https://blog.ykqmain.com/clouddisk/","content":"<p><strong>首先完成 <a href=\"http://blog.ykqmain.com/hadoop/\" target=\"\\_blank\">hadoop完全分布式搭建</a></strong></p>\n<p>开发环境：</p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">本机 macOS <span class=\"number\">10.12</span><span class=\"number\">.5</span></span><br><span class=\"line\">虚拟机 CentOS <span class=\"number\">6.9</span>  ×<span class=\"number\">3</span></span><br><span class=\"line\">Hadoop <span class=\"number\">2.7</span><span class=\"number\">.3</span></span><br><span class=\"line\">JDK <span class=\"number\">1.8</span></span><br><span class=\"line\">Tomcat <span class=\"number\">8.5</span><span class=\"number\">.16</span></span><br><span class=\"line\">IDE Eclipse Java EE IDE for Web Developers, Oxygen Release (<span class=\"number\">4.7</span><span class=\"number\">.0</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装Tomcat\"><a href=\"#安装Tomcat\" class=\"headerlink\" title=\"安装Tomcat\"></a>安装Tomcat</h2><p>下载<a href=\"http://tomcat.apache.org\" target=\"_blank\" rel=\"noopener\">Tomcat</a>，我选择8.5.16的<code>.tar.gz</code>文件，解压并改名，最终路径为<code>/usr/local/tomcat</code></p>\n<p>授予权限，<code>sudo chmod 755 /usr/local/tomcat/bin/*.sh</code></p>\n<p>运行<br><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">cd</span> <span class=\"string\">/usr/local/tomcat/bin</span></span><br><span class=\"line\"><span class=\"string\">./startup.sh</span></span><br></pre></td></tr></table></figure></p>\n<p>在浏览器输入<code>localhost:8080</code>即可访问，关闭在终端输入<code>./shutdown.sh</code>。</p>\n<p><br></p>\n<h2 id=\"Eclipse配置Tomcat\"><a href=\"#Eclipse配置Tomcat\" class=\"headerlink\" title=\"Eclipse配置Tomcat\"></a>Eclipse配置Tomcat</h2><ol>\n<li><p>打开设置，<code>Server</code> - <code>Runtime Environments</code></p>\n</li>\n<li><p>右侧<code>Add</code>，选择对应Tomcat版本，next</p>\n</li>\n<li><p>路径填写Tomcat安装路径，我这里为<code>/usr/local/tomcat</code>，并选择JRE</p>\n</li>\n<li><p>Finish</p>\n</li>\n<li><p>点击IDE下方<code>Servers</code>，<code>create a new server</code>, next</p>\n</li>\n<li><p>Finish</p>\n</li>\n<li><p>双击创建的服务，Deploy path 填写Tomcat安装路径，即<code>/usr/local/tomcat</code>，关闭保存</p>\n</li>\n</ol>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/1.png!xsy\" alt=\"\"></p>\n<p><br></p>\n<h2 id=\"Eclipse创建Dynamic-Web-Project\"><a href=\"#Eclipse创建Dynamic-Web-Project\" class=\"headerlink\" title=\"Eclipse创建Dynamic Web Project\"></a>Eclipse创建Dynamic Web Project</h2><ol>\n<li><p><code>File</code>-<code>New</code>-<code>Other</code>-<code>Web</code>-<code>Dynamic Web Project</code><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/2.png!xsy\" alt=\"\"><br><br></p>\n</li>\n<li><p>如图所示填写，创建一个名为TomcatTest的项目，之后一路next<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/3.png!xsy\" alt=\"\"><br><br></p>\n</li>\n<li><p>选择下方服务，右键，选择<code>Add and Remove</code>，将左侧的<code>TomcatTest</code>添加到右边，完成。</p>\n</li>\n<li><p>在<code>WebContent</code>目录下新建<code>index.html</code>文件，写入<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/4.png!xsy\" alt=\"\"></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Tomcat<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Test<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>右键下方服务，<code>Start</code><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/5.png!xsy\" alt=\"\"><br><br></p>\n</li>\n<li><p>在浏览器输入<code>localhost:8080/TomcatTest/index.html</code>访问。</p>\n<p> 本地tomcat测试成功</p>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"启动hadoop\"><a href=\"#启动hadoop\" class=\"headerlink\" title=\"启动hadoop\"></a>启动hadoop</h2><h3 id=\"1-启动3个虚拟机，\"><a href=\"#1-启动3个虚拟机，\" class=\"headerlink\" title=\"1.启动3个虚拟机，\"></a>1.启动3个虚拟机，</h3><p><strong><em>Update: 2017-9</em></strong></p>\n<p><strong>事实证明，人确实容易犯懒，拖到现在😅。一旦放下等以后再整理，会花更多的时间和精力。</strong><br><br></p>\n<h3 id=\"2-启动Hadoop\"><a href=\"#2-启动Hadoop\" class=\"headerlink\" title=\"2.启动Hadoop\"></a>2.启动Hadoop</h3><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">cd</span> <span class=\"string\">/usr/hadoop/sbin</span></span><br><span class=\"line\"><span class=\"string\">./start-dfs.sh</span></span><br><span class=\"line\"><span class=\"string\">./start-yarn.sh</span></span><br></pre></td></tr></table></figure>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/6.png!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/7.png!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/8.png!xsy\" alt=\"\"></p>\n<p><strong>50070端口：</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/9.png!xsy\" alt=\"\"></p>\n<p><br><br></p>\n<h2 id=\"在Eclipse里创建新项目\"><a href=\"#在Eclipse里创建新项目\" class=\"headerlink\" title=\"在Eclipse里创建新项目\"></a>在Eclipse里创建新项目</h2><h3 id=\"1-主页及子版块页面，结构类似，其框架及部分代码如下图\"><a href=\"#1-主页及子版块页面，结构类似，其框架及部分代码如下图\" class=\"headerlink\" title=\"1.主页及子版块页面，结构类似，其框架及部分代码如下图\"></a>1.主页及子版块页面，结构类似，其框架及部分代码如下图</h3><p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/10.png!xsy\" alt=\"\"></p>\n<p><code>core-site.xml</code>和<code>hdfs-site.xml</code>为hadoop配置文件，复制到项目下。<br><br></p>\n<h3 id=\"2-相关代码如下\"><a href=\"#2-相关代码如下\" class=\"headerlink\" title=\"2.相关代码如下\"></a>2.相关代码如下</h3><ul>\n<li>FileInfo.java</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.wh.entity;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileInfo</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"keyword\">private</span> String fileName;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">double</span> fileSize;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> String createDate;</span><br><span class=\"line\">\t </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">FileInfo</span><span class=\"params\">()</span> </span>&#123;&#125;</span><br><span class=\"line\">\t </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">FileInfo</span><span class=\"params\">(String fileName, <span class=\"keyword\">double</span> fileSize, String createDate)</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileName = fileName;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileSize = fileSize;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.createDate = createDate;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getFileName</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> fileName;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setFileName</span><span class=\"params\">(String fileName)</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileName = fileName;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">double</span> <span class=\"title\">getFileSize</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> fileSize;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setFileSize</span><span class=\"params\">(<span class=\"keyword\">double</span> fileSize)</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileSize = fileSize;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getCreateDate</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> createDate;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setCreateDate</span><span class=\"params\">(String createDate)</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.createDate = createDate;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>UserServlet.java</li>\n</ul>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.wh.servlet;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">ArrayList</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">List</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.<span class=\"type\">ServletException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.annotation.<span class=\"type\">WebServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletRequest</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletResponse</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.<span class=\"type\">FileStatus</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.entity.<span class=\"type\">FileInfo</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.util.<span class=\"type\">HDFSUtil</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"meta\">@WebServlet</span>(<span class=\"string\">\"/userServlet\"</span>)</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doGet(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doPost(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//获取浏览器提交的数据</span></span><br><span class=\"line\">        <span class=\"type\">String</span> userName = request.getParameter(<span class=\"string\">\"userName\"</span>);</span><br><span class=\"line\">        <span class=\"type\">String</span> userPassword = request.getParameter(<span class=\"string\">\"userPassword\"</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//把提交的数据与数据库中的用户信息进行</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"string\">\"admin\"</span>.equals(userName) &amp;&amp; <span class=\"string\">\"123456\"</span>.equals(userPassword)) &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"type\">FileStatus</span>[] files = <span class=\"type\">HDFSUtil</span>.listFile();</span><br><span class=\"line\">            <span class=\"type\">List</span>&lt;<span class=\"type\">FileInfo</span>&gt; listFile = <span class=\"keyword\">new</span> <span class=\"type\">ArrayList</span>&lt;<span class=\"type\">FileInfo</span>&gt;();</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">FileStatus</span> fs : files) &#123;</span><br><span class=\"line\">                <span class=\"type\">FileInfo</span> file = <span class=\"keyword\">new</span> <span class=\"type\">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class=\"string\">\"2017-07-01\"</span>);</span><br><span class=\"line\">                listFile.add(file);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            request.setAttribute(<span class=\"string\">\"fileInfos\"</span>, listFile);            </span><br><span class=\"line\">            </span><br><span class=\"line\">            request.getRequestDispatcher(<span class=\"string\">\"main.jsp\"</span>).forward(request, response);</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            request.getRequestDispatcher(<span class=\"string\">\"failure.html\"</span>).forward(request, response);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>FileUploadServlet.java</li>\n</ul>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.wh.servlet;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">File</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">FileOutputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">InputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">ArrayList</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">List</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.<span class=\"type\">ServletException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.annotation.<span class=\"type\">MultipartConfig</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.annotation.<span class=\"type\">WebServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletRequest</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletResponse</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">Part</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.<span class=\"type\">FileStatus</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.entity.<span class=\"type\">FileInfo</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.util.<span class=\"type\">HDFSUtil</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"meta\">@WebServlet</span>(<span class=\"string\">\"/fileUploadServlet\"</span>)</span><br><span class=\"line\"><span class=\"meta\">@MultipartConfig</span></span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileUploadServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doGet(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doPost(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//设置中文编码</span></span><br><span class=\"line\">        request.setCharacterEncoding(<span class=\"string\">\"utf-8\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">//获取客户端提交的文件</span></span><br><span class=\"line\">        <span class=\"type\">Part</span> part = request.getPart(<span class=\"string\">\"file\"</span>);</span><br><span class=\"line\">        <span class=\"comment\">//获取客户端提交的文件名</span></span><br><span class=\"line\">        <span class=\"type\">System</span>.out.println(part.getSubmittedFileName());</span><br><span class=\"line\">        <span class=\"comment\">//=========================文件上传==================================</span></span><br><span class=\"line\">        <span class=\"type\">InputStream</span> in = part.getInputStream();</span><br><span class=\"line\">        <span class=\"type\">HDFSUtil</span>.uploadFile(in, part.getSubmittedFileName());</span><br><span class=\"line\">        <span class=\"comment\">//=========================文件列表==============================</span></span><br><span class=\"line\">        <span class=\"type\">FileStatus</span>[] files = <span class=\"type\">HDFSUtil</span>.listFile();</span><br><span class=\"line\">        <span class=\"type\">List</span>&lt;<span class=\"type\">FileInfo</span>&gt; listFile = <span class=\"keyword\">new</span> <span class=\"type\">ArrayList</span>&lt;<span class=\"type\">FileInfo</span>&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">FileStatus</span> fs : files) &#123;</span><br><span class=\"line\">            <span class=\"type\">FileInfo</span> file = <span class=\"keyword\">new</span> <span class=\"type\">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class=\"string\">\"2017-07-01\"</span>);</span><br><span class=\"line\">            listFile.add(file);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        request.setAttribute(<span class=\"string\">\"fileInfos\"</span>, listFile);</span><br><span class=\"line\">        <span class=\"comment\">//页面跳转</span></span><br><span class=\"line\">        request.getRequestDispatcher(<span class=\"string\">\"main.jsp\"</span>).forward(request, response);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>FileDownloadServlet.java</li>\n</ul>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.wh.servlet;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">File</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">FileInputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">FileOutputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">OutputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.<span class=\"type\">URLEncoder</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.<span class=\"type\">ServletException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.annotation.<span class=\"type\">WebServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletRequest</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletResponse</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.util.<span class=\"type\">HDFSUtil</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 文件下载</span></span><br><span class=\"line\"><span class=\"comment\"> * @author Administrator</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@WebServlet</span>(<span class=\"string\">\"/fileDownLoadServlet\"</span>)</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileDownloadServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doGet(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        request.setCharacterEncoding(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">        response.setCharacterEncoding(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"type\">String</span> fileName = request.getParameter(<span class=\"string\">\"fileName\"</span>); </span><br><span class=\"line\">        <span class=\"comment\">//解决中文乱码</span></span><br><span class=\"line\">        response.setHeader(<span class=\"string\">\"Content-Disposition\"</span>, <span class=\"string\">\"attachment;filename=\"</span> </span><br><span class=\"line\">                    + <span class=\"keyword\">new</span> <span class=\"type\">String</span>(fileName.getBytes(<span class=\"string\">\"GB18030\"</span>),<span class=\"string\">\"ISO8859-1\"</span>));</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"type\">OutputStream</span> out = response.getOutputStream();</span><br><span class=\"line\">        <span class=\"comment\">//文件下载</span></span><br><span class=\"line\">        <span class=\"type\">HDFSUtil</span>.downLoadFile(fileName, out);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> void doPost(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">            <span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>FileDeleteServlet.java</li>\n</ul>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> com.wh.servlet;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">File</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">FileInputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">FileOutputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">InputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">OutputStream</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.<span class=\"type\">URLEncoder</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">ArrayList</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">List</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.<span class=\"type\">ServletException</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.annotation.<span class=\"type\">WebServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServlet</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletRequest</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">HttpServletResponse</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.<span class=\"type\">Part</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.<span class=\"type\">FileStatus</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.entity.<span class=\"type\">FileInfo</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> com.wh.util.<span class=\"type\">HDFSUtil</span>;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"meta\">@WebServlet</span>(<span class=\"string\">\"/fileDeleteServlet\"</span>)</span><br><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FileDeleteServlet</span> <span class=\"keyword\">extends</span> <span class=\"title\">HttpServlet</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> void doGet(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\trequest.setCharacterEncoding(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">\t\tresponse.setCharacterEncoding(<span class=\"string\">\"UTF-8\"</span>);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"type\">String</span> fileName = request.getParameter(<span class=\"string\">\"fileName\"</span>);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t<span class=\"type\">HDFSUtil</span>.deleteFile(fileName);</span><br><span class=\"line\">\t\tdoPost(request, response);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t </span><br><span class=\"line\">\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> void doPost(<span class=\"type\">HttpServletRequest</span> request, <span class=\"type\">HttpServletResponse</span> response)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throws</span> <span class=\"type\">ServletException</span>, <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileStatus</span>[] files = <span class=\"type\">HDFSUtil</span>.listFile();</span><br><span class=\"line\">\t    <span class=\"type\">List</span>&lt;<span class=\"type\">FileInfo</span>&gt; listFile = <span class=\"keyword\">new</span> <span class=\"type\">ArrayList</span>&lt;<span class=\"type\">FileInfo</span>&gt;();</span><br><span class=\"line\">\t    <span class=\"keyword\">for</span>(<span class=\"type\">FileStatus</span> fs : files) &#123;</span><br><span class=\"line\">\t    \t<span class=\"type\">FileInfo</span> file = <span class=\"keyword\">new</span> <span class=\"type\">FileInfo</span>(fs.getPath().getName(), fs.getLen(), <span class=\"string\">\"2017-07-01\"</span>);</span><br><span class=\"line\">\t    \tlistFile.add(file);</span><br><span class=\"line\">\t    &#125;</span><br><span class=\"line\">\t    </span><br><span class=\"line\">\t    request.setAttribute(<span class=\"string\">\"fileInfos\"</span>, listFile);</span><br><span class=\"line\">\t\trequest.getRequestDispatcher(<span class=\"string\">\"main.jsp\"</span>).forward(request, response);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>HDFSUtil.java</li>\n</ul>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">package com.wh.util;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.FileOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.conf.Configuration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.FSDataInputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.FSDataOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.FileStatus;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.FileSystem;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.fs.Path;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.apache.hadoop.io.IOUtils;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * HDFS工具类</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> * @author Administrator</span></span><br><span class=\"line\"><span class=\"comment\"> *</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HDFSUtil</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\">// 加载HDFS配置文件</span></span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"type\">Configuration</span> conf = new <span class=\"type\">Configuration</span>();</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\">// 上传</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void uploadFile(<span class=\"type\">InputStream</span> <span class=\"keyword\">in</span>, <span class=\"type\">String</span> fileName)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileSystem</span> hdfs = <span class=\"type\">FileSystem</span>.<span class=\"keyword\">get</span>(conf);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 设置要上传文件的路径</span></span><br><span class=\"line\">\t\t<span class=\"type\">Path</span> uploadPath = new <span class=\"type\">Path</span>(<span class=\"string\">\"/user/hadoop/\"</span> + fileName);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 进行文件上传</span></span><br><span class=\"line\">\t\t<span class=\"type\">FSDataOutputStream</span> out = hdfs.create(uploadPath);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 开始进行文件上传</span></span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.copyBytes(<span class=\"keyword\">in</span>, out, conf);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 关闭</span></span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.closeStream(<span class=\"keyword\">in</span>);</span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.closeStream(out);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\">// 下载</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void downLoadFile(<span class=\"type\">String</span> fileName, <span class=\"type\">OutputStream</span> out) <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileSystem</span> hdfs = <span class=\"type\">FileSystem</span>.<span class=\"keyword\">get</span>(conf);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 定位要访问的文件</span></span><br><span class=\"line\">\t\t<span class=\"type\">Path</span> remoteFile = new <span class=\"type\">Path</span>(<span class=\"string\">\"/user/hadoop/\"</span> + fileName);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 与定位文件连接输入流管道</span></span><br><span class=\"line\">\t\t<span class=\"type\">FSDataInputStream</span> <span class=\"keyword\">in</span> = hdfs.<span class=\"keyword\">open</span>(remoteFile);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 进行文件下载</span></span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.copyBytes(<span class=\"keyword\">in</span>, out, conf);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 关闭流</span></span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.closeStream(<span class=\"keyword\">in</span>);</span><br><span class=\"line\">\t\t<span class=\"type\">IOUtils</span>.closeStream(out);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t </span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void deleteFile(<span class=\"type\">String</span> fileName) <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileSystem</span> hdfs = <span class=\"type\">FileSystem</span>.<span class=\"keyword\">get</span>(conf);</span><br><span class=\"line\">\t\t<span class=\"type\">Path</span> remoteFile = new <span class=\"type\">Path</span>(<span class=\"string\">\"/user/hadoop/\"</span> + fileName);</span><br><span class=\"line\">\t\thdfs.delete(remoteFile,<span class=\"literal\">false</span>);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"comment\">// 文件列表展示</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"type\">FileStatus</span>[] listFile() <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileSystem</span> hdfs = <span class=\"type\">FileSystem</span>.<span class=\"keyword\">get</span>(conf);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 查看hdfs中某个文件目录</span></span><br><span class=\"line\">\t\t<span class=\"type\">Path</span> remotePath = new <span class=\"type\">Path</span>(<span class=\"string\">\"/user/hadoop/\"</span>);</span><br><span class=\"line\">\t\t<span class=\"comment\">// 获取目录下的文件列表</span></span><br><span class=\"line\">\t\t<span class=\"type\">FileStatus</span>[] files = hdfs.listStatus(remotePath);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> files;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">\t<span class=\"comment\">// 删除</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void deleteFile() <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">FileSystem</span> hdfs = <span class=\"type\">FileSystem</span>.<span class=\"keyword\">get</span>(conf);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>login.html</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>用户登录<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-align:center;\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>欢迎登录XX系统<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- action配置请求的服务器地址 --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- method表示HTTP请求的方式 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">\"userServlet\"</span> <span class=\"attr\">method</span>=<span class=\"string\">\"post\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"userName\"</span>&gt;</span>用户名:<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"userName\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"userName\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"请输入用户名\"</span>/&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"userPassword\"</span>&gt;</span>密&amp;nbsp;&amp;nbsp;&amp;nbsp;码:<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"password\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"userPassword\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"userPassword\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"请输入密码\"</span> /&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"登录\"</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>failure.html</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>登录失败<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">用户名或密码错误，请<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"login.html\"</span>&gt;</span>重新登录<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<ul>\n<li>main.jsp</li>\n</ul>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">%@</span> <span class=\"attr\">page</span> <span class=\"attr\">language</span>=<span class=\"string\">\"java\"</span> <span class=\"attr\">contentType</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span> <span class=\"attr\">pageEncoding</span>=<span class=\"string\">\"UTF-8\"</span>%&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">%@</span> <span class=\"attr\">taglib</span> <span class=\"attr\">uri</span>=<span class=\"string\">\"http://java.sun.com/jsp/jstl/core\"</span> <span class=\"attr\">prefix</span>=<span class=\"string\">\"c\"</span> %&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"meta\">&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=UTF-8\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Insert title here<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t<span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;<span class=\"name\">table</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>文件名<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>文件大小<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>创建时间<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span>操作<span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">c:forEach</span> <span class=\"attr\">var</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">items</span>=<span class=\"string\">\"$</span></span></span><span class=\"template-variable\">&#123;fileInfos&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>$</span><span class=\"template-variable\">&#123;file.fileName&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>$</span><span class=\"template-variable\">&#123;file.fileSize&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>$</span><span class=\"template-variable\">&#123;file.createDate&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"fileDownLoadServlet?fileName=$</span></span></span><span class=\"template-variable\">&#123;file.fileName&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span>下载<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span>|<span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"fileDeleteServlet?fileName=$</span></span></span><span class=\"template-variable\">&#123;file.fileName&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span>删除<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span>\t\t</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">c:forEach</span>&gt;</span>\t</span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"> </span></span><br><span class=\"line\"><span class=\"xml\"> </span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"comment\">&lt;!-- application/x-www-form-urlencoded --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">\"fileUploadServlet\"</span> <span class=\"attr\">method</span>=<span class=\"string\">\"post\"</span> <span class=\"attr\">enctype</span>=<span class=\"string\">\"multipart/form-data\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">\"file\"</span>&gt;</span>上传文件:<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">id</span>=<span class=\"string\">\"file\"</span>  <span class=\"attr\">name</span>=<span class=\"string\">\"file\"</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"上传文件\"</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t<span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h3 id=\"3-相关库\"><a href=\"#3-相关库\" class=\"headerlink\" title=\"3.相关库\"></a>3.相关库</h3><p>~/file/WebContent/WEB-INF/lib</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/11.png!xsy\" alt=\"\"></p>\n<p>注意从Tomcat中复制<code>servlet-api.jar</code>文件到<code>lib</code>中<br><br></p>\n<h3 id=\"4-相关界面\"><a href=\"#4-相关界面\" class=\"headerlink\" title=\"4.相关界面\"></a>4.相关界面</h3><ul>\n<li><strong>登录</strong></li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/12.png!xsy\" alt=\"\"></p>\n<ul>\n<li><strong>操作</strong></li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/13.png!xsy\" alt=\"\"></p>\n<ul>\n<li><strong>上传</strong></li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/14.png!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/15.png!xsy\" alt=\"\"></p>\n<ul>\n<li><strong>下载</strong></li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/16.png!xsy\" alt=\"\"></p>\n<ul>\n<li><strong>删除</strong></li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/17.png!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/18.png!xsy\" alt=\"\"></p>\n<p><br><br></p>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/clouddisk/19.png!sy\" alt=\"\"></p>\n<p>在项目制作过程中思路很重要，制作初期不能太纠结于个别效果，先按流程搭建好开发环境。</p>\n<p>化繁为简，用最简单的方法，制作出理想的效果，实现全部的基础功能，实用第一，尽量美化。</p>\n<p><strong>拖了这么久，总算是基本完成了 _(:з」∠)_</strong></p>\n<p><br><br></p>\n","categories":["网络"],"tags":["Linux","Java","大数据","Hadoop","CentOS","Tomcat","Eclipse"]},{"title":"Hadoop完全分布式搭建","url":"https://blog.ykqmain.com/hadoop/","content":"<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>环境：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">本机：<span class=\"selector-tag\">macOS</span></span><br><span class=\"line\"> </span><br><span class=\"line\">虚拟机(<span class=\"selector-tag\">VirtualBox</span>)：<span class=\"selector-tag\">CentOS</span> 6<span class=\"selector-class\">.9</span></span><br><span class=\"line\">复制三个<span class=\"selector-tag\">CentOS</span></span><br><span class=\"line\">一个作为主节点(<span class=\"selector-tag\">Master</span>)，两个从节点(<span class=\"selector-tag\">Slave</span>)</span><br><span class=\"line\">三台虚拟机器名分别为：<span class=\"selector-tag\">master</span>, <span class=\"selector-tag\">slave1</span>, <span class=\"selector-tag\">slave2</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"selector-tag\">Hadoop</span> 2<span class=\"selector-class\">.7</span><span class=\"selector-class\">.3</span></span><br><span class=\"line\"><span class=\"selector-tag\">JDK</span> 1<span class=\"selector-class\">.8</span></span><br></pre></td></tr></table></figure>\n<p>Vim常用操作：</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">esc    从编辑模式切换到命令模式</span><br><span class=\"line\"><span class=\"selector-tag\">a</span>      切换到编辑模式，在光标后插入</span><br><span class=\"line\">o      切换到编辑模式，在光标下一行插入</span><br><span class=\"line\"> </span><br><span class=\"line\">命令模式下：</span><br><span class=\"line\">u      撤销操作</span><br><span class=\"line\">G      跳至文件末尾</span><br><span class=\"line\"><span class=\"selector-tag\">dd</span>     删除光标那一行字符</span><br><span class=\"line\">ggdG   清空内容</span><br><span class=\"line\"> </span><br><span class=\"line\">:wq    保存退出</span><br><span class=\"line\">:<span class=\"selector-tag\">q</span>     退出</span><br><span class=\"line\">:q!    强制退出</span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n<h2 id=\"配置虚拟机\"><a href=\"#配置虚拟机\" class=\"headerlink\" title=\"配置虚拟机\"></a>配置虚拟机</h2><ol>\n<li><p>安装虚拟机</p>\n<ol>\n<li><p>下载并安装<a href=\"https://www.centos.org\" target=\"_blank\" rel=\"noopener\">CentOS</a>，我选择的 CentOS 6.9</p>\n</li>\n<li><p>配置Java</p>\n<ol>\n<li>卸载自带的jdk<ul>\n<li><code>rpm -qa | grep jdk</code>查看目前系统的jdk</li>\n<li>使用<code>yum -y remove 名称</code> 一个个卸载<br><br></li>\n</ul>\n</li>\n<li>安装 <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"noopener\">jdk</a><br><br></li>\n<li><p>配置JAVA环境变量</p>\n<ul>\n<li><code>cd</code>到<code>/usr/</code>目录下创建java文件夹，<code>mkdir java</code></li>\n<li><code>tar -zxvf 文件名</code>解压到<code>/usr/java/</code>目录下</li>\n<li>将jdk的包名改为”jdk”，<code>mv 包名 jdk</code></li>\n<li><code>vim ／etc/profile</code>配置环境变量，在文件末尾添加：<br><br>  <figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/java/jdk</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JRE_HOME</span>=/usr/java/jdk/jre</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">CLASSPATH</span>=.:$CLASSPATH:$JAVA_HOME/lib:$JRE_HOME/lib</span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">PATH</span>=<span class=\"variable\">$PATH</span>:$JAVA_HOME/bin:$JRE_HOME/bin</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>检测</p>\n<ul>\n<li>环境变量生效 <code>source /etc/profile</code></li>\n<li>检测 <code>java -version</code></li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p>将一台CentOS虚拟机克隆成3台</p>\n<p> VirtualBox有这个功能，复制2个虚拟机，Mac地址重新分配。</p>\n<ol>\n<li><p>修改机器名 <code>vim /etc/sysconfig/network</code></p>\n</li>\n<li><p><strong>全程使用root账户</strong> </p>\n</li>\n<li><p>关闭防火墙，GUI设置，或者<code>service iptables stop</code></p>\n</li>\n<li><p>检验各个主机之间能否连通，<code>ping ip</code></p>\n</li>\n<li><p>不管用什么办法，让IP固定不变。设置静态IP，或者使用路由器固定IP。</p>\n<p> 我的配置如下：</p>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>机器名</th>\n<th>IP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>master</td>\n<td>192.168.76.11</td>\n</tr>\n<tr>\n<td>slave1</td>\n<td>192.168.76.12</td>\n</tr>\n<tr>\n<td>slave2</td>\n<td>192.168.76.13</td>\n</tr>\n</tbody>\n</table>\n<ol start=\"2\">\n<li><p>设置hosts</p>\n<p> 三台机器全部设置</p>\n<p> <code>vim /etc/hosts</code></p>\n <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127<span class=\"selector-class\">.0</span><span class=\"selector-class\">.0</span><span class=\"selector-class\">.1</span>       <span class=\"selector-tag\">localhost</span><span class=\"selector-class\">.localdomain</span> <span class=\"selector-tag\">localhost</span></span><br><span class=\"line\"><span class=\"selector-pseudo\">::1</span>             <span class=\"selector-tag\">localhost6</span><span class=\"selector-class\">.localdomain6</span> <span class=\"selector-tag\">localhost6</span></span><br><span class=\"line\">#增加了下面3行</span><br><span class=\"line\">192<span class=\"selector-class\">.168</span><span class=\"selector-class\">.76</span><span class=\"selector-class\">.11</span>   <span class=\"selector-tag\">master</span></span><br><span class=\"line\">192<span class=\"selector-class\">.168</span><span class=\"selector-class\">.76</span><span class=\"selector-class\">.12</span>   <span class=\"selector-tag\">slave1</span></span><br><span class=\"line\">192<span class=\"selector-class\">.168</span><span class=\"selector-class\">.76</span><span class=\"selector-class\">.13</span>  <span class=\"selector-tag\">slave2</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p><br><br></p>\n<h2 id=\"配置ssh免密码登陆\"><a href=\"#配置ssh免密码登陆\" class=\"headerlink\" title=\"配置ssh免密码登陆\"></a>配置ssh免密码登陆</h2><ol>\n<li><p>ssh配置，<code>vim /etc/ssh/sshd_config</code></p>\n <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 以下三项修改成以下配置</span></span><br><span class=\"line\"><span class=\"string\">RSAAuthentication</span> <span class=\"literal\">yes</span> <span class=\"comment\"># 启用 RSA 认证</span></span><br><span class=\"line\"><span class=\"string\">PubkeyAuthentication</span> <span class=\"literal\">yes</span> <span class=\"comment\"># 启用公钥私钥配对认证方式</span></span><br><span class=\"line\"><span class=\"string\">AuthorizedKeysFile</span> <span class=\"string\">.ssh/authorized_keys</span> <span class=\"comment\"># 公钥文件路径（和上面生成的文件同）</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>生成ssh key</p>\n <figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">cd</span> ~</span><br><span class=\"line\">ssh-keygen</span><br><span class=\"line\">一路回车，这样就在~<span class=\"string\">/.ssh</span>目录下生成了几个文件</span><br><span class=\"line\"><span class=\"keyword\">cd</span> ~<span class=\"string\">/.ssh</span></span><br><span class=\"line\">cat id_rsa.pub &gt;&gt; authorized_keys  <span class=\"comment\">#这个命令将id_rsa.pub的内容追加了authorized_keys的内容后面</span></span><br></pre></td></tr></table></figure>\n<p> 重启ssh服务，<code>service sshd restart</code></p>\n</li>\n<li><p>免密登陆</p>\n<ol>\n<li>去另外两台机器用同样的方式生成<code>id_rsa.pub</code></li>\n<li>分别把它们复制到master机器上</li>\n<li>在slave1机器上，<code>scp id_rsa.pub root@192.168.76.11:~/.ssh/id_rsa.pub.1</code></li>\n<li>在slave1机器上，<code>scp id_rsa.pub root@192.168.76.11:~/.ssh/id_rsa.pub.2</code></li>\n<li><p>回到master机器的<code>~/.ssh</code>目录，执行</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">cat</span> <span class=\"selector-tag\">id_rsa</span><span class=\"selector-class\">.pub</span><span class=\"selector-class\">.1</span> &gt;&gt; <span class=\"selector-tag\">authorized_keys</span></span><br><span class=\"line\"><span class=\"selector-tag\">cat</span> <span class=\"selector-tag\">id_rsa</span><span class=\"selector-class\">.pub</span><span class=\"selector-class\">.2</span> &gt;&gt; <span class=\"selector-tag\">authorized_keys</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>最后我们把这个<code>authorized_keys</code>用scp命令复制到两个从节点上，这样三台机器两两之间就能互相访问了</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp authorized_keys root<span class=\"variable\">@192</span>.<span class=\"number\">168.76</span>.<span class=\"number\">12</span><span class=\"symbol\">:~/</span>.ssh/</span><br><span class=\"line\">scp authorized_keys root<span class=\"variable\">@192</span>.<span class=\"number\">168.76</span>.<span class=\"number\">13</span><span class=\"symbol\">:~/</span>.ssh/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>给<code>.ssh</code>目录和<code>.ssh/authorized_keys</code>设置权限，<strong>三台机器都执行</strong>：</p>\n<figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chmod 700 ~<span class=\"string\">/.ssh</span></span><br><span class=\"line\">chmod 644 ~<span class=\"string\">/.ssh/authorized_keys</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</li>\n<li><p>在各主机下进行无密码登陆测试<br><br><br></p>\n</li>\n</ol>\n<h2 id=\"配置hadoop\"><a href=\"#配置hadoop\" class=\"headerlink\" title=\"配置hadoop\"></a>配置hadoop</h2><p>下载<a href=\"http://hadoop.apache.org/releases.html\" target=\"_blank\" rel=\"noopener\">hadoop</a>，选择binary包，我下载的hadoop2.7.3，传到master的<code>/usr/</code>下，解压，并将文件夹名改名为<code>hadoop</code>。</p>\n<p>涉及到的配置文件有7个：<br><figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~<span class=\"regexp\">/usr/hadoop</span><span class=\"regexp\">/etc/hadoop</span><span class=\"regexp\">/hadoop-env.sh </span></span><br><span class=\"line\"><span class=\"regexp\">~/usr</span><span class=\"regexp\">/hadoop/etc</span><span class=\"regexp\">/hadoop/yarn</span>-env.sh </span><br><span class=\"line\">~<span class=\"regexp\">/usr/hadoop</span><span class=\"regexp\">/etc/hadoop</span><span class=\"regexp\">/core-site.xml </span></span><br><span class=\"line\"><span class=\"regexp\">~/usr</span><span class=\"regexp\">/hadoop/etc</span><span class=\"regexp\">/hadoop/hdfs</span>-site.xml </span><br><span class=\"line\">~<span class=\"regexp\">/usr/hadoop</span><span class=\"regexp\">/etc/hadoop</span><span class=\"regexp\">/mapred-site.xml </span></span><br><span class=\"line\"><span class=\"regexp\">~/usr</span><span class=\"regexp\">/hadoop/etc</span><span class=\"regexp\">/hadoop/yarn</span>-site.xml</span><br><span class=\"line\">~<span class=\"regexp\">/usr/hadoop</span><span class=\"regexp\">/etc/hadoop</span><span class=\"regexp\">/slaves</span></span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>1.<code>vim ~/usr/hadoop/etc/hadoop/hadoop-env.sh</code><br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 这个文件要修改的地方就是JAVA_HOME环境变量</span></span><br><span class=\"line\"><span class=\"comment\"># The java implementation to use.</span></span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/java/jdk</span><br></pre></td></tr></table></figure></p>\n<p>2.<code>vim ~/usr/hadoop/etc/hadoop/yarn-env.sh</code></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># yarn的环境配置，同样只需要修改JAVA_HOME就行，找到下面这行</span></span><br><span class=\"line\"><span class=\"comment\"># some Java parameters</span></span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">JAVA_HOME</span>=/usr/java/jdk</span><br></pre></td></tr></table></figure>\n<p>3.<br><code>mkdir ~/usr/hadoop/tmp</code><br><code>vim ~/usr/hadoop/etc/hadoop/core-site.xml</code><br><figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"params\">&lt;configuration&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;name&gt;</span>hadoop.tmp.dir<span class=\"params\">&lt;/name&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;value&gt;</span><span class=\"meta-keyword\">/home/</span>hadoop<span class=\"meta-keyword\">/hadoop/</span>tmp<span class=\"params\">&lt;/value&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;name&gt;</span>fs.default.name<span class=\"params\">&lt;/name&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;value&gt;</span>hdfs:<span class=\"comment\">//master:9000&lt;/value&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>4.<code>vim ~/usr/hadoop/etc/hadoop/hdfs-site.xml</code><br><figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#hdfs的配置文件，dfs.http.address配置了hdfs的http的访问位置；dfs.replication配置了文件块的副本数，一般不大于从机的个数。</span></span><br><span class=\"line\"><span class=\"params\">&lt;configuration&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;name&gt;</span>dfs.http.address<span class=\"params\">&lt;/name&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;value&gt;</span>master:<span class=\"number\">50070</span><span class=\"params\">&lt;/value&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;name&gt;</span>dfs.namenode.secondary.http-address<span class=\"params\">&lt;/name&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;value&gt;</span>master:<span class=\"number\">50090</span><span class=\"params\">&lt;/value&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;name&gt;</span>dfs.replication<span class=\"params\">&lt;/name&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;value&gt;</span><span class=\"number\">1</span><span class=\"params\">&lt;/value&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/property&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/configuration&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>5.修改模板文件，<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd ~/usr/hadoop/etc/hadoop/</span><br><span class=\"line\">cp mapred-site<span class=\"selector-class\">.xml</span><span class=\"selector-class\">.template</span> mapred-site.xml</span><br></pre></td></tr></table></figure></p>\n<p><code>vim ~/usr/hadoop/etc/hadoop/mapred-site.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- Put site-specific property overrides in this file. --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapred.job.tracker<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:9001<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapred.map.tasks<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>20<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapred.reduce.tasks<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapreduce.framework.name<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>yarn<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapreduce.jobhistory.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:10020<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:19888<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>6.<code>vim ~/usr/hadoop/etc/hadoop/yarn-site.xml</code></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#该文件为yarn框架的配置,主要是一些任务的启动位置</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- Site specific YARN configuration properties --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.resourcemanager.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:8032<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.resourcemanager.scheduler.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:8030<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.resourcemanager.webapp.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:8088<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.resourcemanager.resource-tracker.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:8031<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.resourcemanager.admin.address<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>master:8033<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.nodemanager.aux-services<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>mapreduce_shuffle<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>yarn.nodemanager.aux-services.mapreduce.shuffle.class<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>org.apache.hadoop.mapred.ShuffleHandler<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>7.<code>vim ~/usr/hadoop/etc/hadoop/slaves</code></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 这是设置从节点hostname的地方，一行一个</span></span><br><span class=\"line\">slave1</span><br><span class=\"line\">slave2</span><br></pre></td></tr></table></figure>\n<p><strong>配置完成</strong></p>\n<p><br></p>\n<p>8.将配置好的hadoop复制到其他机器</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -r /usr/hadoop root<span class=\"variable\">@192</span>.<span class=\"number\">168.76</span>.<span class=\"number\">12</span><span class=\"symbol\">:/usr/</span></span><br><span class=\"line\">scp –r /usr/hadoop root<span class=\"variable\">@192</span>.<span class=\"number\">168.76</span>.<span class=\"number\">13</span><span class=\"symbol\">:/usr/</span></span><br></pre></td></tr></table></figure>\n<p><strong>安装完成</strong></p>\n<p><br><br></p>\n<h2 id=\"验证并测试hadoop\"><a href=\"#验证并测试hadoop\" class=\"headerlink\" title=\"验证并测试hadoop\"></a>验证并测试hadoop</h2><ol>\n<li><p>启动</p>\n<p> hadoop的安装目录为 <code>/usr/hadoop</code></p>\n<p> 可选配置hadoop环境变量，<code>vim ／etc/profile</code></p>\n <figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_INSTALL</span>=/usr/hadoop  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">PATH</span>=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>/bin:$&#123;HADOOP_INSTALL&#125;/sbin<span class=\"variable\">$&#123;PATH&#125;</span>  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_MAPRED_HOME</span>=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_COMMON_HOME</span>=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_HDFS_HOME</span>=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">YARN_HOME</span>=<span class=\"variable\">$&#123;HADOOP_INSTALLL&#125;</span>  </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_COMMON_LIB_NATIVE_DIR</span>=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>/lib/natvie    </span><br><span class=\"line\"><span class=\"builtin-name\">export</span> <span class=\"attribute\">HADOOP_OPTS</span>=<span class=\"string\">\"-Djava.library.path=<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>/lib:<span class=\"variable\">$&#123;HADOOP_INSTALL&#125;</span>/lib/native\"</span></span><br></pre></td></tr></table></figure>\n<p> <code>source /etc/profile</code></p>\n<ul>\n<li><p>格式化Namenode</p>\n  <figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">cd</span> <span class=\"string\">/usr/hadoop</span></span><br><span class=\"line\"><span class=\"string\">./bin/hdfs</span> namenode -format</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>启动</p>\n  <figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">cd</span> <span class=\"string\">/usr/hadoop/sbin</span></span><br><span class=\"line\"><span class=\"string\">./start-dfs.sh</span></span><br><span class=\"line\"><span class=\"string\">./start-yarn.sh</span></span><br></pre></td></tr></table></figure>\n<p>在三台机器上分别执行 jps 命令</p>\n</li>\n<li><p>master上执行有四个进程</p>\n<ul>\n<li>NameNode</li>\n<li>ResourceManager</li>\n<li>&lt;&gt;</li>\n<li>Jps</li>\n</ul>\n</li>\n<li><p>slave上执行有三个进程</p>\n<ul>\n<li>DataNode </li>\n<li>NodeManager </li>\n<li>Jps </li>\n</ul>\n</li>\n<li><p>输入以下指令查看报告，<code>hadoop dfsadmin -report</code></p>\n<p>打开浏览器访问 <code>192.168.76.11:50070</code></p>\n<p><strong>检查 <code>Live Nodes</code> 是否为2</strong><br><br></p>\n</li>\n</ul>\n</li>\n<li><p>运行测试</p>\n<p> 向hadoop集群系统提交第一个mapreduce任务(wordcount)，进入本地hadoop目录，<code>/usr/hadoop</code></p>\n<ol>\n<li><p>在虚拟分布式文件系统上创建一个测试目录/data/input<br><code>bin/hdfs dfs -mkdir -p /data/input</code></p>\n</li>\n<li><p>将当前目录下的README.txt 文件复制到虚拟分布式文件系统中<br><code>hdfs dfs -put README.txt /data/input</code></p>\n</li>\n<li><p>查看文件系统中是否存在我们所复制的文件<br><code>bin/hdfs dfs -ls /data/input</code></p>\n</li>\n<li><p>运行如下命令向hadoop提交单词统计任务<br><code>hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount /data/input /data/output/result</code></p>\n</li>\n<li><p>查看result，结果在result下面的part-r-00000中<br><code>hdfs dfs -cat /data/output/result/part-r-00000</code></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/hadoop/wordcount.png\" alt=\"\"></p>\n<p>成功运行，则搭建完成。</p>\n<p>停止运行，<code>sh /usr/hadoop/sbin/stop-all.sh</code></p>\n</li>\n</ol>\n</li>\n</ol>\n<p><br><br></p>\n<p><strong>踩过的坑→_→</strong></p>\n<ol>\n<li><p>ssh免密登陆</p>\n</li>\n<li><p>重启Linux后Hadoop集群所有的DataNode都无法启动</p>\n<ol>\n<li><p>首先会出现几种情况，才会出现启动不了datanode的情况</p>\n<ul>\n<li><p>首先修改过master那台的配置文件</p>\n</li>\n<li><p>多次Hadoop namenode -format这种不好的习惯</p>\n</li>\n</ul>\n</li>\n<li><p>jps命令发现没有datanode启动</p>\n<ul>\n<li><p>到每个Slave机器下面去，找到<code>/usr/hadoop/tmp/dfs/</code>，会显示有data，把data文件夹删掉。</p>\n</li>\n<li><p>重启hadoop。</p>\n</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n<p><br><br></p>\n","categories":["网络"],"tags":["Linux","Java","大数据","Hadoop","CentOS"]},{"title":"东湖的阳光","url":"https://blog.ykqmain.com/donghu/","content":"<blockquote>\n<p>作者：<strong>JY</strong></p>\n</blockquote>\n<p><br></p>\n<p><strong><em>「我以前很享受秋天的感觉，有了你之后，我也许觉得春天更美好。」</em></strong></p>\n<p>海底月是天上月，眼前人是心上人。</p>\n<p>雨中的东湖，景色格外地朦胧。在雨中，周围一切显得很是寂静，好像只有我们二人漫步于东湖，欣赏着东湖的雨景，感受着东湖别样的美。第一次在雨中拍照，第一次在雨中漫步，第一次在雨中心情是那么地愉悦，因为身边有那么一个人陪伴❤因为某人，我爱上了东湖的雨。</p>\n<p>故地重游，天气甚好，此时的东湖也是格外的热闹，随处可见的共享单车，到处是欢笑的人群。第一次体会到了穿裙子骑车的快乐，因为有某人在，感觉很踏实🌹。穿行于东湖绿道，迎面而来的春风，很舒适。KFC的亲子套餐，吃出了别样的风味，限量版的皮卡丘，记录着我们的一点一滴。傍晚，还是老地方，熟悉的味道，两个人的晚餐，也是充满着爱意。第一次步数超过了三万，累并快乐着。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/donghu/1.jpg!sy\" width=\"480\"></p>\n<p>每次穿美美哒的衣服，总是希望最爱的人能最先看到自己最美的样子🌸。可以为了某个人一天穿三件不同的衣服，可以为了某个人不顾一切的去买拖鞋，可以因为某个人的一句话不辞辛苦的去买冰淇淋。你给我的爱，在这点点滴滴中都传达到了，谢谢我最爱的某人❤当我们吃着冰淇淋的时候，能心有灵犀地给对方品尝一下我们所感受到的美好，会心的一笑，那就是爱情的味道。</p>\n<p>一遍又一遍地走在熟悉的路上，我们见证了这条路的变化，而这条路却也见证了我们爱情的模样，这条路，也因为彼此被赋予了更深的含义。</p>\n<p>真正体会到了两个人在一起不是1+1＝2而是0.5+0.5＝1。双方磨掉一半的性格，为了最爱的那个人🍀。</p>\n<p>回忆越来越多，多到无法写下来，因为它们已经深深地印入脑海里，无法割舍💋。</p>\n<p>未来的路还很长，希望能有某人一直陪着走下去。</p>\n<p>原来，春天的味道，就是爱情的味道。</p>\n<p><br></p>\n<p><strong>如果上天能给我一次再来一次的机会，我会对那个人说三个字：<code>______</code>。</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/donghu/2.png\" alt=\"\"></p>\n<p><em>么么哒 →_→</em></p>\n<p><br></p>\n<p>🎬 Bike video</p>\n<video height=\"680\" width=\"auto\" controls=\"controls\" type=\"video/mp4\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/donghu/bike.mp4\"><br>    Your browser does not support the Video tag.<br></video>\n\n<p><br></p>\n<p><strong>生活中有很多美的地方，而和你在一起的时光才是最美哒 💋</strong></p>\n<p><br><br></p>\n","categories":["旅行"],"tags":["回忆","湖北","武汉","东湖","婧玉"]},{"title":"一首歌能带来什么回忆","url":"https://blog.ykqmain.com/future/","content":"<p><br></p>\n<p>🎵 future - HIRO-X</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/future/future.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>一首歌能带来什么回忆？</p>\n<p>毫无疑问，一言难尽……</p>\n<p>当《Future》的前奏响起时，扑面而来的是夏天的味道，蕴含的回忆，汇聚成感动，而又不同于《secret base ~君がくれたもの~》</p>\n<p><br></p>\n<p>记得之前关于歌声的意义，期待你的歌声，是为了永恒地铭记。多少年后，因为太多对世界的无奈和不屑，我会忘记一切、除了歌声所存储的一切，即使经过岁月的洗礼显得“并不太美好”，但我仍然会、想你。</p>\n<p>犹如《老人与海》之如陈康，《秋天不回来》之如管江威。年龄越大，老朋友越来越远，新朋友越来越少。过去的我们也再也回不去了，但回忆还在。</p>\n<p><br></p>\n<p>在那个网络并不发达、上网大多是游戏和QQ的年代，去一次网吧，也许就是改个QQ头像，换句QQ签名，折腾QQ空间模块。也就是那个时候，为腾讯公司贡献了自己第一个会员，还是用手机打固定电话的形式充值的，只是为了可以换一个头像——</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/future/1.jpg\" alt=\"\"></p>\n<p>越前龙马，在那个说“拽”不说“装逼”的记忆里，我感受到深深地逼格。在我心中，时至今日，就算是坂本也难以望其项背。抛开剧情的科学性，在那个世界里，“外旋发球”和“龟派气功”又有什么区别呢？也不多说网球、热血、友情、奋斗。那么，《Future》对我来说意味着什么？</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/future/2.jpg\" alt=\"\"></p>\n<p><strong>是一腔热血配上空调雪碧的自我陶醉，是自己二次元世界的里程碑，更是初中的开始，是我的整个青春。</strong></p>\n<p><br></p>\n<p>一千个人眼里有一千个哈姆雷特，当我的记忆伴随着《Future》赋予它灵魂的时候，《Future》变成了“Future”深深地刻在了我的心里。《网球王子》不在是一部日本动画，也不是许斐刚的作品，而是在特定时间特定地点，记忆长河里我自己的一片意识，就是我自己。</p>\n<p>也许看到这里的人会笑，是的，我自己也笑了。</p>\n<p>我在替那时候的自己笑，“Future”直译「未来」，不知那个时候的自己，看到现在的我会不会笑呢？也许还会中二地补上那句 “まだまだだね（你还差得远呢）”。</p>\n<p><br></p>\n<p>我一点都不想反驳，甚至还想陪他笑，微笑的那种笑，比大哭更心痛的感觉。</p>\n<p>随着《计算方法》和《软件工程》考试的过去，大学的必修考试也落下帷幕。没有解脱的轻松感，反到是几位人名令我记忆深刻。在这个即是结束又是开始的点，感受到的只是无助罢了。</p>\n<p>在这个即将开始陈词滥调的趋势下，借用《Future》的歌词表达一下：</p>\n<blockquote>\n<p>想超越目前的界限　往未知的世界<br>体内的梦想　犹如要满出一般<br>映出全新的世界　就像鲜艳的朝阳<br>将强力地闪耀地　绽放的未来纳入胸中</p>\n</blockquote>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/future/3.jpg!sy\" alt=\"\"></p>\n<p><br></p>\n<p>《Future》的记忆与他人无关，它所存储的一切，是关于我。</p>\n<p>在上次说到迷茫的人生的时候，先去认准方向，试着寻找北极星。</p>\n<p>然而，城市里根本看不到星星。不是因为它就不存在，也许不是城市污染，而是自己的双眼被蒙蔽，或是眼界太小。</p>\n<p>很久以前，约定着以后的以后，回想起以前对“以后”的思考。现在看来，有的事现在不去做，也许真的再也没有机会了。</p>\n<p>无论是金钱、时间，还是突发事件、学习、生活，甚至是天气，都是无数困难中的一部分。</p>\n<p>人生仍然是迷茫的，毕竟“北极星”不一定在天上，抬头可见。得擦亮眼睛，靠自己去外面的未知世界寻找。</p>\n<p>也许“梦想”真的很遥远，但「未来」我还想要。</p>\n<p><strong>必须走出去，我想我会的。</strong></p>\n<p><br></p>\n<p>回首望去，动画里的世界仍然那么美好，他们不会因为「衣食住行」而烦恼，而我这类小人物却日日夜夜为此奔波一生，至死方休。</p>\n<p>四分钟的音乐似乎演绎了整个青春，以此立志。</p>\n<p>希望在Future还能看到 <strong>空调</strong>、<strong>雪碧</strong>、以及 <strong>「未来」</strong>。</p>\n<p>希望那时候，我还是会对自己笑，</p>\n<p>会心的笑。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/future/4.jpg!xsy\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","歌曲","动画","网球王子"]},{"title":"Mac上利用OBS在B站直播iPhone上的王者荣耀","url":"https://blog.ykqmain.com/obs/","content":"<p>想这个标题就花费了我几分钟，我想还是可以表明意思的。</p>\n<blockquote>\n<p>系统：macOS, iOS<br>软件：OBS, QuickTime  </p>\n<p>平台：<a href=\"http://live.bilibili.com\" target=\"_blank\" rel=\"noopener\">哔哩哔哩</a><br>游戏：王者荣耀</p>\n<p>重要软件：<a href=\"https://github.com/mattingalls/Soundflower\" target=\"_blank\" rel=\"noopener\">Soundflower</a></p>\n</blockquote>\n<p>其实就是闲的慌，只是想玩玩直播 _(:3」∠)_，图个新鲜。</p>\n<p>其实在很早之前我就直播测试过，只是有一个非常严重的问题，<strong>在Mac上直播，OBS只能获取麦克风的声音，无法输出系统扬声器的声音</strong>。这是一个非常影响体验的短板。但是可以通过Soundflower来解决 (仍然有一处不完美)。</p>\n<p>注意：B站已经提供了官方直播工具——<a href=\"https://live.bilibili.com/liveHime\" target=\"_blank\" rel=\"noopener\">直播姬</a>，一键开启直播，支持<strong>Win，iOS，安卓</strong>。</p>\n<p>macOS上只能自己动手了，下面按照B站的帮助中心的顺序，逐条详述。</p>\n<p><mark><em><strong>注意：</strong>本篇博客写于2017年4月，细节内容可能不适用当今情况，请酌情参考。</em></mark></p>\n<p><br></p>\n<h2 id=\"1-概述\"><a href=\"#1-概述\" class=\"headerlink\" title=\"1. 概述\"></a>1. 概述</h2><p>配置，越高越好(Intel i5，GTX950，8G 以上)</p>\n<p>网速，越快越好(最低<strong>上传</strong>带宽为1Mbps)</p>\n<p>申请直播间，实名认证，中国特色。</p>\n<p>填写信息，开启直播 (在这里暂停，转往配置相关软件)</p>\n<p><br></p>\n<h2 id=\"2-OBS\"><a href=\"#2-OBS\" class=\"headerlink\" title=\"2. OBS\"></a>2. OBS</h2><p>下载 <a href=\"https://obsproject.com\" target=\"_blank\" rel=\"noopener\">OBS</a></p>\n<p>打开软件，显示如下</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/1.png!sy\" alt=\"\"></p>\n<p>添加一个<code>来源</code>，<strong>显示捕获</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/2.png!xsy\" alt=\"\"></p>\n<p>变换选择 <strong>比例适配屏幕</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/3.png!xsy\" alt=\"\"></p>\n<p>打开OBS的设置，点击<code>输出</code>，比特率修改为1500。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/4.png!xsy\" alt=\"\"></p>\n<p>在B站自己的直播间，点击右上角的开启直播，复制自己的<code>rtmp地址</code>和<code>直播码</code>到OBS设置中的<code>串流</code>中</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/5.png!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/6.png!xsy\" alt=\"\"></p>\n<p>保存之后，就可以点击右边的<code>开始串流</code>开启直播了。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/7.png!xsy\" alt=\"\"></p>\n<p>到这里，基本的直播功能就完成了。但是，很快就会发现开头提到的那个问题，<strong>在Mac上直播，OBS只能获取麦克风的声音，无法输出系统扬声器的声音</strong>。</p>\n<p>这里就需要用到另一个软件了。</p>\n<p><br></p>\n<h2 id=\"3-Soundflower的使用\"><a href=\"#3-Soundflower的使用\" class=\"headerlink\" title=\"3. Soundflower的使用\"></a>3. Soundflower的使用</h2><p>首先在GitHub上下载<a href=\"https://github.com/mattingalls/Soundflower\" target=\"_blank\" rel=\"noopener\">Soundflower</a>。</p>\n<p><strong>注意：如果系统跳出对话框告诉你无法识别开发者签名等安全警告的话，请前往<code>偏好设定-&gt;安全与隐私</code>，里面选择仍要打开。</strong></p>\n<p>双击<code>.pkg</code>安装后，<strong>重启电脑</strong>。</p>\n<p>重启之后，在Launchpad中打开<code>音频 MIDI 设置</code></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/8.png!xsy\" alt=\"\"></p>\n<p>点击加号，选择<code>创建一个多输出设备</code>，勾选 <code>内建输出</code> 和 <code>Soundflower(2ch)</code></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/9.png!xsy\" alt=\"\"></p>\n<p>前往<code>偏好设置-&gt;声音</code>。你现在可以看到输出设备里面有<code>Soundflower(2ch)</code>和<code>(64ch)</code>，以及刚刚创建的<code>多输出设备</code>。在输出设备里选择创建的多输出设备。在输入设备里面选则<code>Soundflower(2ch)</code>.</p>\n<p><strong>注意：全程不需要关注<code>Soundflower(64ch)</code>这一项，与本篇无关。</strong></p>\n<p><strong>注意：</strong></p>\n<ol>\n<li>在切换输出设备之前，请先调整好系统音量，因为一旦你切换设备后，将无法改变音量大小。(这就是前面提到的不完美的地方)</li>\n<li>如果你把输出设备设置为<code>Soundflower(2ch)</code>，在后续录制音频或者视频时，你自己是听不见声音的(因为没有选择内建输出)。但是录制好的视频是有声音的。</li>\n</ol>\n<p>切换回<code>音频 MIDI 设置</code>，选中左侧的<code>Soundflower(2ch)</code>，将其输入和输出的主声道向右拉到最大。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/10.png!xsy\" alt=\"\"></p>\n<p>Soundflower的设置就完成了。</p>\n<p>回到 OBS</p>\n<p>打开设置，选中 <code>音频</code>，按图设置：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/11.png!xsy\" alt=\"\"></p>\n<p>保存后回到主面板，如图所示。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/12.png!xsy\" alt=\"\"></p>\n<p>再<code>串流</code>，就能输出系统发出的所有声音到直播中去了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>本来对于一个羞涩的我，到这里就结束了的。因为我不用麦克风 😐</p>\n<p>也许你很快就能发现另一个问题了，系统的声音输出到直播中去了，但是自己说话的声音没了。</p>\n<p>那是因为再前面设置输入设备为<code>Soundflower(2ch)</code>的原因，麦克风没有选中。</p>\n<p>原理跟之前相同，前面是将 <code>内建输出</code>和<code>Soundflower(2ch)</code> 绑定在一起了。</p>\n<p>同样的，<code>音频 MIDI 设置</code> 还可以将 <code>麦克风</code>和<code>Soundflower(2ch)</code>聚集在一起。</p>\n<p>打开<code>音频 MIDI 设置</code>，右下角的加号，创建<code>聚集设备</code>，勾选<code>内建麦克风</code>和<code>Soundflower(2ch)</code>，并将<code>Soundflower(2ch)</code>设为主要。如图所示：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/13.png!xsy\" alt=\"\"></p>\n<p>再转到<code>偏好设置-&gt;声音</code>，设置系统的音频输入设备为刚刚创建的<code>聚合输入设备</code>就行了。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/14.png!xsy\" alt=\"\"></p>\n<p><br></p>\n<h2 id=\"4-直播王者荣耀\"><a href=\"#4-直播王者荣耀\" class=\"headerlink\" title=\"4. 直播王者荣耀\"></a>4. 直播王者荣耀</h2><p>将iPhone用数据线连上Mac，打开<code>QuickTime</code>，</p>\n<p>选择<code>文件</code>-&gt;<code>新建影片录制(opt+cmd+N)</code>，这时会开启摄像头，点击如图所示的下三角，相机和麦克风都选择自己的iPhone的名字即可</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/15.png!xsy\" alt=\"\"></p>\n<p>iPhone的操作就投影到桌面了。</p>\n<p>注意调节QuickTime的音量才能听到iPhone的声音</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/16.png\" alt=\"\"></p>\n<p>最后打开王者荣耀，就开始玩了。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/17.png!sy\" alt=\"\"></p>\n<p><br><br></p>\n<p>为了切换调整方便，可以<code>在菜单栏显示音量</code>。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/obs/18.png!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>至此，该说的都说完了😉，发热和风扇呼呼的情况自己体会。😅</p>\n<p><br><br></p>\n","categories":["计算机"],"tags":["Mac","iPhone","OBS","直播","B站","王者荣耀","Soundflower"]},{"title":"因为一个人，喜欢一部剧","url":"https://blog.ykqmain.com/april/","content":"<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/1.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>🎵 Orange 中文版</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/Orange_cn.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<blockquote>\n<p>作者：<strong>JY</strong></p>\n</blockquote>\n<p><br></p>\n<p>《四月是你的谎言》是在《未闻花名》之后给我最大触动的动漫。</p>\n<p>其实说到《四月是你的谎言》，首先想要说的却是女二。因为她颠覆了我对 女二 一贯的看法，在这里，女二不再是之前大多数人所认为的那样，与之相反，小椿是一个心地善良的女孩，她是男主有马公生眼中的“大姐姐”，她和公生一起长大，她和公生是大家眼中的青梅竹马，他们彼此见证着对方的成长。不由得想到那句话 <u><em>陪伴是最长情的告白</em></u>。但是其实一开始小椿却是不清楚自己对公生的感情的，或许是她习惯了以姐姐的身份待在公生的身旁，也或许是因为她明白公生是喜欢女主小薰……小椿出现在公生的身旁，还是出于男二阿渡的原因，这时，公生便是莫名的变成了所谓的<strong>友人A</strong>。</p>\n<p>第一眼他见到她的时候，目之所及全都变得多姿多彩，可能这就是所谓的一见钟情吧。有些人一旦出现，就决定了你们接下来要以什么样的方式相处，然而从那一刻起，这个谎言就出现了，小薰喜欢的是他的好朋友阿渡，他不过是个友人A罢了。其实就我个人而言，我是不太喜欢男主的，也许是因为不太喜欢他这种类型的男生，从最开始他的妈妈去世之后他就一直无法走出这个阴影，他放弃钢琴，而小椿却一直想方设法让他再度弹钢琴，后来小薰出现在公生的身旁，小椿心里很清楚，公生再次弹钢琴只会拉近小薰和他的距离，因为音乐会让公生和小薰走得更近，而自己却像个局外人…但为了公生，或许这些问题都不再是问题。后来的公生，在小薰她们的帮助下，走出了他的妈妈去世的阴影。然而他接下来面对的却是自己最爱的人即将离去的痛苦。面对这个，他选择的依旧是逃避，或许是的，他很痛苦，为什么自己最爱的人都要离他而去？但是即使这样又能怎样呢？他能做的只有坚强罢了。小薰又何尝不是呢，故事的结尾处，那封信解释了所有。原来小薰与公生的相遇并非偶然而是必然。5岁那年，小薰为了公生放弃钢琴而选择小提琴，就是为了有一天他能给自己伴奏，所以她一直在努力，直到后来她得知自己所剩时间不多了，但她依然没有放弃，而是让自己变得更好，她过得随性，坚强地面对上天给她安排的这一切。记得有一天晚上，坐在自行车后面的小薰放声痛哭，我想说公生知道她痛哭的原因吗？那种无助，那种不舍，那种无奈，有谁能理解？她不想离开爸爸妈妈，她不想离开公生，她也不想离开小椿她们这样的朋友，可是她却没有选择的权利。而且她还要故作坚强，因为她不想让父母为她担心，她不想让公生为她伤心，她也不想让朋友担心，所以她选择一个人默默承受这一切。可以想象到有多少个夜里她是一个再病房里默默哭泣呢，，这或许就是女主触动我的地方吧。最后，小薰离开了人世，这也许就是悲剧所要营造的凄美感吧。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/2.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/3.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/4.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/5.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/6.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/7.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>在这部番剧里面，我挺喜欢男二的，他出场的机会并不多，有些人表面的不在乎其实是在掩饰自己的内心，他是早已看穿了一切的，他清楚公生跟小薰的感情，他也在默默地支持着他们。在这部番剧里还有很多让人触动的地方，比如喜欢小椿的那位前辈，他知道小椿有喜欢的人，为了避免小椿的尴尬，故意说自己有喜欢的人，提出分手，他设身处地地为小椿着想，我想这就是作为一个男生的担当吧。还有相座与绘见，他们与公生是对手更多的却是朋友，他们在对手的影响下一点一点地进步，一步一步地成长，变成他们想要的模样。而故事里的有马早希，也就是男主的妈妈，她是一直贯穿着整部剧的，一开始我觉得她挺可怕的，我觉得是她导致了她儿子的悲剧，她把公生逼得没有退路，但是到后来我似乎能理解这位母亲的心意……</p>\n<p>总之这部剧里到处充满了美好的元素，从某个角度来说，男主虽然失去了两个他最爱的人——妈妈和小薰，但是他一路走来，小椿和小薰一直默默地为他付出，支持着他，他身边的一群朋友也都鼓励着他，这不也是一种幸福吗？最后的最后，他们没有在一起，但是他们一起所历所感都变成了最美好的回忆留在彼此的心中，拿不去抹不掉。很多时候我们明明知道结局或许并不美好，可也要去经历那段过程。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/8.jpg!xsy\" alt=\"\"></p>\n<p>春天，马上就要来了</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/9.jpg!xsy\" alt=\"\"></p>\n<p>让我与你相遇的春天，就要来了</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/10.jpg!xsy\" alt=\"\"></p>\n<p>再也没有你的春天…就要来了</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/11.jpg!xsy\" alt=\"\"></p>\n<p>最后，<strong>没有你的四月要来了。</strong></p>\n<p><br></p>\n<p><em>小薰想要传达的心意，也像这篇文章一样，传达到了吧——</em></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/12.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/13.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/14.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/15.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/16.jpg!xsy\" alt=\"\"></p>\n<blockquote>\n<p>作于2016年4月2日</p>\n</blockquote>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>——否则也不会有机会相约于东湖的雨，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/17.jpg!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/18.jpg!sy\" alt=\"\"></p>\n<p>…………</p>\n<p><strong>我以前很享受秋天的感觉，有了你之后，我也许觉得春天更美好。</strong></p>\n<p>即使在下雨。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/19.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/20.jpg!xsy\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["动画"],"tags":["回忆","动画","婧玉","四月是你的谎言"]},{"title":"博客1周年暨年终总结","url":"https://blog.ykqmain.com/2016/","content":"<p>本博客 <a href=\"http://blog.ykqmain.com/\">iAnna</a> <strong>一周年了</strong>！(/ω＼)</p>\n<p>博客的诞生不是一天完成的，期间换了域名，也换了博客系统，最终稳定在 <strong>12月20号</strong>，所以把这天作为博客诞生日。又因为到了年末，正好将<strong>年终总结</strong>加进来，会使本篇博客的内容比较充实。</p>\n<p><br></p>\n<p>时至年末，不禁回忆一年以来的各种事件，还好平时有什么三言两语都写进了<del>Day One</del>(备忘录)，回忆起来也是历历在目。</p>\n<p><br></p>\n<p>今天看见学霸感冒了仍不停止学习，加上又是一年年末，不禁回忆感叹一番，纪念今年浪费的时光，以及祭奠那些死在自己懒惰的借口之下的一个个小目标。</p>\n<p>虽然可以说“懒惰”促进了科学技术的发展，但是我的懒惰既没有促进全人类的进步，又没有提高自己的知识能力，更没有在偷懒的时间里享受生活，有的只是第二天那微不足道的懊悔，时间过得真快。</p>\n<p>然后在下一个周末、刚考完试、节假日、生病，这些看似应该闲下来的时间点，放纵自己，与此同时，还不忘给自己一个借口，以此来平复当时内心的负罪感，以获得某某的谅解，然后冠冕堂皇地做着令自己心情愉悦的事。在最后，假惺惺的忏悔一秒，周而复始，一年又尽。</p>\n<p>有人说，知道忏悔就是好的，忏悔说明还有羞耻之心，知耻而后勇。但是，这忏悔太假太假，以至于还不足以打破这个恶性循环。这样看来，把忏悔这个词，换成欺骗自己，也是说得通的。</p>\n<p>其实这就是欺骗。还披上了“我今天学习过了”的外衣，一起来蒙蔽自己的心。周五，就说什么终于周末，学了一周了，恬不知耻地拿出电脑打游戏看视频；刚考完试，就说什么之前预习三天了，怡然自得地掏出手机刷刷刷点点点；节假日，就说什么庆祝某某吃喝玩乐约不约到处浪；生病了，那就更有底气在床上躺一天了。至于到了年末，理由似乎更充分，反正也做不了什么事了，先定个目标，明年再说。现在看来，好像我在2015年末也是这么想的。</p>\n<p>之前一直在疑惑时间都去哪了，其实我是知道的，电脑，手机，吃喝玩乐，躺在床上。我不敢面对那些逝去的光阴，因而，我就越是情不自禁地欺骗自己，甚至用“理由”这种词语来装饰“借口”，还欺骗得内心浑然不觉。</p>\n<p>然而，我终将面对社会。</p>\n<p>世界上有很多事情是不公平的，但是，时间是公平的。一分一秒，不管我做什么，它都是那样不紧不慢；一天一时，无论你是谁，它不会偏袒任何一方；一年一月，历经过的都会变成客观存在，无法撤销。正如那句话所说，大多数人的努力程度之低，根本轮不到拼天赋。</p>\n<p>希望我不会只有在看到别人拿到工作Offer的时候才知道“少年易老学难成，一寸光阴不可轻”；希望我不会只有在看到别人研究生录取的时候，才知道“书山有路勤为径，学海无涯苦作舟”。</p>\n<p>见贤思齐焉，见不贤而内自省也。在Anna的激励指引下，不忘初心。感谢学霸们的见闻，以此明志。</p>\n<p>我还是先把这本Java看完吧(/ _ ; )</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/2016/1.jpeg!sy\" width=\"480\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/2016/2.jpeg!sy\" width=\"480\"></p>\n<p><br></p>\n<p><strong>新年快乐</strong> 🎉</p>\n<p><br><br><br></p>\n","categories":["文章"],"tags":["回忆","blog","总结"]},{"title":"Mac的Apache+MySQL+PHP配置","url":"https://blog.ykqmain.com/mamp/","content":"<h2 id=\"Apache配置\"><a href=\"#Apache配置\" class=\"headerlink\" title=\"Apache配置\"></a>Apache配置</h2><blockquote>\n<p>macOS Sierra 10.12</p>\n</blockquote>\n<blockquote>\n<p>Server version: Apache/2.4.23 (Unix)</p>\n</blockquote>\n<p>Mac自带Apache，可通过<code>httpd -v</code>查看版本号。</p>\n<p>配置文件：<code>/private/etc/apache2/httpd.conf</code></p>\n<p>默认部署包: <code>/Library/WebServer/Documents</code></p>\n<p><br></p>\n<h3 id=\"修改默认部署路径\"><a href=\"#修改默认部署路径\" class=\"headerlink\" title=\"修改默认部署路径\"></a>修改默认部署路径</h3><p>为了方便操作，需要指向特定的文件夹，通过修改<code>httpd.conf</code>来实现。</p>\n<p>用编辑器打开<code>httpd.conf</code>，查找(cmd+F) <code>DocumentRoot</code>,将</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\"><span class=\"nomarkup\">DocumentRoot</span></span> <span class=\"string\">\"/Library/WebServer/Documents\"</span></span><br><span class=\"line\"><span class=\"section\">&lt;Directory \"/Library/WebServer/Documents\"&gt;</span></span><br></pre></td></tr></table></figure>\n<p>里面的<strong>路径</strong>修改为想要设置的路径。</p>\n<p><br></p>\n<h3 id=\"修改默认端口\"><a href=\"#修改默认端口\" class=\"headerlink\" title=\"修改默认端口\"></a>修改默认端口</h3><p>有时候80端口被占用了，就需要换个端口。</p>\n<p>用编辑器打开<code>httpd.conf</code>，查找(cmd+F) <code>80</code>，将其改为想要设置的端口，比如 81</p>\n<p><br></p>\n<h3 id=\"设置虚拟主机\"><a href=\"#设置虚拟主机\" class=\"headerlink\" title=\"设置虚拟主机\"></a>设置虚拟主机</h3><p>用编辑器打开<code>httpd.conf</code>，查找<code>#Include /private/etc/apache2/extra/httpd-vhosts.conf</code>，删掉 <code>#</code></p>\n<p>虚拟机配置路径：<code>/private/etc/apache2/extra/httpd-vhosts.conf</code></p>\n<p>修改<code>httpd-vhost.conf</code>文件，该文件默认开启了两个作为例子的虚拟主机：</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;VirtualHost *:<span class=\"number\">80</span>&gt;</span><br><span class=\"line\">    ServerAdmin webmaster@dummy-host<span class=\"selector-class\">.example</span><span class=\"selector-class\">.com</span></span><br><span class=\"line\">    DocumentRoot <span class=\"string\">\"/usr/docs/dummy-host.example.com\"</span></span><br><span class=\"line\">    ServerName dummy-host<span class=\"selector-class\">.example</span><span class=\"selector-class\">.com</span></span><br><span class=\"line\">    ServerAlias www<span class=\"selector-class\">.dummy-host</span><span class=\"selector-class\">.example</span><span class=\"selector-class\">.com</span></span><br><span class=\"line\">    ErrorLog <span class=\"string\">\"/private/var/log/apache2/dummy-host.example.com-error_log\"</span></span><br><span class=\"line\">    CustomLog <span class=\"string\">\"/private/var/log/apache2/dummy-host.example.com-access_log\"</span> common</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;VirtualHost *:<span class=\"number\">80</span>&gt;</span><br><span class=\"line\">    ServerAdmin webmaster@dummy-host2<span class=\"selector-class\">.example</span><span class=\"selector-class\">.com</span></span><br><span class=\"line\">    DocumentRoot <span class=\"string\">\"/usr/docs/dummy-host2.example.com\"</span></span><br><span class=\"line\">    ServerName dummy-host2<span class=\"selector-class\">.example</span><span class=\"selector-class\">.com</span></span><br><span class=\"line\">    ErrorLog <span class=\"string\">\"/private/var/log/apache2/dummy-host2.example.com-error_log\"</span></span><br><span class=\"line\">    CustomLog <span class=\"string\">\"/private/var/log/apache2/dummy-host2.example.com-access_log\"</span> common</span><br><span class=\"line\">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure>\n<p>便于以后参考，用<code>#</code>注释它们</p>\n<p>如果不注释或删除它们，可能会出现：</p>\n<figure class=\"highlight vhdl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Forbidden</span><br><span class=\"line\">You don<span class=\"symbol\">'t</span> have permission <span class=\"keyword\">to</span> <span class=\"keyword\">access</span> /index.php <span class=\"keyword\">on</span> this server</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p><strong>在<code>httpd-vhost.conf</code>文件末尾增加如下配置：</strong></p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">&lt;VirtualHost *:81&gt;</span></span><br><span class=\"line\">    <span class=\"attribute\"><span class=\"nomarkup\">DocumentRoot</span></span> <span class=\"string\">\"/Users/yang/Developer/Code/Web/apacheDocuments\"</span></span><br><span class=\"line\">    <span class=\"attribute\"><span class=\"nomarkup\">ServerName</span></span> localhost</span><br><span class=\"line\">    <span class=\"attribute\">ErrorLog</span> <span class=\"string\">\"/private/var/log/apache2/sites-error_log\"</span></span><br><span class=\"line\">    <span class=\"attribute\">CustomLog</span> <span class=\"string\">\"/private/var/log/apache2/sites-access_log\"</span> common</span><br><span class=\"line\">    <span class=\"section\">&lt;Directory /&gt;</span></span><br><span class=\"line\">                <span class=\"attribute\"><span class=\"nomarkup\">Options</span></span> Indexes FollowSymLinks MultiViews</span><br><span class=\"line\">                <span class=\"attribute\">AllowOverride</span> None</span><br><span class=\"line\">                <span class=\"attribute\"><span class=\"nomarkup\">Order</span></span> deny,allow</span><br><span class=\"line\">                <span class=\"attribute\"><span class=\"nomarkup\">Allow</span></span> from <span class=\"literal\">all</span></span><br><span class=\"line\">      <span class=\"section\">&lt;/Directory&gt;</span></span><br><span class=\"line\"><span class=\"section\">&lt;/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure>\n<p>注意：</p>\n<ul>\n<li><strong>端口号</strong>、<strong>DocumentRoot路径</strong> 必须与 <code>httpd.conf</code> 一致</li>\n<li>日志可选</li>\n</ul>\n<p><br></p>\n<h3 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h3><p>在自定义的<code>DocumentRoot路径</code>下新建一个<code>index.html</code>文件，</p>\n<p>打开终端，输入<code>sudo apachectl start</code> 启动Apache.</p>\n<ul>\n<li><code>sudo apachectl restart</code> 重启</li>\n<li><code>sudo apachectl stop</code> 停止</li>\n</ul>\n<p>打开浏览器，输入<code>http://127.0.0.1:81</code> 或者 <code>http://localhost:81</code>访问相关内容。</p>\n<p><br></p>\n<h2 id=\"开启PHP\"><a href=\"#开启PHP\" class=\"headerlink\" title=\"开启PHP\"></a>开启PHP</h2><blockquote>\n<p>PHP 5.6.27 (cli)</p>\n</blockquote>\n<p>Mac自带PHP，通过 <code>php -version</code> 查看版本</p>\n<p>取消<code>httpd.conf</code>中注释 <code>LoadModule php5_module libexec/apache2/libphp5.so</code></p>\n<p>在index.php中写入 <code>&lt;?php phpinfo(); ?&gt;</code> 测试。</p>\n<h3 id=\"phpMyAdmin配置\"><a href=\"#phpMyAdmin配置\" class=\"headerlink\" title=\"phpMyAdmin配置\"></a>phpMyAdmin配置</h3><ol>\n<li><p>下载<a href=\"https://www.phpmyadmin.net\" target=\"_blank\" rel=\"noopener\">phpMyAdmin</a>，解压到<code>Documents</code>目录下。</p>\n</li>\n<li><p>文件夹名改名为<code>phpadmin</code>，将<code>phpadmin</code>下的<code>config.sample.inc.php</code>文件名改为<code>config.inc.php</code>。</p>\n</li>\n<li><p>配置config文件。</p>\n</li>\n</ol>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$cfg['blowfish_secret'] = ''; /<span class=\"bullet\">* YOU MUST FILL IN THIS FOR COOKIE AUTH! *</span>/</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * Servers configuration</span><br><span class=\"line\"> */</span><br><span class=\"line\">$i = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * First server</span><br><span class=\"line\"> */</span><br><span class=\"line\">$i++;</span><br><span class=\"line\">/<span class=\"bullet\">* Authentication type *</span>/</span><br><span class=\"line\"><span class=\"section\"># $cfg['Servers'][$i]['auth_type'] = 'cookie';</span></span><br><span class=\"line\">/<span class=\"bullet\">* Server parameters *</span>/</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'host'</span>] = '127.0.0.1';</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'connect_type'</span>] = 'tcp';</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'compress'</span>] = false;</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'AllowNoPassword'</span>] = true;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * phpMyAdmin configuration storage settings.</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">/<span class=\"bullet\">* User used to manipulate with storage *</span>/</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'controlhost'</span>] = '127.0.0.1';</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'controlport'</span>] = '3306';</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'controluser'</span>] = '';  #数据库用户名</span><br><span class=\"line\">$cfg[<span class=\"string\">'Servers'</span>][<span class=\"symbol\">$i</span>][<span class=\"string\">'controlpass'</span>] = '';  #数据库密码</span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n<h3 id=\"mac自带php配置\"><a href=\"#mac自带php配置\" class=\"headerlink\" title=\"mac自带php配置\"></a>mac自带php配置</h3><p><code>sudo cp /private/etc/php.ini.default /private/etc/php.ini</code></p>\n<ul>\n<li>启用图像扩展函数库 在<code>php.ini</code>文件中找到<code>;extension=php_gd2.dll</code>,去掉分号 <code>;</code>，然后重启 apache</li>\n</ul>\n<p><br><br></p>\n<h2 id=\"数据库\"><a href=\"#数据库\" class=\"headerlink\" title=\"数据库\"></a>数据库</h2><h3 id=\"连接mysql\"><a href=\"#连接mysql\" class=\"headerlink\" title=\"连接mysql\"></a>连接mysql</h3><p>在<code>php.ini</code>文件中找到<code>;extension=php_mysql.dll</code>,去掉分号 <code>;</code>，然后重启 apache</p>\n<p>在PHP中，mysql_connect()函数用来建立和mysql的连接，格式为：</p>\n<p><code>resource mysql_connect([string server [,string username [, string password [, bool new_link [, int client_flags]]]]])</code></p>\n<p>如果成功则返回一个mysql连接标识，失败则返回FALSE。</p>\n<ul>\n<li>server 用于指定要连接的mysql服务器，可以包括端口，如 ‘127.0.0.1’ (建议用127而不是localhost)</li>\n<li>username 用户名</li>\n<li>password 密码</li>\n<li>new_link 是否要建立新的连接</li>\n</ul>\n<p><code>mysql_connect()</code> 通常只需要前三个参数即可，</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?php</span> </span></span><br><span class=\"line\"><span class=\"php\">$link = mysql_connect(<span class=\"string\">\"127.0.0.1:3306\"</span>,<span class=\"string\">\"root\"</span>,<span class=\"string\">\"密码\"</span>)</span></span><br><span class=\"line\"><span class=\"php\">    <span class=\"keyword\">or</span> <span class=\"keyword\">die</span>(<span class=\"string\">\"连接数据库失败\"</span>.mysql_error());</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"keyword\">echo</span> <span class=\"string\">\"&lt;p&gt;数据库连接成功！&lt;/p&gt;\\n\"</span>;</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"meta\">?&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n<h3 id=\"选择数据库\"><a href=\"#选择数据库\" class=\"headerlink\" title=\"选择数据库\"></a>选择数据库</h3><p><code>bool mysql_select_db(string database_name, int [link_identifier]);</code></p>\n<ul>\n<li>database_name 数据库名称</li>\n<li>link_identifier 指定由mysql_connect()函数返回的连接标识</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?php</span> </span></span><br><span class=\"line\"><span class=\"php\">$id = mysql_connect(<span class=\"string\">\"127.0.0.1:3306\"</span>,<span class=\"string\">\"root\"</span>,<span class=\"string\">\"密码\"</span>);</span></span><br><span class=\"line\"><span class=\"php\">$ok = mysql_select_db(<span class=\"string\">\"database_name\"</span>,$id);</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"keyword\">if</span>($ok) &#123;</span></span><br><span class=\"line\"><span class=\"php\">    <span class=\"keyword\">echo</span> <span class=\"string\">\"&lt;p&gt;数据库选择成功！&lt;/p&gt;\\n\"</span></span></span><br><span class=\"line\"><span class=\"php\">&#125;</span></span><br><span class=\"line\"><span class=\"php\">esle &#123;</span></span><br><span class=\"line\"><span class=\"php\">    <span class=\"keyword\">echo</span> <span class=\"string\">\"&lt;p&gt;数据库选择失败，请确定数据库是否存在。&lt;/p&gt;\\n\"</span></span></span><br><span class=\"line\"><span class=\"php\">&#125;</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"meta\">?&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n<h3 id=\"对数据库进行操作\"><a href=\"#对数据库进行操作\" class=\"headerlink\" title=\"对数据库进行操作\"></a>对数据库进行操作</h3><p>向服务器发送指令，使用<code>mysql_query()</code>函数，</p>\n<p><code>resource mysql_query(string $query [, resource $link_identifier])</code></p>\n<p>向指定的连接标识符link_identifier所关联的服务器中的当前活动的数据库发送一条内容为 query 的查询。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?php</span> </span></span><br><span class=\"line\"><span class=\"php\">$id = mysql_connect(<span class=\"string\">\"127.0.0.1:3306\"</span>,<span class=\"string\">\"root\"</span>,<span class=\"string\">\"密码\"</span>);</span></span><br><span class=\"line\"><span class=\"php\">$ok = mysql_select_db(<span class=\"string\">\"database_name\"</span>,$id);</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"keyword\">if</span>($ok) &#123;</span></span><br><span class=\"line\"><span class=\"php\">    $result = mysql_query(<span class=\"string\">'SELECT * from student'</span>);</span></span><br><span class=\"line\"><span class=\"php\">    <span class=\"keyword\">if</span>(!$result) &#123;</span></span><br><span class=\"line\"><span class=\"php\">        <span class=\"keyword\">Die</span>(<span class=\"string\">'无效查询'</span>.mysql_error());</span></span><br><span class=\"line\"><span class=\"php\">    &#125;</span></span><br><span class=\"line\"><span class=\"php\">    <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"php\">        <span class=\"keyword\">echo</span> <span class=\"string\">\"成功执行SQL语句\"</span>;</span></span><br><span class=\"line\"><span class=\"php\">    &#125;</span></span><br><span class=\"line\"><span class=\"php\">&#125;</span></span><br><span class=\"line\"><span class=\"php\"><span class=\"meta\">?&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p><strong>最后程序结束用mysql_close()函数来关闭数据库连接。</strong></p>\n<p><br></p>\n<p>开始学习PHP了…… &nbsp;&nbsp; _(:3」∠)_</p>\n<p><br><br></p>\n","categories":["网络"],"tags":["服务器","Apache","MySQL","Mac","Web","数据库","PHP"]},{"title":"Apple相关","url":"https://blog.ykqmain.com/apple/","content":"<h2 id=\"重装Mac系统\"><a href=\"#重装Mac系统\" class=\"headerlink\" title=\"重装Mac系统\"></a>重装Mac系统</h2><ol>\n<li><p><strong>准备工作</strong></p>\n<ol>\n<li><p><strong><u>备份！！！</u></strong></p>\n</li>\n<li><p>准备一个16G以上的U盘（会被格式化）</p>\n</li>\n<li><p>从App Store下载新系统，下载成功后，退出自动安装。确保安装文件在“应用程序”文件夹（Applications）<br><br></p>\n</li>\n</ol>\n</li>\n<li><p><strong>格式化 U盘</strong></p>\n<ol>\n<li><p>打开“磁盘工具”</p>\n</li>\n<li><p>名称 填写 <strong>U</strong> (该名称之后会用到)</p>\n</li>\n<li><p>格式 选择 <strong>Mac OS 扩展 (日志式)</strong></p>\n</li>\n<li><p>分区 选择 <strong>GUID 分区表</strong><br><br></p>\n</li>\n</ol>\n</li>\n<li><p><strong>制作启动盘</strong></p>\n<ol>\n<li><p>打开“终端”</p>\n</li>\n<li><p><code>sudo /Applications/Install\\ macOS\\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/U</code></p>\n<ul>\n<li>相应地替换为<code>U</code></li>\n<li>空格之间用 <code>\\</code> 连接</li>\n<li>用“文件/设备拖入法”也比较方便</li>\n</ul>\n</li>\n<li><p>确定后，输入管理员密码，等待 (U盘读写速度影响时间)。陆续看到以下信息</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Ready <span class=\"keyword\">to</span> start.</span><br><span class=\"line\"><span class=\"keyword\">To</span> continue we need <span class=\"keyword\">to</span> erase the volume at /Volumes/U.</span><br><span class=\"line\"><span class=\"keyword\">If</span> you wish <span class=\"keyword\">to</span> continue<span class=\"built_in\"> type </span>(Y) then press return: Y</span><br><span class=\"line\">Erasing disk: 0%<span class=\"built_in\">..</span>. 10%<span class=\"built_in\">..</span>. 20%<span class=\"built_in\">..</span>. 30%<span class=\"built_in\">..</span>. 100%</span><br><span class=\"line\">Copying <span class=\"keyword\">to</span> disk: 0%<span class=\"built_in\">..</span>. 10%<span class=\"built_in\">..</span>. 20%<span class=\"built_in\">..</span>. 30%<span class=\"built_in\">..</span>. 40%<span class=\"built_in\">..</span>. 50%<span class=\"built_in\">..</span>. 60%<span class=\"built_in\">..</span>. 70%<span class=\"built_in\">..</span>. 80%<span class=\"built_in\">..</span>. 100%</span><br><span class=\"line\">Making disk bootable<span class=\"built_in\">..</span>.</span><br><span class=\"line\">Copying boot files<span class=\"built_in\">..</span>.</span><br><span class=\"line\">Install media now available at <span class=\"string\">\"/Volumes/Install macOS Mojave\"</span></span><br></pre></td></tr></table></figure>\n<p><br></p>\n</li>\n</ol>\n</li>\n<li><p><strong>安装</strong></p>\n<ol>\n<li><p>重启，按住 <strong>option(alt)</strong> 键，直到屏幕显示多出一个 USB 启动盘的选项</p>\n</li>\n<li><p>选择 U 盘的图标回车，可以直接覆盖安装系统(升级)，也可以在磁盘工具里面格式化抹掉整个硬盘，或者重新分区等实现全新的干净的安装。</p>\n</li>\n<li><p>屏蔽更新</p>\n<ul>\n<li><code>sudo softwareupdate --ignore &quot;macOS Catalina&quot;</code></li>\n<li><code>defaults write com.apple.systempreferences AttentionPrefBundleIDs 0 ; killall Dock</code></li>\n</ul>\n</li>\n<li><p>恢复更新</p>\n<ul>\n<li><code>sudo softwareupdate --reset-ignored</code><br><br></li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"Mac小技巧\"><a href=\"#Mac小技巧\" class=\"headerlink\" title=\"Mac小技巧\"></a>Mac小技巧</h2><ol>\n<li><p><strong>系统截图</strong></p>\n<ol>\n<li><p>去掉窗口截屏的阴影对窗口进行截屏的时候(<code>Command＋Shift＋4</code>, 空格)，得到的图片周围会自动被加上一圈阴影。</p>\n<p>关闭阴影</p>\n<p><code>defaults write com.apple.screencapture disable-shadow -bool true ; killall SystemUIServer</code></p>\n<p>恢复</p>\n<p><code>defaults write com.apple.screencapture disable-shadow -bool false ; killall SystemUIServer</code></p>\n</li>\n<li><p>窗口截图：使用<code>Command＋shift＋4</code>后，按下空格键，鼠标会变成一个小相机，这时候你使用鼠标对一个窗口点击一下鼠标左键，就对一个窗口进行了截图。</p>\n<p>截图窗口位置微调：</p>\n<p>按<code>Command＋shift＋4</code>后 ,画一个抓取的区域，不要松开鼠标，接着：</p>\n<ul>\n<li>按住空格可以移动这个区域</li>\n<li>按住 Shift后，将锁定X 或者 Y轴进行拖动</li>\n<li>按住 Option后，将按照区域圆心进行放大<br><br></li>\n</ul>\n</li>\n</ol>\n</li>\n<li><p><strong>显示 隐藏文件</strong></p>\n<ul>\n<li><p><code>Command + Shift + .</code></p>\n</li>\n<li><p>打开终端，<code>cd</code> 到相关文件夹，<code>ls -a</code></p>\n</li>\n<li><p>打开终端,</p>\n<p>  显示</p>\n<p>  <code>defaults write com.apple.finder AppleShowAllFiles -boolean true ; killall Finder</code></p>\n<p>  隐藏</p>\n<p>  <code>defaults write com.apple.finder AppleShowAllFiles -boolean false ; killall Finder</code><br><br></p>\n</li>\n</ul>\n</li>\n<li><p>Mac启动项</p>\n</li>\n</ol>\n<p>macOS系统的启动项会以<code>.plist</code>的文件存在于以下目录中：</p>\n<p><code>/Library/LaunchDaemons</code> 系统启动时运行，用户不登录也会运行。<br><code>/Library/LaunchAgents</code> 用户登录后运行。<br><code>~/Library/LaunchAgents</code> 用户自定义的用户启动项<br><code>/System/Library/LaunchDaemons</code> 系统自带的启动项<br><code>/System/Library/LaunchAgents</code> 系统自带的启动项</p>\n<p>每个 .plist 文件中，有 3 个属性控制着是否会开机自动启动。<br><code>KeepAlive</code>：决定程序是否需要一直运行，如果是 false 则需要时才启动。默认 false<br><code>RunAtLoad</code>：开机时是否运行。默认 false。<br><code>SuccessfulExit</code>：此项为 true 时，程序正常退出时重启（即退出码为 0）；为 false 时，程序非正常退出时重启。此项设置时会隐含默认 RunAtLoad = true，因为程序需要至少运行一次才能获得退出状态。<br><br></p>\n<ol start=\"4\">\n<li><p><strong>重置launchpad</strong></p>\n<p> <code>defaults write com.apple.dock ResetLaunchPad -bool true; killall Dock</code><br><br></p>\n</li>\n<li><p><strong>还原网络设置</strong></p>\n<p> 清空 下面文件夹中的所有文件，</p>\n<p> <code>/Library/Preferences/SystemConfiguration/</code></p>\n<p> 重启Mac</p>\n<p> (用于Mac网络设置无响应)<br><br></p>\n</li>\n<li><p><strong>重建Spotlight索引</strong></p>\n<p> <code>sudo mdutil -E /</code><br><br></p>\n</li>\n<li><p><strong>关闭校园网认证弹窗</strong></p>\n<p> <code>sudo defaults write /Library/Preferences/SystemConfiguration/com.apple.captive.control Active -bool false</code><br><br></p>\n</li>\n</ol>\n<h2 id=\"常用路径\"><a href=\"#常用路径\" class=\"headerlink\" title=\"常用路径\"></a>常用路径</h2><ul>\n<li><p>iTunes的iDevices备份路径：<code>~/Library/Application Support/MobileSync/Backup/</code></p>\n</li>\n<li><p>Xcode文档路径：<code>~/Library/Developer/Shared/Documentation</code></p>\n</li>\n<li><p>Xcode插件路径：<code>~/Library/Application Support/Developer/Shared/Xcode/Plug-ins/</code></p>\n</li>\n<li><p>Xcode模板路径：<code>/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/Project Templates/</code></p>\n</li>\n<li><p>iOS模拟器：<code>/Applications/Xcode.app/Contents/Developer/Applications/Simulator.app</code></p>\n</li>\n<li><p>App crash report：<code>~/Library/Developer/Xcode/Products/</code></p>\n</li>\n<li><p>Mac自带apache的配置目录 <code>/private/etc/apache2/httpd.conf</code></p>\n</li>\n<li><p>apache的部署包 <code>/资源库/WebServer/Documents/</code></p>\n</li>\n<li><p>hosts文件：<code>/private/etc/hosts</code></p>\n</li>\n</ul>\n<p><br></p>\n<p>新系统等得好焦急 _(:3」∠)_</p>\n<p><br></p>\n<hr>\n<p><br><br></p>\n<h2 id=\"iOS重装-刷机、降级\"><a href=\"#iOS重装-刷机、降级\" class=\"headerlink\" title=\"iOS重装 (刷机、降级)\"></a>iOS重装 (刷机、降级)</h2><ol>\n<li><p>连接电脑，打开iTunes，<strong>备份</strong></p>\n</li>\n<li><p>恢复模式</p>\n<ol>\n<li><p>长按住电源键，出现关机选项时，滑动关机</p>\n</li>\n<li><p>再按电源键开机，屏幕会出现苹果标志，不要松开电源键，同时按住主屏 <code>Home</code> 键，直到屏幕黑屏时；松开电源键，继续按住主屏 Home 键，直到电脑端的 iTunes 出现 <code>检测到一个处于恢复模式的 iPhone</code></p>\n</li>\n<li><p>点击 iTunes 窗口中的 <code>恢复 iPhone</code> 按钮</p>\n</li>\n</ol>\n</li>\n<li><p>让 iTunes 自动识别机器，下载固件</p>\n<ul>\n<li>MacOS 先按 <code>option</code> 键，再点击 <code>恢复 iPhone</code> 按钮</li>\n<li>Windows 先按 <code>Shift</code> 键，再点击 <code>恢复 iPhone</code> 按钮</li>\n<li><code>更新</code> 保留原数据</li>\n<li><code>恢复</code> 抹掉数据</li>\n<li>固件路径 <code>~/Library/iTunes/iPhone Software Updates</code></li>\n</ul>\n</li>\n</ol>\n<p><br><br></p>\n","categories":["计算机"],"tags":["Apple","Mac","macOS","OS X","iPhone","iOS","skill"]},{"title":"年轻的战场","url":"https://blog.ykqmain.com/young/","content":"<blockquote>\n<p>今天我<br>终于站在这年轻的战场<br>请你给我<br>一束爱的光芒<br>今天我<br>将要走向这胜利的远方<br>我要把这世界为你点亮<br>…… ……<br>——《年轻的战场》</p>\n</blockquote>\n<p><br></p>\n<p>🎵 年轻的战场 - 张杰</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/young/young.m4a\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n<p><br></p>\n<p>20岁的生日，强迫着自己写一点东西，对于两年没有再接触文史材料的我来说，写作变得很陌生，有点艰难，想到哪扯到哪吧，在博客上做个记录。</p>\n<p>…… ……</p>\n<p>再没有文体的限制，更没有了800字的限制，等到可以想说什么想写什么时候，似乎表达的欲望并没有那么强烈，还不如高中呢 :-)</p>\n<p>待续，</p>\n<p><br></p>\n<h2 id=\"Update：2016-08-25\"><a href=\"#Update：2016-08-25\" class=\"headerlink\" title=\"Update：2016-08-25\"></a>Update：2016-08-25</h2><p>本来是想在20岁的生日记录一些的，果然，人必须是要经历一些事情，才会有所感悟。</p>\n<p>:-) 微笑，是比大哭更心痛的表情🙂<br><br></p>\n<p>🎵 Orange (中文版)</p>\n<audio controls=\"controls\"><br>    <source src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/april/Orange_cn.mp3\"><br>    Your browser does not support the Audio tag.<br></audio>\n\n\n<p>写作已经变得很陌生，最简单的是按照时间的顺序来。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>在学校打了最后一场网球，纪念三学期的网球课，直到最后，我才发现，原来<strong>网球</strong>这么有趣，就像某些人，直到最后才<strong>被发现</strong> :-)</p>\n<p>人生就是那么奇怪，你以为只是一个过客，她却留下了，你以为她永远不会走，她却又离开了。</p>\n<p><br></p>\n<p>最后，一个人到楼顶吹吹风，第二天就回家了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>往事不堪回首，以至于稍微回想一下就会感到莫名的悲伤，</p>\n<p>20年，活着真累，</p>\n<p>读的学校很水，钱也不会赚，事也不会做。</p>\n<p>别人家的孩子考上研究生，别人家的孩子都在赚钱，别人家的孩子都好些。</p>\n<p>如果哪天我出意外死了，真的解脱了，也就不像现在这么累，半点生活的乐趣都没有。学业没搞好，事业连影子都看不到。</p>\n<p>高考后没哭过这么痛快，不禁想到，人的一生该怎样度过？“为了人类的解放而斗争”对我而言只能是一句玩笑。</p>\n<p>“天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。” 对于自己选择的路，就算是爬，也要爬完。唯一期望的是，不留遗憾。</p>\n<p>如果哪天我有幸去世，希望朋友能来参加我葬礼的同时，能多思念我一分钟，这也就足够了 : )</p>\n<p>空闲的时候，看看B站，直播的“放映厅”，那是一个新世界，</p>\n<p>没事就开着，看到《武林外传》，那是很遥远的回忆了，</p>\n<p>但是歌词却记忆犹新，</p>\n<blockquote>\n<p>这世界有太多不如意<br>但你的生活还是要继续<br>太阳每天依旧要升起<br>希望永远种在你心里<br>——《侠客行》</p>\n</blockquote>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>夏天，应该有空调，Wi-Fi，音乐……</p>\n<p>特别的，这个夏天还有<strong>洪水</strong>。</p>\n<p>因为外婆家房子问题，所以搬来跟我一起，大约一个星期。</p>\n<p>吃饭，烧水，都是我，<strong>琐碎的小事</strong> 不间断，这大概就是生活。</p>\n<blockquote>\n<p>寄蜉蝣于天地，渺沧海之一粟。<br>哀吾生之须臾，羡长江之无穷。<br>挟飞仙以遨游，抱明月而长终。<br>知不可乎骤得，托遗响于悲风。<br>——《前赤壁赋》</p>\n</blockquote>\n<p>七月就这么过去了。</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>在八月的时候看了许多动画，特点都是国产，以及童年怀旧。深感动画世界的<strong>美好</strong>、童年时代的<strong>单纯</strong>、以及与小伙伴们玩耍时的<strong>欢乐</strong>。</p>\n<p>遗憾不懂音乐，就像错过了一整个美好的世界……羡慕会弹钢琴的人 (｡-_-｡)</p>\n<p><br></p>\n<p>夜深人静的时候，抬头往上看，最美的景色展现在眼前，这是<strong>自然</strong>赠予孤独的我最好的礼物，</p>\n<blockquote>\n<p>年轻的时候，你总是以为会和许多人志同道合，有点风吹草动就忍不住找人倾诉。和恋人吵个架，恨不得让全世界的人来安慰你。稍感寂寞，就狂喊孤独。但是后来你会发现，有的人，是一起成长的；有的人，是用来遗忘的；能伴你走过一程又一程的，也就屈指可数的几个人。</p>\n</blockquote>\n<p><strong>而现在，我也渐渐地习惯了一个人。</strong></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>光阴似箭，日月如梭。</p>\n<p>来到学校，看到这样的<strong>寝室</strong>，不禁感慨，</p>\n<p>生活总是有很多不顺，以前试着强行扯理由安慰自己，让自己好过点，但是这次、也就是现在，我已经想不出任何理由来平复我的心，心很累，真的累了。</p>\n<p>坐在寝室里，再看看_学费_，</p>\n<p>心里再一凉</p>\n<p>对不起父母的血汗钱</p>\n<p>心累，心凉，心痛，</p>\n<p>愧疚，难受，想哭。</p>\n<p>未来很迷茫，道路是未知的。</p>\n<p><br></p>\n<p>傍晚的风很暖，学校门口的那条街又新开了很多店面，热闹非凡，</p>\n<p>而我，<strong>离人群越来越远了</strong>。</p>\n<p><br><br></p>\n","categories":["文章"],"tags":["回忆","生日"]},{"title":"Nginx安装","url":"https://blog.ykqmain.com/nginx/","content":"<p><strong>系统平台：Centos 6 x86</strong></p>\n<p><strong>全程需要注意路径问题</strong></p>\n<p><br></p>\n<h2 id=\"Nginx-安装\"><a href=\"#Nginx-安装\" class=\"headerlink\" title=\"Nginx 安装\"></a>Nginx 安装</h2><ol>\n<li><p>安装编译工具及库文件</p>\n<p> <code>yum -y install make zlib zlib-devel gcc-c++ libtool  openssl openssl-devel</code><br><br></p>\n</li>\n<li><p>安装 PCRE</p>\n<p> PCRE 作用是让 Ngnix 支持 Rewrite 功能。</p>\n<ol>\n<li><p>下载 PCRE 安装包:</p>\n<p><code>wget http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz</code></p>\n</li>\n<li><p>解压安装包:</p>\n<p><code>tar zxvf pcre-8.35.tar.gz</code></p>\n</li>\n<li><p>进入安装包目录</p>\n<p><code>cd pcre-8.35</code></p>\n</li>\n<li><p>编译安装 </p>\n<p><code>./configure</code></p>\n<p><code>make &amp;&amp; make install</code><br><br></p>\n</li>\n</ol>\n</li>\n<li><p>安装 Nginx</p>\n<ol>\n<li><p>下载Nginx</p>\n<p>一直退出到主目录 <code>cd ..</code></p>\n<p><code>wget http://nginx.org/download/nginx-1.12.2.tar.gz</code></p>\n</li>\n<li><p>解压安装包</p>\n<p><code>tar zxvf nginx-1.12.2.tar.gz</code></p>\n</li>\n<li><p>进入安装包目录</p>\n<p><code>cd nginx-1.12.2</code></p>\n</li>\n<li><p>编译安装</p>\n<p><code>./configure --prefix=/web/nginx --with-http_stub_status_module --with-http_ssl_module --with-pcre=/root/pcre-8.35</code></p>\n<p><code>make</code></p>\n<p><code>make install</code></p>\n</li>\n</ol>\n</li>\n</ol>\n<p><br><br></p>\n<h2 id=\"Nginx-配置\"><a href=\"#Nginx-配置\" class=\"headerlink\" title=\"Nginx 配置\"></a>Nginx 配置</h2><p>配置文件<code>nginx.conf</code>，在<code>/web/nginx/conf/</code>里面，</p>\n<p>主要配置这里：</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">server</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">listen</span>       <span class=\"number\">80</span>;</span><br><span class=\"line\">        <span class=\"attribute\">server_name</span>  ykqmain.com;</span><br><span class=\"line\">        <span class=\"attribute\">index</span> index.html index.htm index.php;</span><br><span class=\"line\">        <span class=\"attribute\">charset</span> utf-<span class=\"number\">8</span>;</span><br><span class=\"line\">        <span class=\"attribute\">root</span> /安装的路径/nginx/html;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"attribute\">if</span> (<span class=\"variable\">$host</span> != ykqmain.com) &#123;</span><br><span class=\"line\">        <span class=\"attribute\">rewrite</span><span class=\"regexp\"> ^/(.*)$</span> http://ykqmain.com/<span class=\"variable\">$1</span> <span class=\"literal\">permanent</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">#access_log  logs/host.access.log  main;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attribute\">location</span> / &#123;</span><br><span class=\"line\">            <span class=\"attribute\">root</span>   html;</span><br><span class=\"line\">            <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<p>(<em>我这里还配置了301转发，将带WWW的转到不带WWW的网址。</em>)</p>\n<p>检查配置文件<code>ngnix.conf</code>的正确性命令：<code>/web/nginx/sbin/nginx -t</code></p>\n<p>启动 Nginx: <code>/web/nginx/sbin/nginx</code></p>\n<p><strong>访问站点测试是否成功</strong></p>\n<p><br><br></p>\n<h2 id=\"Nginx-开机自启\"><a href=\"#Nginx-开机自启\" class=\"headerlink\" title=\"Nginx 开机自启\"></a>Nginx 开机自启</h2><ol>\n<li><p>首先，在linux系统的<code>/etc/init.d/</code>目录下创建nginx文件</p>\n<p> <code>vim /etc/init.d/nginx</code><br><br></p>\n</li>\n<li><p>添加</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># nginx - this script starts and stops the nginx daemon</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"comment\"># chkconfig:   - 85 15</span></span><br><span class=\"line\"><span class=\"comment\"># description:  NGINX is an HTTP(S) server, HTTP(S) reverse \\</span></span><br><span class=\"line\"><span class=\"comment\">#               proxy and IMAP/POP3 proxy server</span></span><br><span class=\"line\"><span class=\"comment\"># processname: nginx</span></span><br><span class=\"line\"><span class=\"comment\"># config:      /etc/nginx/nginx.conf</span></span><br><span class=\"line\"><span class=\"comment\"># config:      /etc/sysconfig/nginx</span></span><br><span class=\"line\"><span class=\"comment\"># pidfile:     /var/run/nginx.pid</span></span><br><span class=\"line\"><span class=\"comment\"># Source function library.</span></span><br><span class=\"line\">. /etc/rc.d/init.d/<span class=\"built_in\">functions</span></span><br><span class=\"line\"><span class=\"comment\"># Source networking configuration.</span></span><br><span class=\"line\">. /etc/sysconfig/network</span><br><span class=\"line\"><span class=\"comment\"># Check that networking is up.</span></span><br><span class=\"line\">[ <span class=\"string\">\"<span class=\"variable\">$NETWORKING</span>\"</span> = <span class=\"string\">\"no\"</span> ] &amp;&amp; <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">nginx=<span class=\"string\">\"/web/nginx/sbin/nginx\"</span></span><br><span class=\"line\">prog=$(basename <span class=\"variable\">$nginx</span>)</span><br><span class=\"line\">NGINX_CONF_FILE=<span class=\"string\">\"/web/nginx/conf/nginx.conf\"</span></span><br><span class=\"line\">[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</span><br><span class=\"line\">lockfile=/var/lock/subsys/nginx</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">make_dirs</span></span>() &#123;</span><br><span class=\"line\">   <span class=\"comment\"># make required directories</span></span><br><span class=\"line\">   user=`<span class=\"variable\">$nginx</span> -V 2&gt;&amp;1 | grep <span class=\"string\">\"configure arguments:\"</span> | sed <span class=\"string\">'s/[^*]*--user=\\([^ ]*\\).*/\\1/g'</span> -`</span><br><span class=\"line\">   <span class=\"keyword\">if</span> [ -z <span class=\"string\">\"`grep <span class=\"variable\">$user</span> /etc/passwd`\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">       useradd -M -s /bin/nologin <span class=\"variable\">$user</span></span><br><span class=\"line\">   <span class=\"keyword\">fi</span></span><br><span class=\"line\">   options=`<span class=\"variable\">$nginx</span> -V 2&gt;&amp;1 | grep <span class=\"string\">'configure arguments:'</span>`</span><br><span class=\"line\">   <span class=\"keyword\">for</span> opt <span class=\"keyword\">in</span> <span class=\"variable\">$options</span>; <span class=\"keyword\">do</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> [ `<span class=\"built_in\">echo</span> <span class=\"variable\">$opt</span> | grep <span class=\"string\">'.*-temp-path'</span>` ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">           value=`<span class=\"built_in\">echo</span> <span class=\"variable\">$opt</span> | cut -d <span class=\"string\">\"=\"</span> -f 2`</span><br><span class=\"line\">           <span class=\"keyword\">if</span> [ ! -d <span class=\"string\">\"<span class=\"variable\">$value</span>\"</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">               <span class=\"comment\"># echo \"creating\" $value</span></span><br><span class=\"line\">               mkdir -p <span class=\"variable\">$value</span> &amp;&amp; chown -R <span class=\"variable\">$user</span> <span class=\"variable\">$value</span></span><br><span class=\"line\">           <span class=\"keyword\">fi</span></span><br><span class=\"line\">       <span class=\"keyword\">fi</span></span><br><span class=\"line\">   <span class=\"keyword\">done</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">start</span></span>() &#123;</span><br><span class=\"line\">    [ -x <span class=\"variable\">$nginx</span> ] || <span class=\"built_in\">exit</span> 5</span><br><span class=\"line\">    [ -f <span class=\"variable\">$NGINX_CONF_FILE</span> ] || <span class=\"built_in\">exit</span> 6</span><br><span class=\"line\">    make_dirs</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> -n $<span class=\"string\">\"Starting <span class=\"variable\">$prog</span>: \"</span></span><br><span class=\"line\">    daemon <span class=\"variable\">$nginx</span> -c <span class=\"variable\">$NGINX_CONF_FILE</span></span><br><span class=\"line\">    retval=$?</span><br><span class=\"line\">    <span class=\"built_in\">echo</span></span><br><span class=\"line\">    [ <span class=\"variable\">$retval</span> -eq 0 ] &amp;&amp; touch <span class=\"variable\">$lockfile</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> <span class=\"variable\">$retval</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">stop</span></span>() &#123;</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> -n $<span class=\"string\">\"Stopping <span class=\"variable\">$prog</span>: \"</span></span><br><span class=\"line\">    killproc <span class=\"variable\">$prog</span> -QUIT</span><br><span class=\"line\">    retval=$?</span><br><span class=\"line\">    <span class=\"built_in\">echo</span></span><br><span class=\"line\">    [ <span class=\"variable\">$retval</span> -eq 0 ] &amp;&amp; rm -f <span class=\"variable\">$lockfile</span></span><br><span class=\"line\">    <span class=\"built_in\">return</span> <span class=\"variable\">$retval</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">restart</span></span>() &#123;</span><br><span class=\"line\">    configtest || <span class=\"built_in\">return</span> $?</span><br><span class=\"line\">    stop</span><br><span class=\"line\">    sleep 1</span><br><span class=\"line\">    start</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">reload</span></span>() &#123;</span><br><span class=\"line\">    configtest || <span class=\"built_in\">return</span> $?</span><br><span class=\"line\">    <span class=\"built_in\">echo</span> -n $<span class=\"string\">\"Reloading <span class=\"variable\">$prog</span>: \"</span></span><br><span class=\"line\">    killproc <span class=\"variable\">$nginx</span> -HUP</span><br><span class=\"line\">    RETVAL=$?</span><br><span class=\"line\">    <span class=\"built_in\">echo</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">force_reload</span></span>() &#123;</span><br><span class=\"line\">    restart</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">configtest</span></span>() &#123;</span><br><span class=\"line\">  <span class=\"variable\">$nginx</span> -t -c <span class=\"variable\">$NGINX_CONF_FILE</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">rh_status</span></span>() &#123;</span><br><span class=\"line\">    status <span class=\"variable\">$prog</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">rh_status_q</span></span>() &#123;</span><br><span class=\"line\">    rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"string\">\"<span class=\"variable\">$1</span>\"</span> <span class=\"keyword\">in</span></span><br><span class=\"line\">    start)</span><br><span class=\"line\">        rh_status_q &amp;&amp; <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">        <span class=\"variable\">$1</span></span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    stop)</span><br><span class=\"line\">        rh_status_q || <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">        <span class=\"variable\">$1</span></span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    restart|configtest)</span><br><span class=\"line\">        <span class=\"variable\">$1</span></span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    reload)</span><br><span class=\"line\">        rh_status_q || <span class=\"built_in\">exit</span> 7</span><br><span class=\"line\">        <span class=\"variable\">$1</span></span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    force-reload)</span><br><span class=\"line\">        force_reload</span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    status)</span><br><span class=\"line\">        rh_status</span><br><span class=\"line\">        ;;</span><br><span class=\"line\">    condrestart|try-restart)</span><br><span class=\"line\">        rh_status_q || <span class=\"built_in\">exit</span> 0</span><br><span class=\"line\">            ;;</span><br><span class=\"line\">    *)</span><br><span class=\"line\">        <span class=\"built_in\">echo</span> $<span class=\"string\">\"Usage: <span class=\"variable\">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;\"</span></span><br><span class=\"line\">        <span class=\"built_in\">exit</span> 2</span><br><span class=\"line\"><span class=\"keyword\">esac</span></span><br></pre></td></tr></table></figure>\n<p> 需要根据安装路径修改下面这两项配置：</p>\n<p> <code>nginx=&quot;/web/nginx/sbin/nginx&quot;</code> 修改成nginx执行程序的路径。<br> <code>NGINX_CONF_FILE=&quot;/web/nginx/conf/nginx.conf&quot;</code> 修改成配置文件的路径。<br><br></p>\n</li>\n<li><p>保存脚本文件后设置文件的执行权限</p>\n<p> <code>chmod a+x /etc/init.d/nginx</code><br><br></p>\n</li>\n<li><p>使用chkconfig进行管理</p>\n<p> <code>chkconfig --add /etc/init.d/nginx</code></p>\n<p> 加完这个之后，就可以使用service对nginx进行启动，重启等操作了。</p>\n<p> <code>service nginx start</code></p>\n<p> <code>service nginx stop</code></p>\n<p> <code>service nginx restart</code><br><br></p>\n</li>\n<li><p>设置开机启动：</p>\n<p> <code>chkconfig nginx on</code></p>\n</li>\n</ol>\n<p><br></p>\n<p><strong>Enjoy it!</strong> </p>\n<p>//参考：</p>\n<ul>\n<li><p><a href=\"http://www.runoob.com/linux/nginx-install-setup.html\" target=\"_blank\" rel=\"noopener\">Nginx 安装配置</a></p>\n</li>\n<li><p><a href=\"http://unun.in/linux/225.html\" target=\"_blank\" rel=\"noopener\">nginx开机启动</a></p>\n</li>\n</ul>\n<p><br><br></p>\n","categories":["网络"],"tags":["Linux","服务器","Nginx"]},{"title":"NASM汇编的\"hello, world\"","url":"https://blog.ykqmain.com/nasm/","content":"<p>最近学了汇编语言，8086(发布1978年，16位)，MASM汇编器。结果就是，特么的跟没学一样，完、全、搞、不、懂  _(:3」∠)_ </p>\n<p>毫无疑问汇编是很有用的，这就很尴尬了，也不能装懂，也没有兴趣，也没有那么多时间去折腾，索性，就放弃它了，应付过了考试就好。</p>\n<p>但也想象征下的写一个 <em>“hello, world”</em> 来纪念一下，然而，没想到的是，就这一个 <em>“hello, world”</em> 我也搞不定，看来放弃它是正确的选择 ಥ_ಥ</p>\n<p><br></p>\n<p>因为我用Mac，所以MASM是用不了的，又因为不同的CPU，不同的汇编器，汇编的语法也不同，所以书本是没啥参考的了。</p>\n<p>Mac自带<a href=\"http://www.nasm.us\" target=\"_blank\" rel=\"noopener\">NASM</a>，使用它来汇编，使用<code>ld</code>来连接。</p>\n<p>即使上网搜索也很难搞定NASM汇编的 <em>“hello, world”</em> ，最后通过<strong>用英文Google</strong>找到了相关代码。</p>\n<p><br></p>\n<h3 id=\"Straight-Line-“hello-world”\"><a href=\"#Straight-Line-“hello-world”\" class=\"headerlink\" title=\"Straight Line “hello, world”\"></a>Straight Line “hello, world”</h3><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">; hello.asm - a <span class=\"string\">\"hello, world\"</span> program using NASM</span><br><span class=\"line\"> </span><br><span class=\"line\">; nasm -f macho hello.asm </span><br><span class=\"line\">;Assemble the above source <span class=\"keyword\">to</span> an object file, hello.o, <span class=\"keyword\">in</span> the Mach-O format.</span><br><span class=\"line\"> </span><br><span class=\"line\">; ld -o hello -e mystart hello.o</span><br><span class=\"line\">;Link the object file <span class=\"keyword\">to</span> produce the hello executable. (Calling this <span class=\"keyword\">step</span> <span class=\"string\">\"linking\"</span> when there is only one object file is a bit weird.)</span><br><span class=\"line\"> </span><br><span class=\"line\">; ./hello</span><br><span class=\"line\">;<span class=\"builtin-name\">Run</span> the executable.</span><br><span class=\"line\"> </span><br><span class=\"line\">; echo $?</span><br><span class=\"line\">;Check the exit status <span class=\"keyword\">in</span> Bash.</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\">section .text</span><br><span class=\"line\"> </span><br><span class=\"line\">global mystart                ; make the main function externally visible</span><br><span class=\"line\"> </span><br><span class=\"line\">mystart:</span><br><span class=\"line\"> </span><br><span class=\"line\">; 1 <span class=\"builtin-name\">print</span> <span class=\"string\">\"hello, world\"</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 1a prepare the arguments <span class=\"keyword\">for</span> the<span class=\"built_in\"> system </span>call <span class=\"keyword\">to</span> write</span><br><span class=\"line\">    push dword mylen          ; message length                           </span><br><span class=\"line\">    push dword mymsg          ; message <span class=\"keyword\">to</span> write</span><br><span class=\"line\">    push dword 1              ; file descriptor value</span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 1b make the<span class=\"built_in\"> system </span>call <span class=\"keyword\">to</span> write</span><br><span class=\"line\">    mov eax, 0x4              ;<span class=\"built_in\"> system </span>call number <span class=\"keyword\">for</span> write</span><br><span class=\"line\">    sub esp, 4                ; OS X (<span class=\"keyword\">and</span> BSD)<span class=\"built_in\"> system </span>calls needs <span class=\"string\">\"extra space\"</span> on stack</span><br><span class=\"line\">    int 0x80                  ; make the actual<span class=\"built_in\"> system </span>call</span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 1c clean up the stack</span><br><span class=\"line\">    <span class=\"builtin-name\">add</span> esp, 16               ; 3 args * 4 bytes/arg + 4 bytes extra space = 16 bytes</span><br><span class=\"line\">    </span><br><span class=\"line\">; 2 exit the program</span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 2a prepare the argument <span class=\"keyword\">for</span> the sys call <span class=\"keyword\">to</span> exit</span><br><span class=\"line\">    push dword 0              ; exit status returned <span class=\"keyword\">to</span> the operating system</span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 2b make the call <span class=\"keyword\">to</span> sys call <span class=\"keyword\">to</span> exit</span><br><span class=\"line\">    mov eax, 0x1              ;<span class=\"built_in\"> system </span>call number <span class=\"keyword\">for</span> exit</span><br><span class=\"line\">    sub esp, 4                ; OS X (<span class=\"keyword\">and</span> BSD)<span class=\"built_in\"> system </span>calls needs <span class=\"string\">\"extra space\"</span> on stack</span><br><span class=\"line\">    int 0x80                  ; make the<span class=\"built_in\"> system </span>call</span><br><span class=\"line\"> </span><br><span class=\"line\">    ; 2c <span class=\"literal\">no</span> need <span class=\"keyword\">to</span> clean up the stack because <span class=\"literal\">no</span> code here would executed: already exited</span><br><span class=\"line\">    </span><br><span class=\"line\">section .data</span><br><span class=\"line\"> </span><br><span class=\"line\">    mymsg db <span class=\"string\">\"hello, Assembly Language! (｡•ˇ‸ˇ•｡) ... and, say goodbye. _(:3」∠)_\"</span>, 0xa  ; string with a carriage-return</span><br><span class=\"line\">    mylen equ $-mymsg         ; string length <span class=\"keyword\">in</span> bytes</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>汇编后缀为<code>.asm</code>, 注释为 <code>;</code> (分号之后的一行内字符视为注释)</p>\n<p>打开终端，(当前文件夹下, 或完整路径)</p>\n<p>Assemble: <code>nasm -f macho hello.asm</code></p>\n<p>Link: <code>ld -o hello -e mystart hello.o</code></p>\n<p>Run: <code>./hello</code></p>\n<p>其他说明直接看代码内注释。</p>\n<p><br></p>\n<p><em>hello, Assembly Language! (｡•ˇ‸ˇ•｡)</em></p>\n<p><em>… …</em></p>\n<p><em>and,</em></p>\n<p><strong>say goodbye. _(:3」∠)_</strong></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>通过汇编的学习，更加深刻地认识到一些事：</p>\n<ul>\n<li><p>选对教材很重要</p>\n</li>\n<li><p>Google很重要</p>\n</li>\n<li><p>英语很重要，用英文Google更重要</p>\n</li>\n<li><p>不适合的不强求，该放弃的就得放弃 (/ _ ; )</p>\n</li>\n</ul>\n<p><br><br><br></p>\n<p>//参考：</p>\n<ul>\n<li><p>如果想入门汇编，建议使用王爽的《汇编语言》</p>\n</li>\n<li><p><a href=\"http://peter.michaux.ca/articles/assembly-hello-world-for-os-x\" target=\"_blank\" rel=\"noopener\">Assembly “hello, world” for OS X</a></p>\n</li>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Netwide_Assembler\" target=\"_blank\" rel=\"noopener\">NASM</a></p>\n</li>\n</ul>\n<p><br><br></p>\n","categories":["计算机"],"tags":["汇编","Assembly","NASM"]},{"title":"MySQL小记——附iOS游戏推荐","url":"https://blog.ykqmain.com/mysql/","content":"<p>最近学的mysql的基础知识，想结合实际需求做点东西，练练手，这样才能学得扎实。</p>\n<a id=\"more\"></a>\n<p>想到了建立一个 <strong>我玩过的游戏的数据库</strong>，记录自己的游戏历程(其实我玩的并不多) → _ →</p>\n<p><br></p>\n<p>Mac上安装了mysql之后，不像其他软件一样可以直接使用，有几个比较坑的问题，稍微总结一下。</p>\n<p>下载安装 <a href=\"http://dev.mysql.com/downloads/\" target=\"_blank\" rel=\"noopener\">MySQL Community Edition (GPL)</a></p>\n<p>默认安装之后，会生成默认的密码，一定要复制记下来。(使用brew安装的MySQL密码为空)</p>\n<p><strong>在Mac的<code>系统设置</code>中启动mysql.</strong></p>\n<p><br><br></p>\n<h3 id=\"1-登陆mysql\"><a href=\"#1-登陆mysql\" class=\"headerlink\" title=\"1. 登陆mysql\"></a>1. 登陆mysql</h3><h4 id=\"PATH问题\"><a href=\"#PATH问题\" class=\"headerlink\" title=\"PATH问题\"></a>PATH问题</h4><p>在终端中输入<code>mysql</code>，会提示失败。</p>\n<p>需要输入完整的路径，mysql默认安装在 <code>/usr/local/mysql</code> ，所以运行mysql的命令应该是<code>/usr/local/mysql/bin/mysql</code>。</p>\n<p>每次输入一长串命令无疑是麻烦的，最好的办法还是将<code>/usr/local/mysql/bin/</code>加入系统PATH，在<code>/Users/username/.bash_profile</code>文件中加入：(将 <code>username</code> 替换为你的Mac用户名)</p>\n<p><code>export PATH=$PATH:/usr/local/mysql/bin</code></p>\n<p>操作方法：</p>\n<ul>\n<li><p>终端</p>\n<ol>\n<li>打开终端</li>\n<li><code>ls -a</code>显示当前目录下所有文件</li>\n<li><code>vim .bash_profile</code></li>\n<li>输入上面的代码，保存退出。<br><br></li>\n</ol>\n</li>\n<li><p>编辑器</p>\n<ol>\n<li><p>首先显示Mac隐藏文件</p>\n<ul>\n<li><code>Command + Shift + .</code></li>\n</ul>\n</li>\n<li><p>任意文本编辑器，输入代码，另存为<code>.bash_profile</code>。</p>\n</li>\n<li><p>将文件拖到<code>/Users/username</code>目录下(将 <code>username</code> 替换为你的Mac用户名)</p>\n</li>\n</ol>\n</li>\n</ul>\n<p><br></p>\n<h4 id=\"命令问题\"><a href=\"#命令问题\" class=\"headerlink\" title=\"命令问题\"></a>命令问题</h4><p>打开终端，再输入<code>mysql</code>，提示错误是关于 user 的，查资料后得知，应该输入<code>mysql -u USERNAME -p</code>登陆mysql。</p>\n<ol>\n<li>输入<code>mysql -u root -p</code>，回车</li>\n<li>输入初始密码。</li>\n</ol>\n<p><br><br><br></p>\n<h3 id=\"2-修改密码\"><a href=\"#2-修改密码\" class=\"headerlink\" title=\"2. 修改密码\"></a>2. 修改密码</h3><p>登陆成功后的第一件事，必然是修改密码。</p>\n<p>方法1:</p>\n<p>进入mysql，输入<code>set password for root@localhost = password(&#39;新密码&#39;);</code></p>\n<p><br></p>\n<p>方法2:</p>\n<p>输入<code>mysqladmin -u root -p 原密码 password 新密码</code></p>\n<p><br><br><br></p>\n<h3 id=\"3-编码问题\"><a href=\"#3-编码问题\" class=\"headerlink\" title=\"3. 编码问题\"></a>3. 编码问题</h3><p>当我插入中文到一个表中，提示<code>incorrect string</code>错误的时候，我就想到应该是编码的问题，话说解决编码最好的办法就是统一为utf8.</p>\n<p>然而mysql默认有很多地方不是utf8，登陆mysql之后，输入<code>show variables like &#39;character%&#39;;</code>查看编码，如果没有设置，会发现很多地方不是utf8，一劳永逸的办法是修改mysql配置文件，然而这个文件默认是不存在的 → _ →</p>\n<p><strong>修改mysql编码：</strong></p>\n<ol>\n<li><p>关闭mysql服务</p>\n</li>\n<li><p>一般来说，是不存在配置文件的，但还是可以在<code>/usr/local/mysql</code>里，找一下<code>my.cnf</code>或<code>my.ini</code>文件。</p>\n</li>\n<li><p>有就移动到<code>/etc/</code>文件夹下(按cmd＋shift＋G快速前往文件夹)，没有就创建一个<code>my.cnf</code>，输入：</p>\n</li>\n</ol>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[client]</span></span><br><span class=\"line\"><span class=\"attr\">default-character-set</span>=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysql]</span></span><br><span class=\"line\"><span class=\"attr\">default-character-set</span>=utf8mb4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[mysqld]</span></span><br><span class=\"line\"><span class=\"attr\">character-set-server</span>=utf8mb4</span><br></pre></td></tr></table></figure>\n<p><strong>MySQL 的「utf8mb4」才是真正的「UTF-8」</strong></p>\n<p><br></p>\n<ul>\n<li>启动mysql服务，登陆，用<code>show variables like &#39;character%&#39;;</code>再检查一遍。</li>\n</ul>\n<p>到这里，才算正式开始在Mac上使用mysql了😑</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>首先记录iOS游戏，在App Store购买记录中翻了半天，做成如下表格(省略了后面部分)：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/1.png\" alt=\"\"></p>\n<p>一个游戏的基本信息写在第一行。</p>\n<p>登陆数据库之后，</p>\n<p><br></p>\n<h4 id=\"1-创建数据库：\"><a href=\"#1-创建数据库：\" class=\"headerlink\" title=\"1.创建数据库：\"></a>1.创建数据库：</h4><p>创建一个名为 <strong>Game</strong> 的数据库，<code>create database Game;</code></p>\n<p>切换到 <strong>Game</strong> 数据库下，<code>use Game;</code></p>\n<ul>\n<li>可以在MySQL交互模式使用 <code>source 路径</code> 执行sql文件</li>\n</ul>\n<p><br><br></p>\n<h4 id=\"2-按照表格的内容创建表格：\"><a href=\"#2-按照表格的内容创建表格：\" class=\"headerlink\" title=\"2.按照表格的内容创建表格：\"></a>2.按照表格的内容创建表格：</h4><p>创建一个名为 <strong>ios_game</strong> 的表格</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> ios_game</span><br><span class=\"line\">    (</span><br><span class=\"line\">        game_id <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT, #主键<span class=\"keyword\">ID</span>自动增加</span><br><span class=\"line\">        <span class=\"keyword\">name</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>),                   #游戏名称</span><br><span class=\"line\">        developer <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>),              #开发商</span><br><span class=\"line\">        <span class=\"keyword\">type</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">50</span>),                    #游戏类型</span><br><span class=\"line\">        ptime <span class=\"keyword\">YEAR</span>,                          #我玩的日期</span><br><span class=\"line\">        chinese <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),                     #是否支持中文</span><br><span class=\"line\">        price <span class=\"built_in\">INT</span>,                           #我买的时候的价格，App <span class=\"keyword\">Store</span>有降价，我经常买<span class=\"number\">1</span>元<span class=\"number\">6</span>元的</span><br><span class=\"line\">        In_App_Purchase <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),             #是否有内购</span><br><span class=\"line\">        ad <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),                          #是否有广告</span><br><span class=\"line\">        grade <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">1</span>),                    #我对它的评分，<span class=\"number\">5</span>分最高</span><br><span class=\"line\">        note <span class=\"built_in\">TEXT</span>,                           #备注</span><br><span class=\"line\">        PRIMARY <span class=\"keyword\">KEY</span> (game_id)                #设置主键</span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>终端显示：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/2.png\" alt=\"\"></p>\n<p><br><br><br></p>\n<h4 id=\"3-可以通过-desc-ios-game-查看表的结构。\"><a href=\"#3-可以通过-desc-ios-game-查看表的结构。\" class=\"headerlink\" title=\"3.可以通过 desc ios_game; 查看表的结构。\"></a>3.可以通过 <code>desc ios_game;</code> 查看表的结构。</h4><p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/3.png\" alt=\"\"></p>\n<p><br><br><br></p>\n<h4 id=\"4-插入信息\"><a href=\"#4-插入信息\" class=\"headerlink\" title=\"4.插入信息\"></a>4.插入信息</h4><p>插入一条信息：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> ios_game</span><br><span class=\"line\">(<span class=\"keyword\">name</span>,developer,<span class=\"keyword\">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">(<span class=\"string\">'Angry Birds'</span>,<span class=\"string\">'Rovio'</span>,<span class=\"string\">'休闲'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'Y'</span>,<span class=\"number\">6</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'4'</span>,<span class=\"string\">'经典游戏'</span>);</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>插入多条信息：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> ios_game</span><br><span class=\"line\">(<span class=\"keyword\">name</span>,developer,<span class=\"keyword\">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">(<span class=\"string\">'Angry Birds Rio'</span>,<span class=\"string\">'Rovio'</span>,<span class=\"string\">'休闲'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'N'</span>,<span class=\"number\">0</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'3'</span>,<span class=\"string\">'《里约大冒险》特别版'</span>),</span><br><span class=\"line\">(<span class=\"string\">'Angry Birds Space'</span>,<span class=\"string\">'Rovio'</span>,<span class=\"string\">'休闲'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'N'</span>,<span class=\"number\">1</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'4'</span>,<span class=\"string\">'太空版，有轨迹'</span>),</span><br><span class=\"line\">(<span class=\"string\">'Angry Birds Star Wars'</span>,<span class=\"string\">'Rovio'</span>,<span class=\"string\">'休闲'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'N'</span>,<span class=\"number\">1</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'3'</span>,<span class=\"string\">'《星球大战》特别版'</span>),</span><br><span class=\"line\">(<span class=\"string\">'Angry Birds Seasons'</span>,<span class=\"string\">'Rovio'</span>,<span class=\"string\">'休闲'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'N'</span>,<span class=\"number\">6</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'5'</span>,<span class=\"string\">'季节版，我认为最好玩的一个版本，以节日为主题，更新频繁'</span>);</span><br></pre></td></tr></table></figure>\n<p>只需要在<code>VALUES</code>后面将行用 <strong>逗号</strong> 分开即可,最后一行用 <strong>分号</strong>.</p>\n<p><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/4.png\" alt=\"\"><br><br><br><br></p>\n<h4 id=\"5-查询信息\"><a href=\"#5-查询信息\" class=\"headerlink\" title=\"5.查询信息\"></a>5.查询信息</h4><p>需要查询来确定一下。</p>\n<p>使用<code>SELECT</code>语句查询：<code>SELECT * FROM ios_game;</code></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/5.png\" alt=\"\"></p>\n<p><br><br><br></p>\n<h4 id=\"6-批量导入\"><a href=\"#6-批量导入\" class=\"headerlink\" title=\"6.批量导入\"></a>6.批量导入</h4><p>用<code>INSERT</code>语句插入，只是用于少量数据的情况，对于更多的数据，最好采用导入的方式。比如用Excel之类的软件，先写好数据，然后存为<code>.csv</code>文件，稍作处理后导入mysql，</p>\n<p>我用了Numbers做了如下表格，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/6.png\" alt=\"\"></p>\n<p>因为暂时没有想到如何处理id自动增加会覆盖数据的问题，我直接把表格的第一项id设置为6(因为mysql里面已经存在5条数据了)</p>\n<p>导出为<code>.csv</code>文件后，删掉第一行的name，developer等无用信息，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/7.png\" alt=\"\"></p>\n<p>我将导出的<code>.csv</code>文件命名为 <code>1.csv</code>，导入命令为：</p>\n<p><code>load data local infile &#39;/Users/Yang/Desktop/1.csv&#39; into table ios_game  fields terminated by &#39;,&#39;  optionally enclosed by &#39;&quot;&#39; escaped by &#39;&quot;&#39; lines terminated by &#39;\\r\\n&#39;;</code></p>\n<p>其中两点需要修改，一是<strong><code>.csv</code>的路径</strong>，二是<strong>表的名称</strong>。</p>\n<p><br><br></p>\n<h4 id=\"7-检查\"><a href=\"#7-检查\" class=\"headerlink\" title=\"7.检查\"></a>7.检查</h4><p>导入之后，查询检查，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/8.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/9.png\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/10.png\" alt=\"\"></p>\n<p>因为时间有限，仅仅选取了一些游戏而已。</p>\n<p><br><br></p>\n<h4 id=\"8-多表\"><a href=\"#8-多表\" class=\"headerlink\" title=\"8.多表\"></a>8.多表</h4><p>我玩过的游戏不只有iOS，还应该有Win或者Mac等等……</p>\n<p>同理创建Win游戏表格，</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> win_game</span><br><span class=\"line\">    (</span><br><span class=\"line\">        game_id <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT, #主键<span class=\"keyword\">ID</span>自动增加</span><br><span class=\"line\">        <span class=\"keyword\">name</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>),                   #游戏名称</span><br><span class=\"line\">        developer <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>),              #开发商</span><br><span class=\"line\">        <span class=\"keyword\">type</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">50</span>),                    #游戏类型</span><br><span class=\"line\">        ptime <span class=\"keyword\">YEAR</span>,                          #我玩的日期</span><br><span class=\"line\">        chinese <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),                     #是否支持中文</span><br><span class=\"line\">        price <span class=\"built_in\">INT</span>,                           #我买的时候的价格，App <span class=\"keyword\">Store</span>有降价，我经常买<span class=\"number\">1</span>元<span class=\"number\">6</span>元的</span><br><span class=\"line\">        In_App_Purchase <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),             #是否有内购</span><br><span class=\"line\">        ad <span class=\"built_in\">CHAR</span>(<span class=\"number\">1</span>),                          #是否有广告</span><br><span class=\"line\">        grade <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">1</span>),                    #我对它的评分，<span class=\"number\">5</span>分最高</span><br><span class=\"line\">        note <span class=\"built_in\">TEXT</span>,                           #备注</span><br><span class=\"line\">        PRIMARY <span class=\"keyword\">KEY</span> (game_id)                #设置主键</span><br><span class=\"line\">    );</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>插入游戏信息<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> win_game</span><br><span class=\"line\">(<span class=\"keyword\">name</span>,developer,<span class=\"keyword\">type</span>,ptime,chinese,price,In_App_Purchase,ad,grade,note)</span><br><span class=\"line\"><span class=\"keyword\">VALUES</span></span><br><span class=\"line\">(<span class=\"string\">'命令与征服：红色警戒3'</span>,<span class=\"string\">'EA'</span>,<span class=\"string\">'RTS'</span>,<span class=\"number\">2012</span>,<span class=\"string\">'Y'</span>,<span class=\"literal\">NULL</span>,<span class=\"string\">'N'</span>,<span class=\"string\">'N'</span>,<span class=\"string\">'5'</span>,<span class=\"string\">'经典'</span>),</span><br><span class=\"line\">(<span class=\"string\">'LOL'</span>,<span class=\"string\">'Riot Games'</span>,<span class=\"string\">'MOBA'</span>,<span class=\"number\">2015</span>,<span class=\"string\">'Y'</span>,<span class=\"number\">0</span>,<span class=\"string\">'Y'</span>,<span class=\"string\">'N'</span>,<span class=\"string\">'4'</span>,<span class=\"string\">'手残不适合，因为用Mac一年没玩了'</span>);</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<p>最后查询，<code>SELECT * FROM win_game;</code></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/11.png\" alt=\"\"></p>\n<p><br><br><br></p>\n<h4 id=\"9-总结\"><a href=\"#9-总结\" class=\"headerlink\" title=\"9.总结\"></a>9.总结</h4><p>数据库应该是逐渐完善的，用<code>show tables;</code>显示数据库中的所有表格。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/12.png\" alt=\"\"></p>\n<p>暂时就是这样，以后再逐渐完善，更加规范（起码满足<strong>3NF</strong>），希望今天创建的这个数据库可以完成它的使命————帮我记录我所玩过的所有游戏的基本信息 → _ →</p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>最后是数据库的一点实际用途，想要给别人推荐游戏，只需要查找出5分游戏即可，</p>\n<p>仍然是<code>SELECT</code>语句，配合<code>WHERE</code>,</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">SELECT</span> * <span class=\"keyword\">FROM</span> ios_game</span><br><span class=\"line\"><span class=\"keyword\">WHERE</span> grade &gt; <span class=\"string\">'4'</span>;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p><strong>游戏推荐</strong> (｡•ˇ‸ˇ•｡)</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/mysql/13.png\" alt=\"\"></p>\n<p><br></p>\n<p><strong>Enjoy it : )</strong></p>\n<p><br><br></p>\n","categories":["计算机"],"tags":["MySQL","Mac","数据库"]},{"title":"游戏王——吹过了我们的青春","url":"https://blog.ykqmain.com/ygo/","content":"<p>这几天逛B站，看到了《游戏王GX》，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/1.jpg!xsy\" alt=\"\"></p>\n<p>无比的怀念，于是简单地重温了一下……</p>\n<a id=\"more\"></a>\n<hr>\n<p>看完之后，心中有很多想说的，有点心塞。毕竟游戏王是童年的一部分，但是很无奈不会写，作文太差 ＝ _ ＝</p>\n<p>发了几条推特，感觉不足以纪念我的游戏王，自己又不会长篇大论，所以……</p>\n<p>上网找了一些评论之类的，觉得这个讲的还不错，先复制粘贴，再写一些自己的想法。(￣▽￣)</p>\n<blockquote>\n<p>//原空间日志，<a href=\"http://user.qzone.qq.com/379091694/blog/1404832019\" target=\"_blank\" rel=\"noopener\">游戏王GX：不完美的传承</a></p>\n</blockquote>\n<blockquote>\n<p>//直接转载，<a href=\"http://tieba.baidu.com/p/3520410680\" target=\"_blank\" rel=\"noopener\">游戏王ygocore吧</a></p>\n</blockquote>\n<p><strong>看完了这篇评论，还是无法平静自己的内心，不能入睡。下面是一些闲扯：</strong></p>\n<p>想到当年，貌似是二年级就开始玩游戏王（当然都是盗版），直到六年级达到巅峰，几乎全班男生都在中午和课间来上几盘，周末更是带上自己心爱的卡组，去同学家里能玩一下午不腻。小伙伴比较多，我们甚至无视规则“发明”了多人决斗，欢乐无限。</p>\n<p>那段时间，所有的零花钱都在买卡上了，虽然都是盗版（那时候根本不知道什么正版盗版），真的是很快乐（这也是十代最后找到的东西），特别是拆包的心情，我无法表达，估计大家也都有体验。邻家的小伙伴是个小土豪，按箱买，我们只能按包买 (｡- _ -｡)</p>\n<p>谈到卡组，就不得不提自己的卡组。因为当时主流是《游戏王GX》，所以 游城十代 不得不被我们提起，或者说借鉴。为啥那么叼？（后来我们才发现，<strong>神抽</strong>，<strong>印卡</strong>，<strong>口胡</strong>，<strong>主角光环</strong> 造就了游城十代想赢就输不了，输了是剧情需要的局面 ＝ _ ＝! ）当时我还一心想收齐 E－hero卡组，很快就发现，卧槽，<strong>融合</strong> 挂了（旋风，沙尘暴什么的太多），这场决斗基本就输了，哪怕后来的新空间，我也尝试过，再也不对主角的卡组抱有任何希望了。</p>\n<p>因为年龄原因，大家都不太懂的规则，造就了，很多人的卡组不能称之为卡组，而是“卡堆”，一些无需配合的变态卡组成的，能破坏魔法陷阱的卡太多了，还不带重样的，而怪兽低级攻击力可怕，高级不但攻击力惊人还有变态效果，更重要的是，这些卡，都不需要连锁，是单独发挥作用的。这样一来，真的就很没有决斗的乐趣了，期间我也尝试过这样的卡组，的确，胜率感人，玩过的游戏王的都懂。但是，这样真的很无趣。动画里的人的卡组都是有连锁和主题的，这样的卡组真的很像一个伙伴，才会感到决斗的乐趣。我希望组一个真正的卡组来玩，而不是一堆卡的拼凑，我发现了 <strong>D-hero</strong>，初见这套卡组就喜欢上，效果都很不错。后来，我基本集齐了这套卡组，并伴随我走到了游戏王生活的尽头。到现在，我还好好地保存着这套卡组，以及剩下的一百来张卡。</p>\n<p>《游戏王DM》是在黑白漫画书中度过的，我当时还用白纸画过黑魔导。GX才是真正伴随了我的一段童年，话说还真是我引起了我们小学的游戏王热。而游戏王的岁月最终也伴随了小学毕业而消失在我的生活中（初中已经没人陪我玩了，更重要的是，游戏王之后出了新的动画，没有时间，也没有渠道看，更没有精力再去买卡学新规则了）。所以我只看过两部游戏王，对其认知了永远停留在了GX。但也足够了。</p>\n<p>童年家长管的是比较严的，不像现在有网络可以随便看，那时候只有电视，而且《游戏王GX》是没有在电视台上播放的，都是租的CD看，即使如此，每次看到GX还是会激动一小会。当然，在这种情况下， 是不可能把GX 180集看完的。</p>\n<p>最近才补上了这GX的最后一场决斗：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/2.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/3.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/4.jpg!xsy\" alt=\"\"></p>\n<p><strong>决斗在“奥特曼”冲向天空龙的时刻结束了……</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/5.jpg!xsy\" alt=\"\"></p>\n<p>…………</p>\n<p>那之后，十代开始他的旅行，</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/6.jpg!xsy\" alt=\"\"></p>\n<p>到这里，GX的故事结束了。</p>\n<hr>\n<p><br></p>\n<p>然而本篇博客不能结束。</p>\n<p>以上是关于决斗本身的一点回忆，虽然游戏王被称为“游基王”，但我仍然觉得是有女主角的 (｡•ˇ‸ˇ•｡)</p>\n<p>这就是另一点令我心塞的地方，那就是 <a href=\"http://baike.baidu.com/view/1098113.htm\" target=\"_blank\" rel=\"noopener\"><strong>天上院明日香</strong></a>，她并没有跟十代在一起 T_T;</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/7.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>算起来，明日香也算是我童年的女神之一。即使小时候的我不太懂这些，但我都看出来了明日香是喜欢十代的，我都看出来了啊！明日香放着我来 ..Ծ‸Ծ..</p>\n<p>前面说过，童年是没有看完GX的，当然也不知道他们的结局是怎样的，当我最近补了一下，心里是崩溃的！心塞啊 T_T</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/8.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/9.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/10.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/11.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p>看到这里我的心是久久不能平静的，</p>\n<p>在网上找到了GX的情感线介绍，来自  “天上院明日香吧” <a href=\"http://tieba.baidu.com/p/1378354017\" target=\"_blank\" rel=\"noopener\">细节分析明日香感情发展</a> , 有兴趣的可以看看。</p>\n<p>最后，是这张纸条安慰了一下我幼小的心灵：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/12.jpg!xsy\" alt=\"\"></p>\n<blockquote>\n<p>吹雪说：明日香就交给你了</p>\n</blockquote>\n<blockquote>\n<p>明日香说：将来一定会见面的</p>\n</blockquote>\n<p>( 万丈目，翔，剑山，礼，校长，老师都很有爱啊  ^ _ ^ )</p>\n<p>我相信，她们一定会再见面的，感谢作者给了我这最后一份希望。美好的东西总是令人向往的。</p>\n<p>到这里，真的就要结束了，<strong>一篇博客不足以承载那份童年的美好时光，却也没有更好的方式来纪念。。。。。。</strong></p>\n<p>想到老了以后，看着这篇博客，把珍藏的卡拿出来观赏，会是怎样的心情呢？</p>\n<p>再见，希望能再见到你。<br><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/13.jpg!xsy\" alt=\"\"></p>\n<hr>\n<p><br><br><br></p>\n<p>翻来覆去，即使是那张纸条，也感觉还是不够，我想只有这样才算完结 💗：</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/14.jpg!xsy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/15.jpg!xsy\" alt=\"\"></p>\n<p><br></p>\n<p><strong>The End</strong></p>\n<p>//B站传送门：<a href=\"http://www.bilibili.com/video/av2103101/\" target=\"_blank\" rel=\"noopener\">游戏王GX</a></p>\n<p><br><br></p>\n<p><strong>Update</strong> 又见女神，ARC-V 103</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/ygo/16.png!sy\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["动画"],"tags":["童年","动画","热血","日本","卡牌"]},{"title":"利器","url":"https://blog.ykqmain.com/liqi/","content":"<p>今天看到一个有意思的项目 <a href=\"http://liqi.io/community\" target=\"_blank\" rel=\"noopener\">利器社群计划</a> ，借此机会，我也分享一下自己使用的一些小工具……</p>\n<p><mark><em><strong>Update: 2020-04</strong></em></mark><br><br></p>\n<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><p>昵称 <strong>秋风木叶</strong>，或 <em>Yang</em>。🤓<br><br><br></p>\n<h2 id=\"你都在使用哪些硬件？\"><a href=\"#你都在使用哪些硬件？\" class=\"headerlink\" title=\"你都在使用哪些硬件？\"></a>你都在使用哪些硬件？</h2><ul>\n<li>iPhone 6s Plus (Nana)</li>\n<li>MacBook Pro (Retina, 13-inch, Early 2015) (Anna)<br><br><br></li>\n</ul>\n<h2 id=\"软件呢？\"><a href=\"#软件呢？\" class=\"headerlink\" title=\"软件呢？\"></a>软件呢？</h2><p><strong>我喜欢精简，系统自带的软件足够好则优先使用；有免费开源的优先使用；最后才是买断制收费软件。</strong></p>\n<p><strong>订阅制软件几乎不考虑。</strong></p>\n<p><strong>在满足自己所需要功能的前提下，将自己的互联网帐号降到最低，涉及到的平台和APP减到最少。</strong></p>\n<p><strong>macOS Mojave (10.14)</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/macOS10.14.png!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/macOS10.14-1.png!sy\" alt=\"\"></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/macOS10.14-2.png!sy\" alt=\"\"></p>\n<ol>\n<li><p>神器: <strong>终端</strong> (Terminal.app)</p>\n<ul>\n<li><p><em>为什么不是<a href=\"https://www.iterm2.com\" target=\"_blank\" rel=\"noopener\">iTerm2</a>？</em> iTerm2目前唯一的问题就是不能识别macOS的替身文件夹，需要用<code>ln</code>命令代替，除此之外比自带的终端好用。至于为什么不选择它，是因为我确实不需要那么多的功能，即使我很怀念iTerm2的选中复制右键粘贴功能。</p>\n</li>\n<li><p>Xcode命令行工具 <code>xcode-select --install</code></p>\n</li>\n<li><p>其他</p>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" target=\"_blank\" rel=\"noopener\">JDK 1.8</a></li>\n<li><a href=\"https://dev.mysql.com/downloads/mysql\" target=\"_blank\" rel=\"noopener\">MySQL 5.7</a></li>\n<li><a href=\"https://nodejs.org\" target=\"_blank\" rel=\"noopener\">Node.js</a><ul>\n<li><code>npm config set registry https://registry.npm.taobao.org</code></li>\n<li><code>sudo chown -R $(whoami) /usr/local/lib/node_modules</code></li>\n<li><code>npm install hexo-cli -g</code></li>\n<li><code>npm list -g --depth 0</code></li>\n</ul>\n</li>\n<li><a href=\"https://maven.apache.org/download.cgi\" target=\"_blank\" rel=\"noopener\">Maven</a></li>\n<li><a href=\"https://tomcat.apache.org/download-80.cgi\" target=\"_blank\" rel=\"noopener\">Tomcat 8.5</a></li>\n<li><a href=\"https://support.apple.com/kb/DL1572\" target=\"_blank\" rel=\"noopener\"><del>jdk 1.6</del></a></li>\n</ul>\n</li>\n<li><p>终端代理</p>\n<ul>\n<li><code>export ALL_PROXY=http://127.0.0.1:1087</code></li>\n<li><code>unset ALL_PROXY</code></li>\n</ul>\n</li>\n<li><p><a href=\"http://ohmyz.sh\" target=\"_blank\" rel=\"noopener\"><strong>oh-my-zsh</strong></a></p>\n<ul>\n<li><a href=\"https://github.com/zsh-users/zsh-syntax-highlighting\" target=\"_blank\" rel=\"noopener\">zsh-syntax-highlighting</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/zsh-users/zsh-autosuggestions\" target=\"_blank\" rel=\"noopener\">zsh-autosuggestions</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/zsh-users/zsh-completions\" target=\"_blank\" rel=\"noopener\">zsh-completions</a><ul>\n<li><code>git clone https://github.com/zsh-users/zsh-completions ~/.oh-my-zsh/custom/plugins/zsh-completions</code></li>\n</ul>\n</li>\n<li>权限问题<ul>\n<li><code>chmod 755 /usr/local/share/zsh</code></li>\n<li><code>chmod 755 /usr/local/share/zsh/site-functions</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><a href=\"https://brew.sh\" target=\"_blank\" rel=\"noopener\"><strong>Homebrew</strong></a> (<code>/usr/local/Cellar/</code>)</p>\n<ul>\n<li><a href=\"https://www.python.org\" target=\"_blank\" rel=\"noopener\"><strong>Python3</strong></a><ul>\n<li><code>pip3 install requests</code></li>\n<li><code>pip3 install bs4</code></li>\n<li><code>pip3 install flake8</code></li>\n<li><code>pip3 install --upgrade --pre CodeIntel</code></li>\n</ul>\n</li>\n<li><a href=\"https://www.gnu.org/software/wget\" target=\"_blank\" rel=\"noopener\">wget</a></li>\n<li><a href=\"https://tldr.sh\" target=\"_blank\" rel=\"noopener\">tldr</a></li>\n<li><a href=\"http://mama.indstate.edu/users/ice/tree\" target=\"_blank\" rel=\"noopener\">tree</a></li>\n<li><a href=\"https://ffmpeg.org\" target=\"_blank\" rel=\"noopener\">ffmpeg</a> (<a href=\"https://blog.ykqmain.com/ffmpeg\" target=\"_blank\">FFmpeg笔记</a>)<ul>\n<li><code>brew tap homebrew-ffmpeg/ffmpeg</code></li>\n<li><code>brew install homebrew-ffmpeg/ffmpeg/ffmpeg</code></li>\n<li><code>brew update &amp;&amp; brew upgrade homebrew-ffmpeg/ffmpeg/ffmpeg</code><br><br></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>浏览器</p>\n<ul>\n<li><p>主要 <strong>Safari</strong> [<a href=\"https://safari-extensions.apple.com\" target=\"_blank\" rel=\"noopener\"><del>Safari Extensions</del></a> (Safari 13 之后废弃，强制转向AppStore)]</p>\n<ul>\n<li><a href=\"https://adguard.com/zh_cn/adguard-safari/overview.html\" target=\"_blank\" rel=\"noopener\">AdGuard for Safari</a> (很卡，但效果最好，每次更新订阅列表打开，平常可以退出) [App Store]</li>\n<li><a href=\"https://www.tampermonkey.net/\" target=\"_blank\" rel=\"noopener\">Tampermonkey</a> [App Store]<ul>\n<li><a href=\"https://greasyfork.org/zh-CN/scripts/371672-哔哩哔哩-bilibili-com-播放器调整r-ver-stardust\" target=\"_blank\" rel=\"noopener\">哔哩哔哩播放器调整R</a></li>\n<li><a href=\"https://greasyfork.org/zh-CN/scripts/372516-bilibili-merged-flv-mp4-ass-enhance\" target=\"_blank\" rel=\"noopener\">bilibili merged flv+mp4+ass+enhance</a></li>\n<li><a href=\"https://greasyfork.org/zh-CN/scripts/8426-download-youtube-videos-and-subtitles\" target=\"_blank\" rel=\"noopener\">Download Youtube videos and subtitles</a></li>\n<li><a href=\"https://greasyfork.org/zh-CN/scripts/1682-google-hit-hider-by-domain-search-filter-block-sites\" target=\"_blank\" rel=\"noopener\">Google Hit Hider by Domain</a></li>\n</ul>\n</li>\n<li><a href=\"https://gikken.co/mate-translate/cn/\" target=\"_blank\" rel=\"noopener\">Mate Translate</a> (Safari上为数不多的划词翻译) [App Store]</li>\n</ul>\n</li>\n<li><p>情怀 <a href=\"https://www.mozilla.org/en-US/firefox/all/#product-desktop-release\" target=\"_blank\" rel=\"noopener\">Firefox</a></p>\n<ul>\n<li><a href=\"https://github.com/gorhill/uBlock\" target=\"_blank\" rel=\"noopener\">uBlock Origin</a></li>\n</ul>\n</li>\n<li><p>备用 <a href=\"https://www.google.com/chrome\" target=\"_blank\" rel=\"noopener\">Chrome</a></p>\n<ul>\n<li><a href=\"https://github.com/gorhill/uBlock\" target=\"_blank\" rel=\"noopener\">uBlock Origin</a><br><br></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>编辑器:</p>\n<ul>\n<li><p><a href=\"https://www.vim.org\" target=\"_blank\" rel=\"noopener\">Vim</a> (备用)<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/vim.png!sy\" alt=\"\"></p>\n</li>\n<li><p><a href=\"https://www.sublimetext.com\" target=\"_blank\" rel=\"noopener\"><strong>Sublime Text</strong></a> (主要)<br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/sublime.png!sy\" alt=\"\"></p>\n<ul>\n<li><em>Package Control</em> (../Installed Packages/)</li>\n<li><em>Plugin</em> (./Packages/)<ul>\n<li>FileIcons</li>\n<li>BracketHighlighter</li>\n<li>SideBarEnhancements</li>\n<li>PackageResourceViewer (修改Sublime默认包资源)</li>\n<li>Emmet</li>\n<li>SublimeCodeIntel</li>\n<li>SublimeLinter<ul>\n<li>SublimeLinter-flake8<br><br></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>字体 <a href=\"https://github.com/adobe-fonts/source-code-pro\" target=\"_blank\" rel=\"noopener\"><strong>SourceCodePro 14</strong></a></li>\n<li>主题 <strong>Mariana</strong><br><br></li>\n</ul>\n</li>\n<li><em>为什么不是Atom或者VSCode？</em> 曾经非常喜欢Atom，然而兜兜转转，还是回到了Sublime。我认为编辑器和IDE应该分工明确，一个快而准，一个大而全，各司其职。对于一个编辑器，快是非常重要的点，基于Electron构建的软件，速度和性能可能不足。当然对于其他类型的软件我还是很喜欢的，比如<code>Postman</code>和<code>draw.io</code>。<br><br></li>\n</ul>\n</li>\n<li><p>IDE:</p>\n<ul>\n<li>Xcode [App Store]</li>\n<li><a href=\"https://www.eclipse.org/downloads/packages/\" target=\"_blank\" rel=\"noopener\"><strong>Eclipse</strong></a><br><br></li>\n<li><em>为什么不是IntelliJ IDEA？</em> 凭心而论，Java的复杂和啰嗦，基本上可以说是必须IDE的帮助了。其他的语言还能用编辑器撸一撸，Java不行。<br>至于为什么选择了Eclipse，首先Eclipse就像老朋友，就在那里不离不弃，有感情了；<br>然后Oracle将Java EE移交给Eclipse基金会，Java主要用的就是Java EE，IDEA社区版不能开发Java EE；<br>最后IDEA旗舰版太贵了，即使IDEA有某些优惠，即使还有某些破解，对我而言能不用破解版尽量不用，而且以我的水平，Eclipse和IDEA的差距不值每年几千块钱。<br>可能我不太适合程序员吧，因为我是个念旧的人，思念的念。<br>(说了这么半天，大概就一个字，穷。)<br><br></li>\n</ul>\n</li>\n<li><p>Developer Tools:</p>\n<ul>\n<li><a href=\"https://devdocs.io\" target=\"_blank\" rel=\"noopener\">DevDocs</a> (在线文档) [Web]</li>\n<li><a href=\"https://dbeaver.io\" target=\"_blank\" rel=\"noopener\">DBeaver</a> (数据库)</li>\n<li><a href=\"https://www.sourcetreeapp.com\" target=\"_blank\" rel=\"noopener\">Sourcetree</a> (Git)</li>\n<li><a href=\"https://cyberduck.io\" target=\"_blank\" rel=\"noopener\">Cyberduck</a> (FTP)</li>\n<li><a href=\"https://www.getpostman.com\" target=\"_blank\" rel=\"noopener\">Postman</a> (REST API)</li>\n<li><a href=\"https://www.wireshark.org\" target=\"_blank\" rel=\"noopener\">Wireshark</a> (网络分析)</li>\n<li><a href=\"https://www.docker.com\" target=\"_blank\" rel=\"noopener\">Docker</a> (应用容器)<br><br></li>\n</ul>\n</li>\n<li><p>笔记:</p>\n<ul>\n<li><strong>备忘录</strong></li>\n<li><strong>Sublime</strong> (.md)<br><br></li>\n</ul>\n</li>\n<li><p>文档</p>\n<ul>\n<li>预览.app</li>\n<li>iWork [App Store]</li>\n<li><a href=\"https://www.office.com\" target=\"_blank\" rel=\"noopener\">Office</a></li>\n<li><a href=\"https://pdfexpert.com\" target=\"_blank\" rel=\"noopener\">PDF Expert</a> (PDF工具)</li>\n<li><a href=\"https://www.toketaware.com\" target=\"_blank\" rel=\"noopener\">iThoughtsX</a> (思维导图)</li>\n<li><a href=\"https://github.com/jgraph/drawio-desktop\" target=\"_blank\" rel=\"noopener\">draw.io</a> (流程图)</li>\n<li><a href=\"https://sketchbook.com\" target=\"_blank\" rel=\"noopener\">SketchBook</a> (绘画软件，当作草稿纸) [App Store]</li>\n<li><a href=\"https://www.adobe.com/cn/products/photoshop.html\" target=\"_blank\" rel=\"noopener\">Photoshop</a></li>\n<li>GarageBand [App Store]</li>\n<li>iMovie [App Store]<br><br></li>\n</ul>\n</li>\n<li><p>影音娱乐</p>\n<ul>\n<li><strong>QQ音乐</strong> (MAS版本也可以使用媒体键) [App Store] </li>\n<li>腾讯视频 [App Store]</li>\n<li>优酷 [App Store]</li>\n<li>爱奇艺 [App Store]<br><br></li>\n<li><a href=\"http://www.videolan.org\" target=\"_blank\" rel=\"noopener\">VLC</a> (播放器)</li>\n<li><a href=\"https://iina.io\" target=\"_blank\" rel=\"noopener\"><strong>IINA</strong></a> (播放器)</li>\n<li>QuickTime</li>\n<li>iTunes</li>\n<li><a href=\"https://www.wesnoth.org\" target=\"_blank\" rel=\"noopener\">The Battle for Wesnoth</a> (回合制策略游戏) [App Store]<br><br></li>\n</ul>\n</li>\n<li><p>工具</p>\n<ul>\n<li><a href=\"https://www.keka.io/zh-cn\" target=\"_blank\" rel=\"noopener\"><strong>Keka</strong></a> (压缩软件)</li>\n<li><a href=\"https://weixin.qq.com\" target=\"_blank\" rel=\"noopener\">微信</a> [App Store]</li>\n<li><a href=\"https://im.qq.com\" target=\"_blank\" rel=\"noopener\">QQ</a> [App Store]</li>\n<li><a href=\"https://discordapp.com\" target=\"_blank\" rel=\"noopener\">Discord</a> [Web]</li>\n<li><a href=\"https://ranchero.com/netnewswire\" target=\"_blank\" rel=\"noopener\">NetNewsWire</a> (<a href=\"https://blog.ykqmain.com/rssjs\" target=\"_blank\">RSS阅读器</a>，次要新闻资讯来源)</li>\n<li>Amphetamine (Keep Mac awake) [App Store]</li>\n<li><a href=\"https://freemacsoft.net/appcleaner\" target=\"_blank\" rel=\"noopener\">AppCleaner</a> (卸载工具)</li>\n<li><a href=\"http://mac.xunlei.com\" target=\"_blank\" rel=\"noopener\">迅雷</a> (下载工具)</li>\n<li><a href=\"https://github.com/ykqmain?tab=stars\" target=\"_blank\" rel=\"noopener\"><strong><em>其他软件</em></strong></a><br><br><br></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"你平时访问的网站和使用的APP有哪些？\"><a href=\"#你平时访问的网站和使用的APP有哪些？\" class=\"headerlink\" title=\"你平时访问的网站和使用的APP有哪些？\"></a>你平时访问的网站和使用的APP有哪些？</h2><p>2020我还在用iPhone 6SP(😅)，屏幕实在是有点大。以后换手机，一定以6SP为参照，坚决不买大于6SP的手机。</p>\n<p>对于App的选择和排序，原则是</p>\n<ul>\n<li>优先iOS自带，因为免费，还能跟Mac联动</li>\n<li>自带App不能买足需求，优先选择买断制App</li>\n<li>常用的放首页，常用的往下面放，常用的往两侧放，便于点击</li>\n<li>以行分类，区域聚集</li>\n</ul>\n<center class=\"third\"><br>    <img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/iOS1.PNG\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/iOS2.PNG\" width=\"240\"><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/liqi/iOS3.PNG\" width=\"240\"><br></center>\n\n<p>首页逐个介绍：</p>\n<p>Dock栏，最常用的四个APP：</p>\n<ul>\n<li><p><strong>微信</strong>，微信是我最常用的<strong>即时通讯</strong>工具，几乎可以说是唯一一个，QQ半废弃，其他的不需要，因为我本来就没几个需要联系的人。<strong>微信公众号</strong>是我的主要资讯来源，因为每天的发布次数有限，反倒有一定的质量保证。<strong>微信支付</strong>也作为了主要支付手段，因为支付宝首页太多无用内容。</p>\n</li>\n<li><p><strong>Sorted</strong>，iOS13自带的提醒事项和macOS Mojave不互通了，而且Sorted可以读取iOS自带日历，日历视图和提醒任务的结合非常方便。也是一众todo软件里，不多的买断制，所以选择了它。</p>\n</li>\n<li><p><strong>Safari</strong>，由于Apple的限制，iOS上的浏览器基本都是Safari的“皮肤”，由于iCloud的加持，Safari在Mac和iPhone上用得非常爽，随用随搜。</p>\n</li>\n<li><p><strong>设置</strong>，经常查看系统的一些状态和数据，设置也是必在Dock的存在。<br><br></p>\n</li>\n</ul>\n<p>第一行，通讯：</p>\n<ul>\n<li><strong>电话、短信、邮件、TIM</strong></li>\n<li>基本没有电话业务；短信基本都是验证码；邮件很少，大多数是通知和每月账单；QQ半废弃，iOS版QQ即使开简洁模式也不“简洁”，一直用TIM代替；所以这四个放在顶上，很少用。<br><br></li>\n</ul>\n<p>第二行，系统工具：</p>\n<ul>\n<li><strong>时钟、日历、健康、录音</strong></li>\n<li>时钟和日历代表了时间，而且在iOS中图标是动态的，基本就把它们绑在一起了。后面则是健康，时刻提醒自己，珍惜时间和注意健康。录音可以算是下面一行溢出的一个工具，正好补上第二行的空缺，很少用。<br><br></li>\n</ul>\n<p>第三行，效率工具：</p>\n<ul>\n<li><strong>备忘录、Soulver、极光词典、微信阅读</strong></li>\n<li>备忘录是笔记（文字），代替了之前用的印象笔记；Soulver是限免时候收的计算器（数学），草稿纸型式，并且更新频繁，iOS自带计算器太弱；极光词典能够调用iOS自带的词典（英语），跟Mac上的词典可以对应上。微信阅读作为我的阅读工具，书籍是人类进步的阶梯。<br><br></li>\n</ul>\n<p>第四行，天气交通：</p>\n<ul>\n<li><strong>天气、地图、百度地图、播客</strong></li>\n<li>自带天气还行，基本的都有；多次被导航坑过之后，地图不能吊死在一棵树上，必须用2个以备不时之需，iOS地图调用的高德数据，再辅以百度地图，完美；播客用于听新闻和故事。在纵向上跟上面的微信读书和下面的QQ音乐也有某种分类。<br><br></li>\n</ul>\n<p>第五行，多媒体：</p>\n<ul>\n<li><strong>相机、Foodie、照片、QQ音乐</strong></li>\n<li>自带相机，启动快，拍照快；Foodie，滤镜好看，直男给照片加个Foodie滤镜基本就很“够看”了；照片开启iCloud，数据不丢失，统一管理，跟Mac联动很爽；QQ音乐，生活不能没有音乐，版权多。<br><br></li>\n</ul>\n<p>第六行，社区，闲来无事，就在这上面泡着。位置靠近下面，常用程度仅次于Dock栏：</p>\n<ul>\n<li><a href=\"https://twitter.com/\" target=\"_blank\" rel=\"noopener\"><strong>Twitter</strong></a>，兼听则明，自言自语</li>\n<li><a href=\"https://www.douyin.com\" target=\"_blank\" rel=\"noopener\"><strong>抖音</strong></a>，娱乐轻松</li>\n<li><a href=\"https://www.bilibili.com\" target=\"_blank\" rel=\"noopener\"><strong>B站</strong></a>，看视频</li>\n<li><a href=\"https://www.douban.com\" target=\"_blank\" rel=\"noopener\"><strong>豆瓣</strong></a>，记录影视和书籍</li>\n</ul>\n<p><strong>次页</strong>，有国企，生活，办公，视频，阅读等等工具，不再一一介绍。</p>\n<p><strong>三页</strong>，游戏。<br><br></p>\n<p>最后，我iPhone的图标排序跟Mac也有某些联系，强迫症的“杰作”。🤓</p>\n<p>最最后，通篇看下来，<strong>我是真的穷</strong>🤭，也是真的简单。</p>\n<p><a href=\"https://github.com/ykqmain/Config\" target=\"_blank\" rel=\"noopener\"><strong><font color=\"#FFC0CB\">myConfig</font></strong></a></p>\n<p><br><br></p>\n<h2 id=\"推荐一件生活中的利器给大家\"><a href=\"#推荐一件生活中的利器给大家\" class=\"headerlink\" title=\"推荐一件生活中的利器给大家\"></a>推荐一件生活中的利器给大家</h2><p>关于<strong>中性笔</strong>，一直在寻找一款合适的，</p>\n<p>体验了网上推荐的<code>百乐 p500，G1，hi-tec</code>，<code>三菱 151</code>以后，</p>\n<p>还是觉得以前用过的<code>晨光 金钻007</code>比较好。</p>\n<p><br><br></p>\n","categories":["计算机"],"tags":["Apple","Mac","macOS","软件","工具","Software","APP"]},{"title":"滕王阁序","url":"https://blog.ykqmain.com/twgx/","content":"<blockquote>\n<p>作者：【唐】王勃（约650年～约676年），字子安，古绛州龙门（今山西河津）人。</p>\n</blockquote>\n<p><br></p>\n<p>豫章故郡，洪都新府。星分翼轸，地接衡庐。襟三江而带五湖，控蛮荆而引瓯越。物华天宝，龙光射牛斗之墟；人杰地灵，徐孺下陈蕃之榻。雄州雾列，俊采星驰。台隍枕夷夏之交，宾主尽东南之美。都督阎公之雅望，棨戟遥临；宇文新州之懿范，襜帷暂驻。十旬休假，胜友如云；千里逢迎，高朋满座。腾蛟起凤，孟学士之词宗；紫电青霜，王将军之武库。家君作宰，路出名区；童子何知，躬逢胜饯。</p>\n<p>时维九月，序属三秋。潦水尽而寒潭清，烟光凝而暮山紫。俨骖騑于上路，访风景于崇阿；临帝子之长洲，得天人之旧馆。层峦耸翠，上出重霄；飞阁流丹，下临无地。鹤汀凫渚，穷岛屿之萦回；桂殿兰宫，即冈峦之体势。</p>\n<p>披绣闼，俯雕甍，山原旷其盈视，川泽纡其骇瞩。闾阎扑地，钟鸣鼎食之家；舸舰弥津，青雀黄龙之舳。云销雨霁，彩彻区明。<strong>落霞与孤鹜齐飞，秋水共长天一色。渔舟唱晚，响穷彭蠡之滨；雁阵惊寒，声断衡阳之浦。</strong></p>\n<p>遥襟甫畅，逸兴遄飞。爽籁发而清风生，纤歌凝而白云遏。睢园绿竹，气凌彭泽之樽；邺水朱华，光照临川之笔。<strong>四美具，二难并。</strong>穷睇眄于中天，极娱游于暇日。<strong>天高地迥，觉宇宙之无穷；兴尽悲来，识盈虚之有数。</strong>望长安于日下，目吴会于云间。地势极而南溟深，天柱高而北辰远。<strong>关山难越，谁悲失路之人？萍水相逢，尽是他乡之客。</strong>怀帝阍而不见，奉宣室以何年？</p>\n<p>嗟乎！<strong>时运不齐，命途多舛。</strong>冯唐易老，李广难封。屈贾谊于长沙，非无圣主；窜梁鸿于海曲，岂乏明时？所赖君子见机，达人知命。<strong>老当益壮，宁移白首之心？穷且益坚，不坠青云之志。</strong>酌贪泉而觉爽，处涸辙以犹欢。北海虽赊，扶摇可接；东隅已逝，桑榆非晚。孟尝高洁，空余报国之情；阮籍猖狂，岂效穷途之哭！</p>\n<p>勃，三尺微命，一介书生。无路请缨，等终军之弱冠；有怀投笔，慕宗悫之长风。舍簪笏于百龄，奉晨昏于万里。非谢家之宝树，接孟氏之芳邻。他日趋庭，叨陪鲤对；今兹捧袂，喜托龙门。杨意不逢，抚凌云而自惜；钟期既遇，奏流水以何惭？</p>\n<p>呜乎！<strong>胜地不常，盛筵难再；兰亭已矣，梓泽丘墟。</strong>临别赠言，幸承恩于伟饯；登高作赋，是所望于群公。敢竭鄙怀，恭疏短引；一言均赋，四韵俱成。请洒潘江，各倾陆海云尔：</p>\n<p>滕王高阁临江渚，佩玉鸣鸾罢歌舞。<br>画栋朝飞南浦云，珠帘暮卷西山雨。<br><strong>闲云潭影日悠悠，物换星移几度秋。</strong><br>阁中帝子今何在？槛外长江空自流。</p>\n<p><br><br></p>\n","categories":["其他"],"tags":["经典","唐朝","辞赋","骈文","美景","抒情","怀古","励志"]},{"title":"hexo搭建博客","url":"https://blog.ykqmain.com/hexo/","content":"<p>用了很多博客工具，最后选择了hexo，去除多余的功能，借助Markdown写作，专注内容。</p>\n<p><br></p>\n<h3 id=\"hexo环境搭建\"><a href=\"#hexo环境搭建\" class=\"headerlink\" title=\"hexo环境搭建\"></a>hexo环境搭建</h3><ol>\n<li><p>安装Git</p>\n</li>\n<li><p>安装Node.Js</p>\n<p><a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"noopener\">Node.Js官网</a></p>\n</li>\n<li><p>安装Hexo</p>\n<a id=\"more\"></a>\n<p><a href=\"https://hexo.io\" target=\"_blank\" rel=\"noopener\">Hexo官网</a></p>\n<ol>\n<li><p>打开终端，输入<code>npm install hexo-cli -g</code>，静静等待安装完毕。<br>(权限问题，<code>sudo chown -R $(whoami) /usr/local/lib/node_modules</code>)</p>\n</li>\n<li><p>创建Hexo目录</p>\n<p>找一个方便的地方创建一个文件夹，假设命名为<code>Blog</code></p>\n<p> (<strong>注:你以后的博客操作都在这个文件夹内，尽量全英文路径，避免不必要的问题，建议你创建这个文件夹的快捷方式到桌面，方便操作</strong>)</p>\n</li>\n<li><p>用<code>cd</code> 命令进入 刚刚创建的<code>Blog</code> 目录，输入 <code>hexo init</code></p>\n</li>\n<li><p>等待完成后输入 <code>npm install</code></p>\n</li>\n<li><p>等待完成后输入 <code>npm install hexo-server --save</code></p>\n</li>\n<li><p>等待完成后输入 <code>npm install hexo-deployer-git --save</code></p>\n<p>RSS订阅：</p>\n<p><code>npm install hexo-generator-feed --save</code></p>\n<figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">feed:</span><br><span class=\"line\">  <span class=\"keyword\">type</span>: atom</span><br><span class=\"line\">  path: atom.<span class=\"built_in\">xml</span></span><br><span class=\"line\">  limit: <span class=\"literal\">false</span> #Maximum number of posts <span class=\"keyword\">in</span> the feed (Use <span class=\"number\">0</span> <span class=\"literal\">or</span> <span class=\"literal\">false</span> <span class=\"keyword\">to</span> show <span class=\"literal\">all</span> posts)</span><br><span class=\"line\">  hub:</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p>站点地图插件：</p>\n<p><code>npm install hexo-generator-sitemap --save</code></p>\n<p><code>npm install hexo-generator-baidu-sitemap --save</code></p>\n<p>搜索：</p>\n<p><code>npm install hexo-search --save</code></p>\n</li>\n<li><p>至此，hexo环境就已经搭建好了</p>\n</li>\n</ol>\n</li>\n</ol>\n<p><br></p>\n<h3 id=\"创建Github仓库\"><a href=\"#创建Github仓库\" class=\"headerlink\" title=\"创建Github仓库\"></a>创建Github仓库</h3><p>hexo建博客，不一定要Github，但是一般部署在Github上，这里就以Github为例。</p>\n<ol>\n<li><p>生成<code>ssh keys</code>，请参考<a href=\"https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/\" target=\"_blank\" rel=\"noopener\">Generating a new SSH key</a> 或者 <a href=\"http://git-scm.com/book/zh/v2/服务器上的-Git-生成-SSH-公钥\" target=\"_blank\" rel=\"noopener\">Git-生成-SSH-公钥</a> （这个很重要）</p>\n</li>\n<li><p>Mac生成的<code>ssh key</code> 在 <code>~/.ssh/</code>下，复制<code>id_rsa.pub</code>内容，粘贴到GitHub的网站的<code>Settings - SSH and GPG keys</code>中</p>\n</li>\n<li><p>测试ssh，<code>ssh -T git@github.com</code></p>\n</li>\n<li><p>查看用户信息</p>\n<p><code>git config --list</code></p>\n</li>\n<li><p>回到Github首页，点击”New repository”，新建一个库。</p>\n</li>\n<li><p>输入Repository name: <code>yourname.github.io</code> (yourname与你的注册用户名一致,这个就是你博客的域名了，一定要连后面github.io输入完整) ，其它设置默认，创建。</p>\n</li>\n<li><p>点击刚刚的库，找到<code>Setting</code> ，进入设置，点击<code>Launch automatic page generator</code> ，点击底部的<code>Continue to layouts</code></p>\n</li>\n<li><p>随意选择一个主题，最后点击<code>Publish page</code> ，发布github默认生成的一个静态站点 。</p>\n</li>\n<li><p>至此，Github上的操作就完成了。</p>\n</li>\n</ol>\n<p><br></p>\n<h3 id=\"博客配置\"><a href=\"#博客配置\" class=\"headerlink\" title=\"博客配置\"></a>博客配置</h3><p>进入本地的<code>blog</code> 文件夹，这里简述重要文件(夹)的作用。</p>\n<table>\n<thead>\n<tr>\n<th>文件名</th>\n<th style=\"text-align:center\"></th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>_config.yml</td>\n<td style=\"text-align:center\">———</td>\n<td>配置文件</td>\n</tr>\n<tr>\n<td>source</td>\n<td style=\"text-align:center\">———</td>\n<td>博客的文章</td>\n</tr>\n<tr>\n<td>themes</td>\n<td style=\"text-align:center\">———</td>\n<td>主题</td>\n</tr>\n</tbody>\n</table>\n<p><br></p>\n<p>博客的配置，就是配置<code>_config.yml</code> 文件，用编辑器打开。</p>\n<p>（注意：本文件的配置，冒号后面的空格不可删除，比如<code>title: 博客名字</code>，这里冒号后面有一个空格，如果没有空格会报错）</p>\n<p>以下是需要配置的，其余默认即可。</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">title</span>: 博客名字</span><br><span class=\"line\"><span class=\"attribute\">subtitle</span>: 副标题</span><br><span class=\"line\"><span class=\"attribute\">description</span>: 博客描述</span><br><span class=\"line\"><span class=\"attribute\">author</span>: 作者</span><br><span class=\"line\"><span class=\"attribute\">language</span>: 语言(中文就填 zh-CN)</span><br><span class=\"line\"><span class=\"attribute\">timezone</span>: 时区(不填写，则会根据你的系统时间确定)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">url</span>: 博客网址(http://XXXXXX)</span><br><span class=\"line\"><span class=\"attribute\">permalink</span>: 永久链接格式(参考https://hexo.io/zh-cn/docs/permalinks.html)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">per_page</span>: 10 //每页的文章数</span><br><span class=\"line\"></span><br><span class=\"line\">#站点地图</span><br><span class=\"line\"><span class=\"attribute\">sitemap:</span></span><br><span class=\"line\">  path: sitemap.xml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">baidusitemap:</span></span><br><span class=\"line\">  path: baidusitemap.xml</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">theme</span>: 主题名字(在themes文件夹下面的文件夹名)</span><br><span class=\"line\"></span><br><span class=\"line\">（下面的2个yourname换成你的Github用户名，其余不变）</span><br><span class=\"line\"><span class=\"attribute\">deploy:</span></span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  <span class=\"attribute\">repository</span>: https://github.com/yourname/yourname.github.io</span><br><span class=\"line\">  <span class=\"attribute\">branch</span>: master</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<h3 id=\"应用主题\"><a href=\"#应用主题\" class=\"headerlink\" title=\"应用主题\"></a>应用主题</h3><ol>\n<li>自己写主题或者下载主题到 <code>blog</code> &gt; <code>themes</code> 文件夹下，主题是一个文件夹，假设名字为 <code>name</code> , 将 <code>blog</code> 下面的 <code>_config.yml</code> 文件里面的<code>theme:</code> 后面写<code>name</code> 即可应用主题。</li>\n<li>一般主题文件夹里面还会有一个<code>_config.yml</code> 文件，这是主题的配置，如何配置请阅读各主题的 <code>README.md</code> 。</li>\n</ol>\n<p><br></p>\n<h3 id=\"绑定域名\"><a href=\"#绑定域名\" class=\"headerlink\" title=\"绑定域名\"></a>绑定域名</h3><ol>\n<li>假设你的域名为 <code>blog.abc.com</code> ,新建一个名为 <code>CNAME</code> 的文件，内容为 <code>blog.abc.com</code> ，<strong>不要有任何文件后缀</strong> 。放到 <code>blog</code> &gt; <code>source</code> 下面，以后不要删除。</li>\n<li>然后到你的DNS解析处，新建 <code>CNAME</code> 解析，主机记录为<code>blog</code> ,记录值为 <code>yourname.github.io</code>  。解析生效后可以通过 <code>blog.abc.com</code> 访问你的博客了。</li>\n</ol>\n<p><br></p>\n<h3 id=\"写博客\"><a href=\"#写博客\" class=\"headerlink\" title=\"写博客\"></a>写博客</h3><p>进入，<code>blog</code> &gt; <code>source</code> &gt; <code>_posts</code> ，创建 <code>.md</code> 的文件，你的所有文章都将放在这个文件夹下，并且都为.md （或者 .html） 文件。</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">id</span>: 文章ID (可选)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">title</span>: 博客标题</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">date</span>: 2016-00-00 (时间的格式，中间是短横线)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">categories</span>: 分类</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">tags</span>: 标签(多标签)</span><br><span class=\"line\">- 1</span><br><span class=\"line\">- 2</span><br><span class=\"line\"></span><br><span class=\"line\">--- (分割线必不可少)</span><br><span class=\"line\"></span><br><span class=\"line\">\t博客正文</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<p><strong>更多：</strong></p>\n<ul>\n<li>写博客需要遵循<code>Markdown语法</code>，Markdown兼容部分html语法。Markdown语法有不同的标准，常用的是GitHub标准(GitHub Flavored Markdown)，简称 <a href=\"https://help.github.com/categories/writing-on-github/\" target=\"_blank\" rel=\"noopener\">GFM</a></li>\n<li>用<code>&lt;!--more--&gt;</code> 表示截断，前面的内容会变成预览</li>\n<li>用<code>&lt;br&gt;</code> 增加换行</li>\n</ul>\n<p><br></p>\n<h3 id=\"部署博客\"><a href=\"#部署博客\" class=\"headerlink\" title=\"部署博客\"></a>部署博客</h3><p>每次写完博客把文件扔到<code>_posts</code>文件夹里面，就该部署了，很容易的四条命令。</p>\n<p>首先打开终端（cmd），cd到<code>blog</code> 文件夹（<strong>注意：cd到 <code>blog</code> 即可</strong>）</p>\n<ul>\n<li><code>hexo clean</code>  清理缓存</li>\n<li><code>hexo g</code>  在本地生成静态页面</li>\n<li><code>hexo s</code> 本地预览（默认端口4000，复制 <code>http://0.0.0.0:4000</code> （或<code>http://localhost:4000</code>）到浏览器可以预览效果， <code>Ctrl + c</code> 关闭server）</li>\n</ul>\n<p>到这里你还可以修改，最后一步</p>\n<ul>\n<li><code>hexo d</code>  部署，完成</li>\n</ul>\n<p><strong>注意：</strong></p>\n<ul>\n<li>每次<code>hexo d</code> 之前，必须 <code>hexo g</code> 。这两个是写完博客之后必须用的命令，这两个命令可以合并为<code>hexo d -g</code>。</li>\n<li><code>hexo clean</code> 和 <code>hexo s</code> 是可选命令。</li>\n</ul>\n<p><br></p>\n<h3 id=\"更新博客\"><a href=\"#更新博客\" class=\"headerlink\" title=\"更新博客\"></a>更新博客</h3><p>写完Markdown，扔<code>_posts</code> 里面，打开终端，cd到<code>blog</code> ， <code>hexo d -g</code>。</p>\n<p><br></p>\n<h3 id=\"重装／切换-系统\"><a href=\"#重装／切换-系统\" class=\"headerlink\" title=\"重装／切换 系统\"></a>重装／切换 系统</h3><ol>\n<li><p>备份 <code>Blog</code> 文件夹。(没有备份则需要重新生成)</p>\n</li>\n<li><p>在 新系统 中安装 Node.Js，<a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"noopener\">Node.Js官网</a></p>\n</li>\n<li><p>打开终端，输入<code>npm install hexo-cli -g</code></p>\n</li>\n<li><p>仓库的<code>Branch protection for master</code>问题</p>\n</li>\n</ol>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>Hexo报错，<code>(node:2416) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</code></p>\n<p>因为node.js从8.0开始就已经弃用了前面提到的fs.SyncWriteStream方法，</p>\n<p>在Hexo博客目录下，输入：<code>npm install hexo-fs --save</code></p>\n<p><br></p>\n<p><strong>【注】</strong> 如果GitHub开启了两步验证，则需要生成一个<code>personal access token</code>来代替密码，具体参考 <a href=\"https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\" target=\"_blank\" rel=\"noopener\">Creating a personal access token for the command line</a></p>\n<p><strong>Enjoy it~</strong></p>\n<p>≖‿≖✧</p>\n<p><br><br></p>\n","categories":["网络"],"tags":["blog","hexo","GitHub","Markdown"]},{"title":"第一个网页","url":"https://blog.ykqmain.com/hello/","content":"<p>假设已经拥有了一台服务器（<strong>系统为centOS 6</strong>），需要知道你的 IP、端口（SSH Port）、密码。</p>\n<ul>\n<li>打开<code>终端</code>，登录的你的服务器：<code>ssh -p 端口 root@IP</code></li>\n</ul>\n<ul>\n<li>输入密码</li>\n</ul>\n<a id=\"more\"></a>\n<p><br></p>\n<h2 id=\"安装Apache\"><a href=\"#安装Apache\" class=\"headerlink\" title=\"安装Apache\"></a>安装Apache</h2><ol>\n<li><p>安装方式</p>\n<p>CentOS安装Apache服务可以有两种方式，一种是用yum安装，一种是从官网下载源代码进行安装。这里使用yum安装。</p>\n</li>\n<li><p>输入<code>sudo yum install httpd -y</code></p>\n<p>（采用该方式进行安装配置文件的默认路径为：<code>/etc/httpd/conf/httpd.conf</code>）</p>\n</li>\n<li><p>编辑配置文件，输入<code>vi /etc/httpd/conf/httpd.conf</code></p>\n</li>\n<li><p>找到如下内容<code>#ServerName www.example.com:80</code>，改为<code>ServerName localhost:80</code></p>\n</li>\n<li><p>重启一下Apache，<code>service httpd restart</code>即可。</p>\n<p>常见Apache操作：</p>\n<ul>\n<li><code>service httpd start</code> 启动</li>\n<li><code>service httpd stop</code> 停止</li>\n<li><code>service httpd restart</code> 重启</li>\n<li><code>service httpd status</code>  状态</li>\n</ul>\n</li>\n<li><p>测试是否安装成功，在本地的浏览器中输入<code>http://IP</code> ，如果出现 <code>Apache 2 Test Page powered by CentOS</code>，说明成功。</p>\n<p>如果出现错误，那就可能是iptables的问题：</p>\n<p>编辑 iptables配置，<code>vi /etc/sysconfig/iptables</code> ，</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-A INPUT -m <span class=\"keyword\">state</span> --state NEW -m tcp -p tcp --dport <span class=\"number\">80</span> -j ACCEPT</span><br><span class=\"line\">-A INPUT -m <span class=\"keyword\">state</span> --state NEW -m tcp -p tcp --dport <span class=\"number\">443</span> -j ACCEPT</span><br></pre></td></tr></table></figure>\n<p>然后重启iptables、Apache。</p>\n<p>常见iptables操作：</p>\n<ul>\n<li><code>service iptables status</code> 查看当前规则</li>\n<li><code>service iptables restart</code> 重启</li>\n<li><code>service iptables stop</code> 禁用</li>\n</ul>\n<p>​</p>\n</li>\n</ol>\n<p><strong>最后设置Apache开机自启 <code>chkconfig iptables on</code></strong></p>\n<p><br></p>\n<p>//参考：<a href=\"http://www.linuxidc.com/Linux/2014-01/95256.htm\" target=\"_blank\" rel=\"noopener\">CentOS Apache服务器安装与配置</a></p>\n<p><br></p>\n<h2 id=\"安装MySQL\"><a href=\"#安装MySQL\" class=\"headerlink\" title=\"安装MySQL\"></a>安装MySQL</h2><ol>\n<li><p>安装方式</p>\n<p>仍然是通过yum安装，查看版本信息<code>yum list | grep mysql</code> ，安装<code>yum install -y mysql-server mysql mysql-deve</code> ，查看安装好的版本<code>rpm -qi mysql-server</code> 。</p>\n</li>\n<li><p>通过<code>service mysqld start</code> 命令启动mysql服务。</p>\n</li>\n<li><p>第一次会提示很多信息，重启mysql <code>service mysqld restart</code></p>\n</li>\n<li><p><strong>最后设置MySQL开机自启 <code>chkconfig mysqld on</code></strong></p>\n<p>（配置文件在 <code>/etc/my.cnf</code>）</p>\n<p>常见操作：</p>\n<p><strong>首先需要输入<code>mysql</code></strong></p>\n<ul>\n<li><code>select now();</code> 查时间</li>\n<li><code>select user();</code> 查当前用户</li>\n<li><code>select database();</code> 查当前使用的数据库</li>\n<li><code>show databases;</code> 查所有数据库名</li>\n<li><code>create database NAME;</code> 创建一个名为NAME的数据库</li>\n<li><code>drop database NAME;</code> 删除一个名为NAME的数据库</li>\n</ul>\n<p><strong>退出mysql需要用<code>quit;</code>命令</strong></p>\n</li>\n</ol>\n<p><br></p>\n<h2 id=\"安装PHP\"><a href=\"#安装PHP\" class=\"headerlink\" title=\"安装PHP\"></a>安装PHP</h2><ol>\n<li><p>安装方式</p>\n<p><code>yum install php php-devel</code></p>\n</li>\n<li><p>重启Apache，<code>service httpd restart</code></p>\n</li>\n<li><p>此时，这个目录<code>/var/www/html</code>就成了网站根目录</p>\n</li>\n</ol>\n<p><em>至此，LAMP环境(Linux+Apache+Mysql/MariaDB+Perl/PHP/Python)就基本安装完成了。</em></p>\n<p><br></p>\n<hr>\n<p><br></p>\n<p>​回到本地，编辑（或创建）一个名为 <code>index.html</code> 的文件（貌似 <code>index.php</code>也是可以的），这个HTML文件就是你的首页。html中的多媒体的路径要用<strong>服务器上的相对路径</strong>或者<strong>外链</strong>。</p>\n<p>将这个<code>index.html</code>送到服务器上的<code>/var/www/html</code>目录下即可，在本地和服务器传文件有无数种方法，比如：scp、ftp、sftp…</p>\n<p><br></p>\n<h2 id=\"这里说明scp的方法：\"><a href=\"#这里说明scp的方法：\" class=\"headerlink\" title=\"这里说明scp的方法：\"></a>这里说明scp的方法：</h2><ol>\n<li><p>打开<code>终端</code></p>\n</li>\n<li><p>用scp命令传送文件（此时是不需要登录服务器的），<code>scp -P 端口 本地文件路径 root@IP:服务器路径</code></p>\n<p>比如，我的 index.html文件在桌面，那么就是<code>scp -P 端口 /Users/Yang/Desktop/index.html root@IP:/var/www/html</code></p>\n</li>\n<li><p>输入服务器密码</p>\n</li>\n<li><p>在浏览器输入你的服务器IP就可以看到最新成果！！！</p>\n<p>（如果有域名且进行了DNS解析，可以输入域名）</p>\n</li>\n</ol>\n<p><strong>注：</strong></p>\n<ol>\n<li><p>scp命令可以反过来用（两个路径的位置对调），即从服务器传文件到本地</p>\n</li>\n<li><ul>\n<li><p>你可以将<code>root@IP:服务器路径</code> 这里的路径改为服务器的根目录，然后通过</p>\n</li>\n<li><p><code>cd（进入某文件夹），mv（移动），cp（复制），rm（删除），ls（显示当前目录下的文件)，pwd（显示当前目录的路径），mkdir（创建文件夹）</code>等linux命令，移动你上传的文件。</p>\n</li>\n<li><p>如果你将一个html文件移动到<code>/var/www/html</code>下面，它将成为你网站的首页。</p>\n</li>\n</ul>\n</li>\n<li><ul>\n<li><p>假设你的域名 “abc.com” 已经解析，那么 浏览器上的 ”abc.com” 即是 服务器上 <code>/var/www/html</code> 下html的内容。</p>\n</li>\n<li><p>如果你在  <code>/var/www/html</code> 里创建一个名为 “web”的文件夹，并且在里面存有一个名为 “1.jpg”的文件，那么在浏览器中将可以通过 “abc.com/web/1.jpg” 来访问你的那张图片。</p>\n</li>\n</ul>\n</li>\n<li><ul>\n<li><p>如果你需要修改网页的内容，只需要修改对应目录下的对应文件的内容</p>\n</li>\n<li><p>你可以直接在服务器上，用Vim修改文件</p>\n</li>\n<li><p>你可以用ssh登录服务器，在本地编辑好文件（毕竟本地的编辑器好用），全选，复制，用Vim打开对应文件，清空，粘贴，保存退出。</p>\n</li>\n<li><p>你可以在本地编辑好文件，直接上传文件到对应目录直接覆盖原文件。</p>\n</li>\n</ul>\n</li>\n</ol>\n<p><br></p>\n<p><strong>Enjoy it!</strong></p>\n<p><br><br></p>\n","categories":["网络"],"tags":["Linux","服务器","Apache","Web"]},{"title":"TimeLine","url":"https://blog.ykqmain.com/time/","content":"<h2 id=\"1996\"><a href=\"#1996\" class=\"headerlink\" title=\"# 1996\"></a># 1996</h2><p>出生于「长江」之北的南方人。<br><br></p>\n<h2 id=\"童年时代（20世纪末～2008）\"><a href=\"#童年时代（20世纪末～2008）\" class=\"headerlink\" title=\"# 童年时代（20世纪末～2008）\"></a># 童年时代（20世纪末～2008）</h2><p>父母上东北打工，寄居镇上姑妈家，留守儿童。</p>\n<ul>\n<li>童年动画群星璀璨，数不胜数，<u><strong>动画爱好者</strong></u></li>\n<li><strong>红色警戒2</strong>打开了我计算机的大门</li>\n<li>拥有第一个QQ号，折腾QQ空间<br><br></li>\n</ul>\n<h2 id=\"少年时代（2008～2014）\"><a href=\"#少年时代（2008～2014）\" class=\"headerlink\" title=\"# 少年时代（2008～2014）\"></a># 少年时代（2008～2014）</h2><p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/wqwz.jpg\" alt=\"\"></p>\n<ul>\n<li>《网球王子》，少年的开端，青春的代名词</li>\n<li>春秋战国，诸子百家。<u><strong>历史爱好者</strong></u></li>\n<li>家里拥有了第一台台式电脑（联想）</li>\n<li>折腾各种邮箱，Yahoo邮箱、Sina邮箱、Sohu邮箱<br><br></li>\n<li><p>第一次接触C语言，</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;stdio.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">printf</span>(<span class=\"string\">\"Hello, C...\\n\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>桃文</strong>，一个梦</p>\n</li>\n<li>初步了解<strong>孟子</strong>，至今最崇拜的人</li>\n<li>喜欢<strong>古诗文</strong><br><br></li>\n</ul>\n<p><strong>2014.01.01</strong></p>\n<p>「只是在我心中还有一方净土，即使在别人眼里寸草不生，却始终一尘不染。」<br><br></p>\n<p><strong>2014.03.21</strong></p>\n<p>又见春分，桃花文艺，三周年。<br><br></p>\n<p><strong>2014.04.01</strong></p>\n<p>小学是一个班的小学，<br>初中是一群人的初中，<br>高中是几个人的高中，<br>…………<br>我想，大学应该是一个人的大学。<br>谁走进我的生命，由命运决定，<br>谁停留在我的生命中，由我自己决定。<br><br></p>\n<p><strong>2014.04.01</strong></p>\n<p>我深知前人内心的孤独与苦闷，然而我的内心，也只有由后人去体会了。<br>「所以隐忍苟活，幽于粪土之中而不辞者，恨私心有所不尽，鄙陋没世，而文采不表于后世也。」<br>惟愿留下一部传世之作，让它在未来的某一天被后人欣赏，然后再梦游来天上与孤独的我谈心吧，也不枉此生了。<br><br></p>\n<ul>\n<li>《未闻花名》，少年的句号。</li>\n</ul>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/wwhm.jpg!xsy\" alt=\"\"><br><br></p>\n<h2 id=\"青年时代（2014～）\"><a href=\"#青年时代（2014～）\" class=\"headerlink\" title=\"# 青年时代（2014～）\"></a># 青年时代（2014～）</h2><p><strong>2014.07.10</strong></p>\n<p><strong>Anna</strong>，第一台笔记本电脑（联想）</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/anna_win8.jpg!xsy\" alt=\"\"><br><br></p>\n<p><strong>2015.02.05</strong></p>\n<p>「这条说说来自Anna上的Linux Ubuntu的Firefox……」<br>初次接触Linux，折腾Ubuntu，浏览器全面转向Firefox，遇到韦诺之战(The Battle for Wesnoth)。<br><br></p>\n<p><strong>2015.02.11</strong></p>\n<p>拿到C1驾照<br><br></p>\n<p><strong>2015.03.05</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/nana_6.jpg!sy\" width=\"480\"></p>\n<p>第一部iPhone 6，取名Nana，开启Apple之门。<br>启用iCloud照片，<strong>以图片记录生活，时间线清晰。</strong><br><br></p>\n<p><strong>2015.05.11</strong></p>\n<p>上传到B站的第一个视频，<a href=\"https://www.bilibili.com/video/av2316078\" target=\"_blank\" rel=\"noopener\">【未闻花名】secret base~你给我的所有~(混合版)</a></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/secretbase.jpg\" alt=\"\"><br><br></p>\n<p><strong>2015.07.06</strong></p>\n<p>启用新头像<br><br></p>\n<p><strong>2015.8.16</strong></p>\n<p>第一台 MacBook Pro (2015)，仍叫 <strong>“Anna”</strong></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/anna2.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2015.11.20</strong></p>\n<p>第一台VPS<br>重访Google (初中Google还在，之后就是hosts访问，再后来就是SS了)<br>开启Twitter之旅</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/twitter.jpg!xsy\" alt=\"\"><br><br></p>\n<p><strong>2015.11.21</strong></p>\n<p>写第一个网页 <del><code>ianna.xyz</code></del><br><br></p>\n<p><strong>2015.11.25</strong></p>\n<p>萌生写博客的想法，于是立即动手，用 <a href=\"https://wordpress.org\" target=\"_blank\" rel=\"noopener\">WordPress</a> 搭建第一个博客 <del><code>blog.ianna.xyz</code></del><br>取名<strong>iAnna</strong>，源自我的电脑名字Anna。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/iAnna1.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2015.11.29</strong></p>\n<p><strong>废寝忘食</strong>折腾了几天WordPress，觉得应该专注内容，又了解到Hexo，于是把Blog迁移到 <a href=\"https://hexo.io\" target=\"_blank\" rel=\"noopener\">Hexo</a></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/iAnna2.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2015.12.20</strong></p>\n<p>购买新域名 <code>ykqmain.com</code>，稳定下来。<br>启用域名邮箱，<a href=\"mailto:i@ykqmain.com\" target=\"_blank\" rel=\"noopener\">i@ykqmain.com</a><br>正式开启博客记录之旅。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/iAnna3.jpg!sy\" alt=\"\"><br><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/iAnna4.jpg!sy\" alt=\"\"><br><br></p>\n<p><strong>2016.11.19</strong></p>\n<blockquote>\n<p>总有一天，你回过头来看看，<br>你就会发现，<br>你的每个经历、每次错误、每次失败，<br>都帮助你走向了——<br>你应该成为的那个人。</p>\n</blockquote>\n<p><br></p>\n<p><strong>2016.11.26</strong></p>\n<p><strong>婧玉</strong><br><br></p>\n<p><strong>@ Now</strong></p>\n<p>查看<strong><a href=\"https://blog.ykqmain.com/archives/\" target=\"_blank\">我的博客</a></strong>。</p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/iAnna.jpg!sy\" alt=\"\"></p>\n<p><mark><em><strong>Update: 2020.03.27</strong></em></mark></p>\n<p><em>To be continued…</em></p>\n<p><br></p>\n<p><img src=\"https://ianna.oss-cn-hangzhou.aliyuncs.com/time/qingyuan.jpg!xsy\" alt=\"\"></p>\n<p><br><br></p>\n","categories":["其他"],"tags":["Blog","回忆","童年","少年","青年","人生"]},{"title":"诗词两首","url":"https://blog.ykqmain.com/shici/","content":"<blockquote>\n<p>三年倾尽求学路。风雪漫，举微步。</p>\n<p>一千日夜谁与度？</p>\n<p>春兰秋菊，夕阳残月，语数英理促。</p>\n<p><br></p>\n<p>奇文疑义无人叙，子规梧桐不能诉。</p>\n<p>世事变迁归何处？</p>\n<p>文乐相随，佳人携手，桃源渔樵住。</p>\n</blockquote>\n<p><br><br></p>\n<blockquote>\n<p>临窗思卿，黯然自语，往日时光重游。</p>\n<p>红尘繁华，孤僻自持愁。</p>\n<p>十八春秋悠悠，寂流年，痛消伤留。</p>\n<p>看人间，几番迷离，何人解其忧？</p>\n<p><br></p>\n<p>颜俦。</p>\n<p>五年梦，沉鱼落雁，本性娇羞。</p>\n<p>一抹相思苦，鸿雁相求。</p>\n<p>辗转反侧无眠，锦字归，月满西楼。</p>\n<p>佳期待，浮世清欢，看细水长流。</p>\n</blockquote>\n<p><br></p>\n<p><strong>【注】：</strong></p>\n<p>① 因为平仄不严格，所以省略了词牌名，无聊时的慰藉罢了。<br>② 作于2014年。<br>③ 目前仅存的<strong>高中</strong>文章。</p>\n<p><br><br></p>\n","categories":["文章"],"tags":["文章","无聊","诗歌","诗词","高中"]},{"title":"观书有感","url":"https://blog.ykqmain.com/guanshu/","content":"<p>书至，观之。有感而发。</p>\n<p>吾力求美而不美，以松易学，得此，其实不畅也。</p>\n<p>时吾学而不及前，吾忆前之乐而时悲也。</p>\n<p>前，有君子交而谈，日非不谈，事非不谈，人非不谈，史非不谈。谈万而无一不谈，谈之乐非吾不知，非与吾谈不知，非君子不知也。</p>\n<p>前，有君子交而游，日而游于外，事而谈游，前而算游，游之乐非谈不能及也。游集谈与物之乐，忆此乐为乐之极。</p>\n<p>前，有君子交而奉，吾为君，余乃为奉者。虽然，吾亦不权其，而戏于此。吾亦尝其乐而忘吾之忧。</p>\n<p>时，无君子与吾谈，无君子与吾游，亦无君子与吾奉，此趣无以现，我忧亦上心头。</p>\n<p>是故，非君子不知真寂寞也。</p>\n<p>伯牙善鼓琴，钟子期善听。海内定存吾知音，然遥不可及，近无。</p>\n<p>今吾已是束发之年。吾心独我知，我父母不解，我朋不懂，我友亦不全矣。故吾知非我知音不能懂。吾乃千里觅之，然后知千里亦难觅得而又知吾有生得一甚足。知音非善高山流水者不能得也。</p>\n<p>时吾不悦，夜独望月或以书怡情，然少吾愁而心稍悦，非此在今而其他不能。</p>\n<p>吾以为生之于世，不以人言而变，不以难困而变，不以亲戚而变。只因道变，亦为心变。其他变而不变，不变者乃吾知音也。</p>\n<p>伯牙所念，钟子期必得之。吾亦善高山流水者，谁听？</p>\n<p>时月圆，吾能否于时，使高山流水之美见，使其出吾之手，留吾之心？</p>\n<p><br></p>\n<p><strong>【注】：</strong></p>\n<p>① 作于2010年。<br>② 目前仅存的<strong>初中</strong>文章。</p>\n<p><br><br></p>\n","categories":["文章"],"tags":["文章","散文","初中","无聊"]},{"title":"category","url":"https://blog.ykqmain.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"about","url":"https://blog.ykqmain.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"","url":"https://blog.ykqmain.com/css/personal-style.css","content":"@font-face {\n  font-family: \"Meiryo\";\n  src: url(\"/fonts/Meiryo.eot\");\n  /* IE9 */\n  src: url(\"/fonts/Meiryo.eot?#iefix\") format(\"embedded-opentype\"), /* IE6-IE8 */\n  url(\"/fonts/Meiryo.woff\") format(\"woff\"), /* chrome, firefox */\n  url(\"/fonts/Meiryo.ttf\") format(\"truetype\"), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\n  url(\"/fonts/Meiryo.svg#Meiryo\") format(\"svg\");\n  /* iOS 4.1- */\n  font-style: normal;\n  font-weight: normal;\n}\n\nhtml.page-home {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('https://ianna.oss-cn-hangzhou.aliyuncs.com/main/bg.jpg');\n  background-color: transparent;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  /*background: linear-gradient( #1abc9c, transparent), linear-gradient( 90deg, skyblue, transparent), linear-gradient( -90deg, coral, transparent);*/\n  /*background-blend-mode: screen;*/\n  /*background: linear-gradient(to left, #5f2c82, #49a09d);*/\n}","categories":[],"tags":[]},{"title":"link","url":"https://blog.ykqmain.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"https://blog.ykqmain.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"https://blog.ykqmain.com/tag/index.html","content":"","categories":[],"tags":[]}]